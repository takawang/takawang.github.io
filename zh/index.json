[{"content":"SCSS æ˜¯ä¸€ç¨®ç”¨æ–¼ç°¡åŒ–å’Œå¢å¼· CSS çš„èªè¨€ï¼Œå®ƒå…·æœ‰è®Šæ•¸ã€å·¢ç‹€è¦å‰‡ã€æ··å…¥ã€å‡½æ•¸ç­‰åŠŸèƒ½ï¼Œä½¿å¾— CSS æ›´æ˜“æ–¼ç¶­è­·å’Œæ“´å±•ã€‚\n1. å®‰è£ Sass é¦–å…ˆï¼Œç¢ºä¿ä½ çš„é–‹ç™¼ç’°å¢ƒä¸­å·²ç¶“å®‰è£äº† Sassã€‚ä½ å¯ä»¥ä½¿ç”¨ npmï¼ˆNode.js åŒ…ç®¡ç†å™¨ï¼‰ä¾†å®‰è£ Sassï¼š\nnpm install -g sass 2. å‰µå»º SCSS æ–‡ä»¶ åœ¨ä½ çš„å°ˆæ¡ˆä¸­ï¼Œå‰µå»ºä¸€å€‹æ–°çš„ .scss æ–‡ä»¶ï¼Œä¾‹å¦‚ styles.scssã€‚\n3. åŸºæœ¬èªæ³• è®Šæ•¸ (Variable) ğŸ”¥ $primary-color: #3498db; $font-size: 16px; body { color: $primary-color; font-size: $font-size; } å·¢ç‹€è¦å‰‡ (Nested) ğŸ”¥ nav { background: $primary-color; ul { list-style: none; padding: 0; li { display: inline-block; margin-right: 10px; } } } å°æ‡‰çš„ CSS\nnav { background: $primary-color; } nav ul { list-style: none; padding: 0; } nav ul li { display: inline-block; margin-right: 10px; } çˆ¶é¸æ“‡å™¨æˆ–å·¢ç‹€é¸æ“‡å™¨ (Parent Selector) ğŸ”¥ åœ¨ SCSS ä¸­ï¼Œ\u0026amp; ç¬¦è™Ÿè¢«ç¨±ç‚ºâ€œçˆ¶é¸æ“‡å™¨â€ï¼ˆParent Selectorï¼‰æˆ–â€œåµŒå¥—é¸æ“‡å™¨â€ï¼ˆNested Selectorï¼‰ã€‚å®ƒåœ¨ SCSS ä¸­çš„ä¸»è¦ä½œç”¨æ˜¯å¼•ç”¨çˆ¶é¸æ“‡å™¨çš„ä¸Šä¸‹æ–‡ï¼Œä½¿å¾—åœ¨åµŒå¥—çš„æƒ…æ³ä¸‹èƒ½å¤ æ›´éˆæ´»åœ°æ§‹å»ºå’Œç”Ÿæˆ CSSã€‚\nä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è¦‹ç”¨æ³•ï¼š\nåµŒå¥—é¸æ“‡å™¨ï¼š\nnav { background: #333; a { color: #fff; \u0026amp;:hover { text-decoration: underline; } } } å°æ‡‰çš„ CSSï¼š nav { background: #333; } nav a { color: #fff; } nav a:hover { text-decoration: underline; } åœ¨é€™è£¡ï¼Œ\u0026amp; ç”¨æ–¼å¼•ç”¨å…¶ä¸Šä¸‹æ–‡ä¸­çš„çˆ¶é¸æ“‡å™¨ navã€‚\næ“´å±•é¸æ“‡å™¨ï¼š\n.button { background: blue; \u0026amp;.active { background: red; } } å°æ‡‰çš„ CSSï¼š .button { background: blue; } .button.active { background: red; } åœ¨é€™è£¡ï¼Œ\u0026amp; è¢«ç”¨æ–¼åµŒå¥—åœ°æ§‹å»º .button.activeã€‚\næ··å…¥ (Mixin) ğŸ”¥ @mixin border-radius($radius) { -webkit-border-radius: $radius; -moz-border-radius: $radius; border-radius: $radius; } .box { @include border-radius(10px); } å°å…¥ (Import) ğŸ’¡ // _variables.scss $primary-color: #3498db; // styles.scss @import \u0026#34;variables\u0026#34;; body { color: $primary-color; } æ“´å±• (Extend) ğŸ’¡ æ“´å±•æ˜¯ä¸€ç¨® SCSS åŠŸèƒ½ï¼Œå…è¨±ä½ ä½¿ç”¨ä¸€å€‹é¸æ“‡å™¨çš„æ¨£å¼ä¾†æ“´å±•å¦ä¸€å€‹é¸æ“‡å™¨çš„æ¨£å¼ï¼Œé¡ä¼¼æ–¼ CSS ä¸­çš„é¡ã€‚é€™å¯ä»¥æ¸›å°‘ä»£ç¢¼çš„é‡è¤‡ä¸¦æé«˜å¯ç¶­è­·æ€§ã€‚\nSCSS ç¯„ä¾‹\n%button-style { display: inline-block; padding: 10px 20px; font-size: 16px; } .btn-primary { @extend %button-style; background-color: #3498db; color: #fff; } .btn-secondary { @extend %button-style; background-color: #e74c3c; color: #fff; } åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œ%button-style æ˜¯ä¸€å€‹ placeholderï¼Œå®ƒåŒ…å«äº†é€šç”¨çš„æŒ‰éˆ•æ¨£å¼ã€‚ç„¶å¾Œï¼Œbtn-primary å’Œ btn-secondary é€é @extend å°‡é€™äº›é€šç”¨æ¨£å¼æ“´å±•åˆ°å…·é«”çš„æŒ‰éˆ•é¡åˆ¥ä¸­ã€‚\nå°æ‡‰çš„ CSS\n.btn-primary, .btn-secondary { display: inline-block; padding: 10px 20px; font-size: 16px; } .btn-primary { background-color: #3498db; color: #fff; } .btn-secondary { background-color: #e74c3c; color: #fff; } å‡½æ•¸ (Function) SCSS å…è¨±ä½ å®šç¾©å’Œä½¿ç”¨å‡½æ•¸ï¼Œé€™æ¨£ä½ å°±å¯ä»¥æ›´éˆæ´»åœ°è™•ç†æ•¸æ“šå’Œç”Ÿæˆæ¨£å¼ã€‚\nSCSS ç¯„ä¾‹\n@function calculate-width($width, $padding) { @return $width + 2 * $padding; } .container { width: calculate-width(200px, 10px); padding: 10px; } åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œcalculate-width å‡½æ•¸æ¥å—å…©å€‹åƒæ•¸ï¼š$width å’Œ $paddingï¼Œç„¶å¾Œè¿”å›è¨ˆç®—å¾Œçš„å¯¬åº¦ã€‚é€™å€‹å‡½æ•¸è¢«ç”¨æ–¼è¨­ç½® .container å…ƒç´ çš„å¯¬åº¦ã€‚\n4. ç·¨è­¯ SCSS åˆ° CSS åœ¨çµ‚ç«¯æ©Ÿä¸­åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°‡ä½ çš„ SCSS æ–‡ä»¶ç·¨è­¯æˆ CSSï¼š\nsass input.scss output.css æˆ–è€…ï¼Œå¦‚æœä½ æƒ³è¦åœ¨æ¯æ¬¡ä¿å­˜æ–‡ä»¶æ™‚è‡ªå‹•ç·¨è­¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\nsass --watch input.scss:output.css Sass èˆ‡ SCSS èªæ³•å·®ç•° Sassï¼ˆSyntactically Awesome Stylesheetsï¼‰å’Œ SCSSï¼ˆSassy CSSï¼‰éƒ½æ˜¯ CSS é è™•ç†å™¨ï¼Œå®ƒå€‘æä¾›äº†ä¸€äº›é¡å¤–çš„åŠŸèƒ½å’Œèªæ³•ä¾†æ›´æœ‰æ•ˆåœ°ç·¨å¯«å’Œç®¡ç†æ¨£å¼è¡¨ã€‚ä»¥ä¸‹æ˜¯ Sass å’Œ SCSS çš„ä¸»è¦å·®ç•°ï¼š\nèªæ³•å·®ç•°ï¼š Sassï¼š ä½¿ç”¨ç¸®é€²ä¾†è¡¨ç¤ºå€å¡Šå’Œå±¤æ¬¡çµæ§‹ï¼Œä¸¦ä¸”ä¸ä½¿ç”¨åˆ†è™Ÿå’Œå¤§æ‹¬è™Ÿã€‚ä¾‹å¦‚ï¼š\nbody font: 14px/1.4 \u0026#34;Helvetica Neue\u0026#34;, sans-serif color: #333 .container width: 100% margin: 0 auto SCSSï¼š ä½¿ç”¨å¤§æ‹¬è™Ÿè¡¨ç¤ºå€å¡Šå’Œåˆ†è™Ÿä¾†çµæŸæ¯å€‹è²æ˜ï¼Œæ›´æ¥è¿‘å‚³çµ±çš„ CSS èªæ³•ã€‚ä¾‹å¦‚ï¼š\nbody { font: 14px/1.4 \u0026#34;Helvetica Neue\u0026#34;, sans-serif; color: #333; } .container { width: 100%; margin: 0 auto; } æ–‡ä»¶æ“´å±•åï¼š Sassï¼š Sass æ–‡ä»¶ä½¿ç”¨ .sass ä½œç‚ºæ“´å±•åã€‚ SCSSï¼š SCSS æ–‡ä»¶ä½¿ç”¨ .scss ä½œç‚ºæ“´å±•åã€‚ ","permalink":"https://blog2.cmwang.net/zh/posts/2023/12/scss-crash-course/","summary":"SCSS Crash Course","title":"SCSS Crash Course"},{"content":" PDO (PHP Data Objects) is a database access layer providing a uniform method of access to multiple databases. It is a secure and efficient way to interact with databases in PHP.\n1. Connecting to a Database \u0026lt;?php $host = \u0026#39;localhost\u0026#39;; $dbname = \u0026#39;your_database_name\u0026#39;; $username = \u0026#39;your_username\u0026#39;; $password = \u0026#39;your_password\u0026#39;; try { $pdo = new PDO(\u0026#34;mysql:host=$host;dbname=$dbname\u0026#34;, $username, $password); $pdo-\u0026gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); echo \u0026#34;Connected successfully\u0026#34;; } catch (PDOException $e) { echo \u0026#34;Connection failed: \u0026#34; . $e-\u0026gt;getMessage(); } ?\u0026gt; The line $pdo-\u0026gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); sets the error handling mode for PDO. Specifically, it sets PDO to throw exceptions when errors occur.\nPDO::ATTR_ERRMODE: This is an attribute that controls the error reporting mode. PDO::ERRMODE_EXCEPTION: This mode causes PDO to throw exceptions when errors occur, making it easier to handle errors in your code. So, if there\u0026rsquo;s an error in a PDO operation, it will throw an exception, and you can catch that exception to handle errors more gracefully.\n2. Executing Queries SELECT Statement\n$stmt = $pdo-\u0026gt;prepare(\u0026#39;SELECT * FROM your_table_name\u0026#39;); $stmt-\u0026gt;execute(); $result = $stmt-\u0026gt;fetchAll(PDO::FETCH_ASSOC); foreach ($result as $row) { // Process each row as needed echo $row[\u0026#39;column1\u0026#39;] . \u0026#34;\\t\u0026#34; . $row[\u0026#39;column2\u0026#39;] . \u0026#34;\\n\u0026#34;; } fetchAll: This method is used to fetch all rows from the result set returned by a prepared statement. It retrieves all the rows into an array. PDO::FETCH_ASSOC: This is a fetch style constant provided by PDO that specifies the format in which the rows should be fetched. In this case, FETCH_ASSOC indicates that the rows should be fetched as an associative array where the column names are used as keys. INSERT Statement:\n$data = [\u0026#39;value1\u0026#39;, \u0026#39;value2\u0026#39;]; $stmt = $pdo-\u0026gt;prepare(\u0026#39;INSERT INTO your_table_name (column1, column2) VALUES (?, ?)\u0026#39;); $stmt-\u0026gt;execute($data); echo \u0026#34;Data inserted successfully\u0026#34;; UPDATE Statement:\n$newValue = \u0026#39;new_value\u0026#39;; $id = 1; $stmt = $pdo-\u0026gt;prepare(\u0026#39;UPDATE your_table_name SET column1 = ? WHERE id = ?\u0026#39;); $stmt-\u0026gt;execute([$newValue, $id]); echo \u0026#34;Data updated successfully\u0026#34;; DELETE Statement:\n$id = 1; $stmt = $pdo-\u0026gt;prepare(\u0026#39;DELETE FROM your_table_name WHERE id = ?\u0026#39;); $stmt-\u0026gt;execute([$id]); echo \u0026#34;Data deleted successfully\u0026#34;; 3. Prepared Statements and Parameter Binding: Prepared statements help prevent SQL injection by separating SQL code from user input.\n$username = \u0026#39;user\u0026#39;; $password = \u0026#39;pass\u0026#39;; $stmt = $pdo-\u0026gt;prepare(\u0026#39;SELECT * FROM users WHERE username = :username AND password = :password\u0026#39;); $stmt-\u0026gt;bindParam(\u0026#39;:username\u0026#39;, $username); $stmt-\u0026gt;bindParam(\u0026#39;:password\u0026#39;, $password); $stmt-\u0026gt;execute(); $result = $stmt-\u0026gt;fetch(PDO::FETCH_ASSOC); In this example, placeholders (:username and :password) are used in the query, and then values are bound to these placeholders using bindParam. This helps prevent SQL injection and allows for better reuse of the prepared statement.\n4. Error Handling Always handle errors to ensure a robust application.\n","permalink":"https://blog2.cmwang.net/zh/posts/2023/12/pdo-crash-course/","summary":"PDO Cheat Sheet","title":"PDO Crash Course"},{"content":"\u003c!DOCTYPE html\u003e ","permalink":"https://blog2.cmwang.net/zh/posts/2023/12/where-is-the-35+-programmer/","summary":"Where is the programmer","title":"35æ­²çš„ç¨‹å¼è¨­è¨ˆå¸«éƒ½å»å“ªäº†"},{"content":"Comparison Mixins (Options API) Composable (Composition API) ","permalink":"https://blog2.cmwang.net/zh/posts/2023/11/why-composition/","summary":"Why do we need composition API","title":"Why do we need composition API"},{"content":"Initialize Pinia for your app /src/main.js import \u0026#34;./assets/main.css\u0026#34;; import { createApp } from \u0026#34;vue\u0026#34;; import { createPinia } from \u0026#34;pinia\u0026#34;; // here ğŸ‘ˆ import App from \u0026#34;./App.vue\u0026#34;; const app = createApp(App); app.use(createPinia()); // here ğŸ‘ˆ app.mount(\u0026#34;#app\u0026#34;); Use the store template \u0026lt;template\u0026gt; \u0026lt;div class=\u0026#34;counter-container\u0026#34;\u0026gt; \u0026lt;!-- state (data) --\u0026gt; \u0026lt;h2\u0026gt;{{ storeCounter.count }}\u0026lt;/h2\u0026gt; \u0026lt;!-- actions (methods)--\u0026gt; \u0026lt;button @click=\u0026#34;storeCounter.increaseCount\u0026#34;\u0026gt;+\u0026lt;/button\u0026gt; \u0026lt;button @click=\u0026#34;storeCounter.decreaseCount\u0026#34;\u0026gt;-\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;!-- getters (computed) --\u0026gt; \u0026lt;div\u0026gt;The counter is {{ storeCounter.oddOrEven }}\u0026lt;/div\u0026gt; \u0026lt;!-- two-way data binding--\u0026gt; \u0026lt;input v-model=\u0026#34;storeCounter.count\u0026#34; type=\u0026#34;number\u0026#34; /\u0026gt; \u0026lt;/template\u0026gt; script \u0026lt;script setup\u0026gt; import {useCounterStore} from \u0026#39;@/stores/counter\u0026#39;; const storeCounter = useCounterStore(); \u0026lt;/script\u0026gt; Define the store (Composition API) composition api store import { ref, computed } from \u0026#34;vue\u0026#34;; import { defineStore } from \u0026#34;pinia\u0026#34;; export const useCounterStore = defineStore(\u0026#34;counter\u0026#34;, () =\u0026gt; { // State const count = ref(0); // Getters const doubleCount = computed(() =\u0026gt; count.value * 2); const oddOrEven = computed(() =\u0026gt; (count.value % 2 === 0 ? \u0026#34;even\u0026#34; : \u0026#34;odd\u0026#34;)); // Actions function increaseCount() { count.value++; } function decreaseCount() { count.value--; } // Expose the state, getters, and actions return { count, doubleCount, oddOrEven, increaseCount, decreaseCount, }; }); Define the store (Options API) options api store import { defineStore } from \u0026#34;pinia\u0026#34;; export const useCounterStore = defineStore(\u0026#34;counter\u0026#34;, { // State state: () =\u0026gt; ({ count: 0, }), // Getters getters: { oddOrEven: (state) =\u0026gt; (state.count % 2 === 0 ? \u0026#34;even\u0026#34; : \u0026#34;odd\u0026#34;), }, // Methods (Actions) actions: { increaseCount() { this.count++; }, decreaseCount() { this.count--; }, }, }); ","permalink":"https://blog2.cmwang.net/zh/posts/2023/11/hello-pinia/","summary":"Pinia CheatSheet","title":"Pinia State Management"},{"content":" å¾®æœå‹™èˆ‡å–®é«”æ¶æ§‹è¾¯è«–\nçµ„ç¹”çµæ§‹è€ƒæ…® DHH å¼·èª¿é¸æ“‡å¾®æœå‹™æˆ–å–®é«”æ¶æ§‹æ›´å¤šåœ°æ¶‰åŠçµ„ç¹”çµæ§‹è€Œéç¨‹å¼ç¢¼çµ„ç¹”ã€‚å¾®æœå‹™é©åˆå¤§åœ˜éšŠï¼Œè€Œå°æ–¼ 10 è‡³ 100 åé–‹ç™¼äººå“¡çš„å°åœ˜éšŠï¼Œå–®é«”æ¶æ§‹æ›´ç°¡å–®ã€æ›´é«˜æ•ˆã€‚\nå–®é«”æ¶æ§‹çš„ç°¡æ˜“æ€§ DHH ä¸»å¼µå–®é«”æ¶æ§‹çš„ç°¡æ˜“æ€§ï¼Œè¡¨ç¤ºå°æ–¼è¼ƒå°çš„åœ˜éšŠï¼Œé¿å…åœ¨å¾®æœå‹™ä¸­æ›¿æ›æ–¹æ³•å‘¼å«ç‚ºç¶²è·¯å‘¼å«çš„è¤‡é›œæ€§å¯ä»¥ç°¡åŒ–é–‹ç™¼ã€‚å–®é«”æ¶æ§‹æ¶ˆé™¤äº†ç®¡ç†åŸºæœ¬åŠŸèƒ½çš„ç¶²è·¯é€£ç·šçš„éœ€è¦ï¼Œæ¸›å°‘äº†è¤‡é›œæ€§ä¸¦ç°¡åŒ–äº†åµéŒ¯éç¨‹ã€‚\næ¨¡å¼çš„é©ç”¨æ€§ DHH è­¦å‘Šä¸è¦å°‡ç‚ºå¤§å‹çµ„ç¹”ï¼ˆå¦‚ Netflixï¼‰è¨­è¨ˆçš„æ¨¡å¼æ‡‰ç”¨æ–¼è¼ƒå°çš„åœ˜éšŠï¼Œå› ç‚ºé€™æ¨£åšé€šå¸¸æœƒå°è‡´ä¸è‰¯çµæœã€‚ä»–èªç‚ºåœ¨æ²’æœ‰ç›¸æ‡‰çµ„ç¹”ä¸Šä¸‹æ–‡çš„æƒ…æ³ä¸‹æ¡ç”¨å¾®æœå‹™å¯èƒ½æœƒå¸¶ä¾†ä¸å¿…è¦çš„è¤‡é›œæ€§ã€‚\nå®å‰çš„å–®é«”æ¶æ§‹ (The Majestic Monolith) DHH è¡¨é”äº†å°å–®é«”æ¶æ§‹çš„å¼·çƒˆåå¥½ï¼Œå‰µé€ äº†The Majestic Monolithé€™ä¸€è¡“èªã€‚ä»–ä¸»å¼µåœ¨å„˜å¯èƒ½é•·çš„æ™‚é–“å…§ä¿æŒå„˜å¯èƒ½ç°¡å–®ï¼Œä¸¦è¡¨ç¤ºå–®é«”æ¶æ§‹å°æ–¼è¼ƒå°çš„é–‹ç™¼åœ˜éšŠç‰¹åˆ¥æœ‰ç›Šã€‚\n","permalink":"https://blog2.cmwang.net/zh/posts/2023/11/dhh-microservice/","summary":"David Heinemeier Hansson: Microservices vs. Monolith","title":"DHH: Microservices vs. Monolith"},{"content":" key differences between opacity: 0, visibility: hidden, and display: none:\nProperty Visibility Layout Interaction opacity: 0 Invisible Yes Yes visibility: hidden Invisible Yes No display: none Hidden No No ","permalink":"https://blog2.cmwang.net/zh/posts/2023/11/css-opacity-visibility-display/","summary":"Unveiling the Veil: Understanding CSS Opacity, Visibility, and Display","title":"CSS é€æ˜åº¦ã€å¯è¦‹æ€§å’Œé¡¯ç¤ºçš„å€åˆ¥"},{"content":"% ç™¾åˆ†æ¯” å¦‚æœç”¨æ–¼æŒ‡å®šå­—é«”å¤§å°ï¼Œå‰‡ç›¸å°æ–¼å…¶çˆ¶å…ƒç´ çš„å­—é«”å¤§å°é€²è¡Œæ¸¬é‡ã€‚ å¦‚æœç”¨æ–¼æŒ‡å®šé•·åº¦ï¼Œå‰‡ç›¸å°æ–¼å…¶çˆ¶å…ƒç´ çš„å¯¬åº¦é€²è¡Œæ¸¬é‡ã€‚ /* çˆ¶å…ƒç´  */ .parent { font-size: 16px; width: 300px; } /* å­å…ƒç´  */ .child { font-size: 100%; /* å­—é«”å¤§å°ç›¸å°æ–¼çˆ¶å…ƒç´ çš„å­—é«”å¤§å°, 16px */ width: 50%; /* å¯¬åº¦ç›¸å°æ–¼çˆ¶å…ƒç´ çš„å¯¬åº¦, 150px */ padding: 1em; /* å…§éƒ¨å¡«å……ç›¸å°æ–¼ç•¶å‰çš„å­—é«”å¤§å° 16px */ } em (ç›¸å° EM) å¦‚æœç”¨æ–¼æŒ‡å®šå­—é«”å¤§å°ï¼Œå‰‡ç›¸å°æ–¼å…¶çˆ¶å…ƒç´ çš„å­—é«”å¤§å°é€²è¡Œæ¸¬é‡ã€‚ å¦‚æœç”¨æ–¼æŒ‡å®šé•·åº¦ï¼Œå‰‡ç›¸å°æ–¼ç•¶å‰çš„å­—é«”å¤§å°é€²è¡Œæ¸¬é‡ã€‚ ğŸ”¥ ç”¨ EM æŒ‡å®šé•·åº¦ï¼Œéœ€æ³¨æ„æ˜¯ç”¨ç•¶å‰å­—é«”å¤§å°ç•¶åŸºæº–ã€‚è‹¥ç•¶å‰æ²’æŒ‡å®šï¼Œç”¨ç¹¼æ‰¿ä¾†çš„å­—é«”å¤§å°ç•¶åŸºæº–ã€‚\n/* çˆ¶å…ƒç´  */ .parent { font-size: 16px; width: 300px; } /* å­å…ƒç´  */ .child { font-size: 2em; /* å­—é«”å¤§å°ç›¸å°æ–¼çˆ¶å…ƒç´ çš„å­—é«”å¤§å° 32px */ width: 3em; /* å¯¬åº¦ç›¸å°æ–¼ç›¸å°æ–¼[ç•¶å‰]çš„å­—é«” 32px x 3 = 96 px ğŸ”¥ */ } rem (Root EM) REM (Root EM) æ˜¯ç›¸å°æ–¼æ–‡æª”çš„ Root element (html å…ƒç´ ) çš„å­—é«”å¤§å°é€²è¡Œæ¸¬é‡ã€‚ REM æä¾›äº†ä¸€ç¨®çµ±ä¸€çš„åŸºæº–ï¼Œä½¿å¾—åœ¨æ•´å€‹æ–‡æª”ä¸­å¯ä»¥è¼•é¬†åœ°ç¶­è­·ä¸€è‡´çš„å°ºå¯¸æ¯”ä¾‹ã€‚ /* è¨­å®šæ ¹å…ƒç´ å­—é«”å¤§å° */ html { font-size: 16px; } /* çˆ¶å…ƒç´  */ .parent { font-size: 1rem; /* å­—é«”å¤§å°ç›¸å°æ–¼æ ¹å…ƒç´  16px */ width: 300px; } /* å­å…ƒç´  */ .child { font-size: 2rem; /* å­—é«”å¤§å°ç›¸å°æ–¼æ ¹å…ƒç´  32px */ width: 3rem; /* å¯¬åº¦ç›¸å°æ–¼æ ¹å…ƒç´  48px */ } vw èˆ‡ vh (Viewport Width \u0026amp; Height) vw è¡¨ç¤ºç›¸å°æ–¼è¦–çª—å¯¬åº¦çš„ç™¾åˆ†æ¯”ã€‚ vh è¡¨ç¤ºç›¸å°æ–¼è¦–çª—é«˜åº¦çš„ç™¾åˆ†æ¯”ã€‚ /* çˆ¶å…ƒç´  */ .parent { font-size: 16px; width: 50vw; /* å¯¬åº¦ç›¸å°æ–¼è¦–çª—å¯¬åº¦çš„50% */ } /* å­å…ƒç´  */ .child { font-size: 2em; /* å­—é«”å¤§å°ç›¸å°æ–¼çˆ¶å…ƒç´ çš„å­—é«”å¤§å° 32px */ width: 50vh; /* å¯¬åº¦ç›¸å°æ–¼è¦–çª—é«˜åº¦çš„50% */ } ","permalink":"https://blog2.cmwang.net/zh/posts/2023/11/css-units/","summary":"CSS Units","title":"CSS Units"},{"content":"CSS Reset Do not set the font property in the universal selector. Instead, set it in the body selector for inheritance and performance.\n*, *::before, *::after { margin: 0; padding: 0; box-sizing: inherit; /* border-box */ } html { font-size: 62.5%; /* 10px = 16px * 62.5% */ } body { box-sizing: border-box; /* here */ font-family: ....; font-weight: ...; line-height: ...; color: ...; padding: ...; } Element Center (ç°¡æ˜“ç‰ˆ) The easiest way to center anything with the transform, top and left properties. .text-box { position: absolute; /* relative to parent container */ top: 50%; left: 50%; transfrom: translate(-50%, -50%); } Faded overlay on image .header { height: 95vh; background-image: linear-gradient( to right bottom, rgba(126, 213, 111, 0.8), rgba(38, 181, 133, 0.8) ), url(img/hero.jpg); /* two layers */ background-size: cover; /* èƒŒæ™¯åœ–ç‰‡æœƒè¢«ç¸®æ”¾ä»¥å®Œå…¨è¦†è“‹èƒŒæ™¯å€ï¼Œå¯èƒ½èƒŒæ™¯åœ–ç‰‡éƒ¨åˆ†çœ‹ä¸è¦‹ */ background-position: top; /* ç¸®æ”¾æ™‚ï¼Œä¸ŠåŠéƒ¨ä¸æœƒè¢«è£åˆ‡ */ } Fade in Animation @keyframes moveInLeft { 0% { opacity: 0; transform: translateX(-100px); } 80% { transform: translateX(20px); } 100% { opacity: 1; transform: translate(0); /* reset */ } } .who-need-this-animation { /* animation */ animation-name: moveInLeft; animation-duration: 1s; animation-timing-function: ease-out; } RWD Grid .container { display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); } ","permalink":"https://blog2.cmwang.net/zh/posts/2023/11/css-tricks/","summary":"CSS Tricks (reset, center, faded overlay \u0026hellip;)","title":"CSS Tricks"},{"content":" Behind the scenes when a web page is loaded and rendered:\nLoad HTML\nThe browser starts by fetching and loading the HTML file. Parse HTML\nThe HTML file is parsed to create the Document Object Model (DOM). The DOM represents the structure of the document as a tree of objects, where each object corresponds to a part of the document (e.g., elements, attributes). Load CSS\nIf there are linked or inline stylesheets in the HTML, the browser fetches and loads them. Parse CSS\nThe loaded CSS files are parsed to create the CSS Object Model (CSSOM). This represents the styles and layout information defined in the CSS. Resolve Conflicting CSS Declarations: If there are conflicting CSS declarations (i.e., rules that apply to the same element and property), the browser uses a specific set of rules to determine which styles take precedence. Process Final CSS Values: The browser processes the final computed values for each CSS property, taking into account inheritance, specificity, and other rules. Render Tree\nThe DOM and CSSOM are combined to create the Render Tree. The Render Tree represents the visual hierarchy of the elements on the page that will be rendered. It includes only the elements that will actually be displayed. The Visual Formatting Model\nThe visual formatting model takes the render tree and calculates the layout of each element on the page. This includes determining the size and position of each element based on its CSS properties. The visual formatting model also takes into account factors like the box model (margins, borders, padding), positioning, and floating elements. Render the Page\nFinally, the browser renders the page by painting each pixel according to the specifications of the visual formatting model. Image source: Critical CSS in WordPress: What It Is and How to Optimize CSS Delivery\n","permalink":"https://blog2.cmwang.net/zh/posts/2023/11/css-crp/","summary":"é€™ç¯‡æ–‡ç« åªæœ‰è‹±æ–‡ç‰ˆçš„","title":"Critical Rendering Path (CRP)"},{"content":" ç•¶ä½ å°‡ä¸€å€‹å…ƒç´ çš„ float å±¬æ€§è¨­å®šç‚º left æ™‚ï¼Œå®ƒæœƒå‘å·¦æµ®å‹•ï¼Œè„«é›¢æ­£å¸¸çš„æ–‡ä»¶æµï¼Œè¢«ç§»å‹•åˆ°å…¶çˆ¶å…ƒç´ çš„å·¦é‚Šã€‚å…¶ä»–æ–‡ä»¶æµä¸­çš„å…ƒç´ æœƒåœç¹è‘—æµ®å‹•å…ƒç´ çš„å‘¨åœé€²è¡Œä½ˆå±€ã€‚æµ®å‹•å…ƒç´ ä¹‹å¾Œçš„å…§å®¹æœƒå¡«å……åˆ°æµ®å‹•å…ƒç´ çš„å³å´ã€‚\næµ®å‹•å…ƒç´ çš„çˆ¶å…ƒç´ ï¼ˆå¦‚æœæ²’æœ‰è¢«æ¸…é™¤æµ®å‹•ï¼‰å¯èƒ½æœƒç™¼ç”Ÿé«˜åº¦å¡Œé™·ï¼ˆheight collapseï¼‰ï¼Œå³çˆ¶å…ƒç´ çš„é«˜åº¦ä¸æœƒè‡ªå‹•åœ°åŒ…å«æµ®å‹•å…ƒç´ ã€‚é€™å°±æ˜¯æ‰€è¬‚çš„çˆ¶å…ƒç´ å¡Œé™·å•é¡Œã€‚ç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œï¼Œå¯ä»¥ä½¿ç”¨ clear å±¬æ€§æ¸…é™¤æµ®å‹•ã€‚\n/* è§£æ±º çˆ¶å…ƒç´ çš„é«˜åº¦å¡Œé™· */ .clearfix::after { content: \u0026#34;\u0026#34;; display: block; clear: both; } ä½¿ç”¨ float ä¹‹å¾Œï¼Œå‘¨åœçš„å…ƒç´ å¯èƒ½æœƒå› ç‚ºæµ®å‹•å…ƒç´ çš„å­˜åœ¨è€Œå—åˆ°å½±éŸ¿ï¼Œä¾‹å¦‚ Footerï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨ clear å±¬æ€§ä¾†ç¢ºä¿æŸå€‹å…ƒç´ ä¸æœƒåœ¨æµ®å‹•å…ƒç´ æ—é‚Šé¡¯ç¤ºã€‚\nclear: left|right|both; /* ç”¨ both å°±ä¸ç”¨ç®¡ float å“ªé‚Š */ Reference All About Floats Working With the Float Property in CSS ","permalink":"https://blog2.cmwang.net/zh/posts/2023/11/css-float/","summary":"CSS Float","title":"CSS Float"},{"content":"Position âš™ï¸ static å…ƒç´ åœ¨æ–‡æª”æµä¸­æ­£å¸¸å®šä½ï¼Œèˆ‡å…¶ä»–å…ƒç´ ä¸€æ¨£ (é è¨­)ã€‚ .box { position: static; left: 50px; /* ignore */ top: 50px; /* ignore */ } âš™ï¸ relative ç›¸å°æ–¼åŸå§‹ä½ç½®ç§»å‹•ã€‚ è©²å…ƒç´ å‘¨åœçš„å…¶ä»–å…ƒç´ ä»ç„¶æœƒä¿æŒåŸä½ç¹éå®ƒï¼Œå°‡å…¶è¦–ç‚ºæ–‡ä»¶æµçš„ä¸€éƒ¨åˆ†ï¼Œä¸å—å½±éŸ¿ã€‚ .box { position: relative; left: 50px; right: 50px; } âš™ï¸ absolute çµ•å°å®šä½æ˜¯ä»¥æœ€è¿‘çš„çˆ¶å…ƒç´ ç‚ºåŸºæº–é»ï¼Œé€²è¡Œå®šä½ã€‚ å¦‚æœæ²’æœ‰çˆ¶å…ƒç´ ï¼Œæˆ–è€…å®ƒçš„çˆ¶å…ƒç´ æ²’æœ‰è¨­å®š static ä»¥å¤–çš„å±¬æ€§ (é€šå¸¸ç”¨ relative)ï¼Œå®ƒå°±æœƒä»¥documentç‚ºåŸºæº–é»é€²è¡Œå®šä½ ğŸ”¥ é é¢æ²å‹•æœƒè·Ÿè‘—å‹•ã€‚ å…ƒç´ æœƒè¢«ç§»å‡ºæ­£å¸¸æ–‡ä»¶æµï¼Œä¸¦ä¸ç‚ºå…ƒç´ é ç•™ç©ºé–“ã€‚ .container { position: relative; /* ä¸èƒ½ç‚º staticï¼Œä¸ç„¶æœƒå®šä½åˆ°æ–‡æª”å·¦ä¸Šè§’ */ } .box { position: absolute; left: 50px; right: 50px; } âš™ï¸ fixed ç›¸å°æ–¼ç€è¦½å™¨çª—å£ (viewport) é€²è¡Œå®šä½ã€‚ å³ä½¿æ²å‹•ï¼Œé‚„æ˜¯è²¼åœ¨ç€è¦½å™¨ä¸Šæ–¹å®šä½ã€‚ é€™ç¨®å®šä½æ–¹å¼å¸¸ç”¨æ–¼å‰µå»ºå›ºå®šåœ¨é é¢ä¸Šæ–¹æˆ–å´é‚Šçš„å°èˆªæ¬„ã€å·¥å…·æ¬„ç­‰å…ƒç´ ï¼Œä½¿å…¶åœ¨ç”¨æˆ¶æ»¾å‹•é é¢æ™‚ä¿æŒå¯è¦‹ã€‚ å…ƒç´ æœƒè¢«ç§»å‡ºæ­£å¸¸æ–‡ä»¶æµï¼Œä¸¦ä¸ç‚ºå…ƒç´ é ç•™ç©ºé–“ã€‚ .box { position: fixed; left: 50px; right: 50px; } ç°¡è€Œè¨€ä¹‹\nImage source: Difference between css position absolute versus relative\n","permalink":"https://blog2.cmwang.net/zh/posts/2023/11/css-position/","summary":"CSS positioning","title":"CSS Positioning"},{"content":"VSCode Extension Web HTML CSS Support (intelligence) CSS Peak (link to style) Prettier (format on save) Highlight Matching Tag Image preview Color highlight (Highlight web colors in your editor) Auto rename tag Live server ESLint Vue Volar (Vue Language Features) PHP PHP Intelephense Python Django General TODO Highlight Chrome Extension Pesticide Vue.js devtools Live Server Web Extension Cheat Sheet CSS ","permalink":"https://blog2.cmwang.net/zh/posts/2023/10/extension-and-more/","summary":"å¸¸ç”¨çš„ VSCode æ“´å……åŠå…¶ä»–\u0026hellip;","title":"ä¸€äº›æ“´å……åŠæ›´å¤š"},{"content":"çŸ³å™¨æ™‚ä»£ (90 å¹´ä»£) æ™‚é–“è»¸ 1990: ç¬¬ä¸€å€‹ Web Browser å‡ºç¾ 1994: Navigator ç™¼å¸ƒ 1995: Javascript ç”± Brendan Eich é–‹ç™¼ 2002: IE è´å¾—ç€è¦½å™¨å¤§æˆ°ï¼Œå¸‚ä½”è¶…é 96% ä¸»æµè¨­è¨ˆæ¦‚å¿µ MVCï¼Œç”± Model è² è²¬ Data é™¤äº† html, css, javascript å¤–ï¼Œé–‹å§‹ç”¨åˆ° JSP èˆ‡ Smarty æ¨¡æ¿ã€‚é›–ç„¶æ­¤æ™‚å·²ç¶“å¯ä»¥é¡¯ç¤ºå¾Œç«¯æ•¸æ“šï¼Œä½†æ˜¯æ­¤æ™‚è¦åˆ·æ–°æ•´å€‹é é¢ï¼Œè€—è²»é é¢è¼‰å…¥æ™‚é–“ã€‚ \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;smarty\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; his name is {$name} \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; 2004 Google ç™¼å¸ƒ Gmailï¼Œæ­¤æ™‚å¯ä»¥é€é Ajax ç•°æ­¥ç²å–æ•¸æ“šåˆ·æ–°é é¢ï¼Œå‰ç«¯ä¸å†å—é™å¾Œç«¯æ¨¡æ¿ï¼Œå®£å‘Š Web 2.0 æ™‚ä»£åˆ°ä¾†ã€‚ éµå™¨æ™‚ä»£ jQuery å‡ºç¾ï¼Œè§£æ±ºç€è¦½å™¨å…¼å®¹æ€§å•é¡Œï¼Œæ˜¯ jQuery + Bootstrap çš„ä¸»æµæ™‚æœŸ $(\u0026#34;#alert-btn\u0026#34;).on(\u0026#34;click\u0026#34;, function () { $(\u0026#34;#app .input\u0026#34;).val(\u0026#34;hi\u0026#34;); }); 2009 å¹´ï¼ŒAngularJS èˆ‡ Node.js èª•ç”Ÿï¼Œé–‹å§‹äº†å‰ç«¯çš„å·¥æ¥­é©å‘½æ™‚ä»£ã€‚ å·¥æ¥­æ™‚ä»£ AngularJS å¼•é ˜å‰ç«¯çš„ MVVM æ¨¡å¼çš„æµè¡Œï¼Œæ­¤æ™‚ Angularï¼ŒReactï¼ŒVue é–‹å§‹å‡ºç¾ MVVM å°‡ Controller è®Šæˆ View-Model layerï¼Œä½œç‚º Model èˆ‡ View çš„æ©‹æ¨‘ï¼Œç”± VM ä¾†åŒæ­¥ View èˆ‡ Model å±¤ã€‚ å‰ç«¯ä¸‰å¤§æ¡†æ¶æ¯”è¼ƒ ä¸»æµè¨­è¨ˆæ¦‚å¿µ ç›®æ¨™ä¸€è‡´ï¼šæ•¸æ“šé©…å‹•é é¢\næ¡†æ¶æ¯”è¼ƒ Angular1 ä½¿ç”¨ Dirty Checkï¼Œåªè¦æ•¸æ“šè®ŠåŒ–ï¼Œå°±å»æ›´æ–° DOM ä¸€æ¬¡ã€‚ Angular(2) å‘å‰ä¸ç›¸å®¹ï¼Œå¼•å…¥äº† TypeScript èˆ‡ RxJS Vue1 éŸ¿æ‡‰å¼ï¼Œä½¿ç”¨ watcher ç›£è½æ•¸æ“šçš„å±¬æ€§è®ŠåŒ–ï¼Œå°±å¯ä»¥çŸ¥é“å“ªå€‹ Key æ”¹è®Šäº†ï¼Œå†å»ä¿®æ”¹å°æ‡‰çš„ DOMã€‚ React åœ¨ Browser çš„ DOM ä¹‹ä¸Šï¼Œæå‡ºäº† Virtual DOM æ¦‚å¿µï¼Œä½¿ç”¨ Javascript Object å»æè¿°æ•´å€‹ DOM Treeï¼Œé€é Virtual DOM è¨ˆç®—å‡ºè®ŠåŒ–çš„æ•¸æ“šï¼Œå»ä¿®æ”¹é é¢ã€‚\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p class=\u0026#34;item\u0026#34;\u0026gt;item1\u0026lt;/p\u0026gt; \u0026lt;div class=\u0026#34;item\u0026#34;\u0026gt;item2\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; æ­¤æ™‚çš„ Virtual DOM é•·æˆé€™æ¨£ï¼š\n{ \u0026#34;tag\u0026#34;: \u0026#34;div\u0026#34;, \u0026#34;attrs\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;app\u0026#34; }, \u0026#34;children\u0026#34;: [ { \u0026#34;tag\u0026#34;: \u0026#34;p\u0026#34;, \u0026#34;attrs\u0026#34;: { \u0026#34;className\u0026#34;: \u0026#34;item\u0026#34; }, \u0026#34;children\u0026#34;: [\u0026#34;item1\u0026#34;] }, { \u0026#34;tag\u0026#34;: \u0026#34;p\u0026#34;, \u0026#34;attrs\u0026#34;: { \u0026#34;className\u0026#34;: \u0026#34;item\u0026#34; }, \u0026#34;children\u0026#34;: [\u0026#34;item2\u0026#34;] } ] } è¨ˆç®— Diff ï¼Œå¯ä»¥æ¸›å°‘ DOM ä¿®æ”¹ï¼Œä½¿å¾—æ•ˆç‡æé«˜ã€‚\nVue èˆ‡ React å°æ¯” Vue æƒ…æ³ä¸‹ï¼Œå¦‚æœæ•¸æ“šè®ŠåŒ–ï¼Œæ¡†æ¶æœƒé€é Watcher ä¸»å‹•å‘Šè¨´ä½ å“ªäº›æ•¸æ“šè®ŠåŒ–äº†ã€‚ä½†æ˜¯ç•¶é …ç›®å¤§æ™‚ï¼Œå¤ªå¤š Watcher æœƒå½±éŸ¿æ•ˆèƒ½ã€‚ Vue2 ä½¿ç”¨ Virtual DOM åœ¨ Component å…§ï¼ŒComponent é–“ä½¿ç”¨ watcher é”åˆ°éŸ¿æ‡‰å¼æ›´æ–°ï¼Œå¾è€Œé™ä½ watcher æ•¸é‡ã€‚ React æƒ…æ³ä¸‹ï¼Œåªèƒ½é€éæ–°èˆŠæ•¸æ“š virtual DOM Diff è¢«å‹•å¾—çŸ¥ã€‚å¦‚æœ Virtual DOM Tree å¤ªå¤§ï¼Œæœƒä½¿å¾—è¨ˆç®—æ™‚é–“å¤ªä¹…ï¼Œé€ æˆæ€§èƒ½å¡é “ã€‚ React å¼•å…¥äº† Fiber æ¶æ§‹ï¼Œå°‡ virtual DOM è®Šæˆ Chainï¼Œåˆ©ç”¨ç©ºé–‘æ™‚é–“è¨ˆç®— Diffã€‚ ","permalink":"https://blog2.cmwang.net/zh/posts/2023/10/frontend-history/","summary":"å›é¡§å‰ç«¯é–‹ç™¼æ­·å²","title":"å‰ç«¯é–‹ç™¼æ­·å²"},{"content":"faster-whisper ä½¿ç”¨CTranslate2é‡æ–°å¯¦ç¾ OpenAI çš„ Whisper æ¨¡å‹ï¼ŒCTranslate2æ˜¯ä¸€å€‹ç”¨æ–¼ Transformer æ¨¡å‹å¿«é€Ÿæ¨è«–çš„å¼•æ“ã€‚æ•´é«”é€Ÿåº¦æå‡ä¸å°‘ï¼Œå‰æé‚„æ˜¯è¦æœ‰ GPUã€‚\nä»¥ä¸‹æ˜¯ç”¢ç”Ÿå­—å¹•çš„ç°¡å–®ç¯„ä¾‹ï¼Œè«‹å…ˆå®‰è£ faster_whisper èˆ‡ pysubs2\ntranscribe without progress bar # pip install faster_whisper pysubs2 from faster_whisper import WhisperModel import pysubs2 model = WhisperModel(model_size = \u0026#39;large-v2\u0026#39;) segments, _ = model.transcribe(audio=\u0026#39;audio.mp3\u0026#39;) # to use pysubs2, the argument must be a segment list-of-dicts results= [] for s in segments: segment_dict = {\u0026#39;start\u0026#39;:s.start,\u0026#39;end\u0026#39;:s.end,\u0026#39;text\u0026#39;:s.text} results.append(segment_dict) subs = pysubs2.load_from_whisper(results) subs.save(\u0026#39;output.srt\u0026#39;) #save srt file æˆ‘å€‘å¯ä»¥é€™æ¨£æ”¹å¯«ï¼Œè®“ä»–é€é tqdm ç”¢ç”Ÿé€²åº¦æ¢\ntranscribe with progress bar from faster_whisper import WhisperModel import pysubs2 model = WhisperModel(model_size = \u0026#39;large-v2\u0026#39;) segments, _ = model.transcribe(audio=\u0026#39;audio.mp3\u0026#39;) # Prepare results for SRT file format results = [] timestamps = 0.0 # for progress bar with tqdm(total=info.duration, unit=\u0026#34; audio seconds\u0026#34;) as pbar: for seg in segments: segment_dict = {\u0026#39;start\u0026#39;: seg.start, \u0026#39;end\u0026#39;: seg.end, \u0026#39;text\u0026#39;: seg.text} results.append(segment_dict) # Update progress bar based on segment duration pbar.update(seg.end - timestamps) timestamps = seg.end # Handle silence at the end of the audio if timestamps \u0026lt; info.duration: pbar.update(info.duration - timestamps) subs = pysubs2.load_from_whisper(results) subs.save(\u0026#39;output.srt\u0026#39;) #save srt file é †ä¾¿é™„ä¸Š Docker file\nDockerfile # Use the official NVIDIA CUDA image as the base image FROM nvidia/cuda:11.8.0-cudnn8-runtime-ubuntu20.04 ARG DEBIAN_FRONTEND=noninteractive # Install necessary dependencies RUN apt-get update \u0026amp;\u0026amp; apt-get install -y \\ wget \\ python3 \\ python3-pip \\ \u0026amp;\u0026amp; apt-get clean \\ \u0026amp;\u0026amp; rm -rf /var/lib/apt/lists/* # Set the working directory inside the container WORKDIR /app # Install required Python packages RUN pip install faster_whisper pysubs2 # Create directories to store the models RUN mkdir -p /models/faster-whisper-medium # Download the medium model using wget to the specified directory RUN wget -O /models/faster-whisper-medium/config.json https://huggingface.co/guillaumekln/faster-whisper-medium/resolve/main/config.json \u0026amp;\u0026amp; \\ wget -O /models/faster-whisper-medium/model.bin https://huggingface.co/guillaumekln/faster-whisper-medium/resolve/main/model.bin \u0026amp;\u0026amp; \\ wget -O /models/faster-whisper-medium/tokenizer.json https://huggingface.co/guillaumekln/faster-whisper-medium/resolve/main/tokenizer.json \u0026amp;\u0026amp; \\ wget -O /models/faster-whisper-medium/vocabulary.txt https://huggingface.co/guillaumekln/faster-whisper-medium/resolve/main/vocabulary.txt COPY app.py /app/ # Run script CMD [\u0026#34;python3\u0026#34;, \u0026#34;app.py\u0026#34;] Source Code: https://github.com/taka-wang/docker-whisper\n","permalink":"https://blog2.cmwang.net/zh/posts/2023/10/faster-whisper-in-python3/","summary":"å¦‚ä½•ä½¿ç”¨ faster-whisper ä¸¦ç”¢ç”Ÿé€²åº¦æ¢ï¼Œä½ å¯ä»¥ç”¨å®ƒä¾†å¹«å½±ç‰‡è‡ªå‹•ç”¢ç”Ÿå­—å¹•","title":"å¸¶æœ‰é€²åº¦æ¢çš„ Faster Whisper"},{"content":"Uninstall Docker sudo systemctl stop docker sudo apt remove --purge -y docker-ce docker-ce-cli containerd.io sudo rm -rf /var/lib/docker sudo rm -rf /etc/docker sudo rm -rf /etc/apt/sources.list.d/docker.list sudo rm -rf /usr/share/keyrings/docker-archive-keyring.gpg sudo apt update docker --version Install Docker (Ubuntu 22.04) sudo apt update sudo apt install -y \\ apt-transport-https \\ ca-certificates \\ curl \\ gnupg-agent \\ software-properties-common curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg echo \u0026#34;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\u0026#34; | sudo tee /etc/apt/sources.list.d/docker.list \u0026gt; /dev/null sudo apt update sudo apt install -y docker-ce docker-ce-cli containerd.io # post install sudo systemctl status docker sudo usermod -aG docker ${USER} Move Docker Data to Another Location sudo systemctl stop docker sudo systemctl status docker # ex: /data/ is another disk, don\u0026#39;t create docker-data folder in advanced sudo rsync -avxP /var/lib/docker/ /data/docker-data # edit daemon.json with `data-root` line sudo nano /etc/docker/daemon.json { \u0026#34;data-root\u0026#34;: \u0026#34;/data/docker-data\u0026#34;, \u0026#34;runtimes\u0026#34;: { \u0026#34;nvidia\u0026#34;: { \u0026#34;args\u0026#34;: [], \u0026#34;path\u0026#34;: \u0026#34;nvidia-container-runtime\u0026#34; } } } sudo systemctl restart docker sudo systemctl enable docker # verify docker info -f \u0026#39;{{ .DockerRootDir}}\u0026#39; Install Nvidia Driver \u0026amp; Cuda wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/cuda-ubuntu2204.pin sudo mv cuda-ubuntu2204.pin /etc/apt/preferences.d/cuda-repository-pin-600 wget https://developer.download.nvidia.com/compute/cuda/12.2.2/local_installers/cuda-repo-ubuntu2204-12-2-local_12.2.2-535.104.05-1_amd64.deb sudo dpkg -i cuda-repo-ubuntu2204-12-2-local_12.2.2-535.104.05-1_amd64.deb sudo cp /var/cuda-repo-ubuntu2204-12-2-local/cuda-*-keyring.gpg /usr/share/keyrings/ sudo apt-get update sudo apt-get -y install cuda Install Nvidia Docker Toolkit curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg \\ \u0026amp;\u0026amp; curl -s -L https://nvidia.github.io/libnvidia-container/stable/deb/nvidia-container-toolkit.list | \\ sed \u0026#39;s#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g\u0026#39; | \\ sudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.list \\ \u0026amp;\u0026amp; \\ sudo apt-get update sudo apt-get install -y nvidia-container-toolkit sudo systemctl restart docker # verify docker run --rm --gpus all nvidia/cuda:11.6.2-base-ubuntu20.04 nvidia-smi Install Docker Compose # https://docs.docker.com/compose/install/ sudo curl -L \u0026#34;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)\u0026#34; -o /usr/local/bin/docker-compose sudo chmod +x /usr/local/bin/docker-compose References CUDA Toolkit 12.2 Update 2 Downloads å®‰è£ Nvidia driver 535 CUDA 12.2 cudnn 12.x on Ubuntu 22.04 ","permalink":"https://blog2.cmwang.net/zh/posts/2023/10/install-nvidia-docker-for-ubuntu/","summary":"é€™ç¯‡æ–‡ç« åªæœ‰è‹±æ–‡ç‰ˆçš„","title":"åœ¨ Ubuntu å®‰è£ Nvidia Docker"},{"content":" ä½¿ç”¨ System Volumn æ›è¼‰ Runner Containerï¼ŒåŸ·è¡Œ Gitlab Runnerã€‚ docker run -d --name gitlab-runner --restart always \\ -v /srv/gitlab-runner/config:/etc/gitlab-runner \\ -v /var/run/docker.sock:/var/run/docker.sock \\ gitlab/gitlab-runner:latest å»ºç«‹ä¸€å€‹æ–°çš„ Group runnerã€‚ ğŸ‘‰ æ–°å¢ Group runner æ¨™ç±¤\nğŸ‘‰ ç²å– token\næ›´è©³ç´°çš„æ­¥é©Ÿå¯ä»¥åƒè€ƒé€™ç¯‡æ–‡ç« ã€‚\nè¨»å†Š Runner åˆ¥å¿˜äº†å°‡ Token æ›æˆä¸Šä¸€æ­¥å¾—åˆ°çš„ã€‚\nRUNNER_TOKEN=\u0026#34;glrt-vTJPYBaajfypaShJH2xx\u0026#34; docker run --rm -v /srv/gitlab-runner/config:/etc/gitlab-runner gitlab/gitlab-runner register \\ --non-interactive \\ --url \u0026#34;https://gitlab.com/\u0026#34; \\ --token \u0026#34;$RUNNER_TOKEN\u0026#34; \\ --executor \u0026#34;docker\u0026#34; \\ --docker-image docker:stable-dind \\ --description \u0026#34;docker-runner\u0026#34; ç·¨è¼¯ /srv/gitlab-runner/config/config.toml ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š\nconcurrentï¼šå¯é¸ privileged volumesï¼šdocker å…§éƒ¨çš„ docker network_modeï¼šå¯é¸ /srv/gitlab-runner/config/config.toml concurrent = 4 # æ›´æ”¹ check_interval = 0 shutdown_timeout = 0 [session_server] session_timeout = 1800 [[runners]] name = \u0026#34;docker-runner\u0026#34; url = \u0026#34;https://gitlab.com/\u0026#34; id = 28470179 token = \u0026#34;glrt-vTJPYBaajfypaShJH2Ge\u0026#34; token_obtained_at = 2023-10-14T12:45:43Z token_expires_at = 0001-01-01T00:00:00Z executor = \u0026#34;docker\u0026#34; [runners.cache] MaxUploadedArchiveSize = 0 [runners.docker] tls_verify = false image = \u0026#34;docker:stable-dind\u0026#34; privileged = true # æ›´æ”¹ disable_entrypoint_overwrite = false oom_kill_disable = false disable_cache = false #volumes = [\u0026#34;/cache\u0026#34;] # æ›´æ”¹ volumes = [\u0026#34;/cache\u0026#34;, \u0026#34;/var/run/docker.sock:/run/docker.sock\u0026#34;] shm_size = 0 network_mode = \u0026#34;host\u0026#34; # æ–°å¢ é‡æ–°å•Ÿå‹• Runner docker restart gitlab-runner åƒè€ƒè³‡æ–™ Install GitLab Runner Run GitLab Runner in a container Registering runners Create a group runner with a runner authentication token ","permalink":"https://blog2.cmwang.net/zh/posts/2023/10/install-gitlab-runner/","summary":"å¦‚ä½•åœ¨æœ¬æ©Ÿé€é Docker å®‰è£ Gitlab runner","title":"é€é Docker è¨­å®š Gitlab Runner"},{"content":"å®‰è£ Powerlevel10K ğŸš€ sudo apt update sudo apt install zsh # å®‰è£ Oh My Zshï¼š sh -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\u0026#34; # å®‰è£ä¸»é¡Œ git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ~/.oh-my-zsh/custom/themes/powerlevel10k å®‰è£ Zshï¼š\nå¦‚æœä½ æ²’æœ‰å®‰è£ Zshï¼Œè«‹ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£ï¼š\nsudo apt update sudo apt install zsh å®‰è£ Oh My Zshï¼š\nåŸ·è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£ Oh My Zshï¼š\nsh -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\u0026#34; å®‰è£ Powerlevel10k ä¸»é¡Œï¼š\nå°‡ Powerlevel10k Repo Clone åˆ° Oh My Zsh çš„è‡ªå®šç¾©ä¸»é¡Œç›®éŒ„ï¼š\ngit clone --depth=1 https://github.com/romkatv/powerlevel10k.git ~/.oh-my-zsh/custom/themes/powerlevel10k è¨­å®š Zsh ä¸»é¡Œï¼š\né–‹å•Ÿä½ çš„ ~/.zshrc æª”æ¡ˆï¼š\nnano ~/.zshrc æ‰¾åˆ°ä»¥ ZSH_THEME é–‹é ­çš„é‚£ä¸€è¡Œï¼Œä¸¦å°‡å…¶æ”¹ç‚ºï¼š\nZSH_THEME=\u0026#34;powerlevel10k/powerlevel10k\u0026#34; å„²å­˜æª”æ¡ˆä¸¦é€€å‡ºã€‚\nå®‰è£æ‰€éœ€å­—å‹ï¼š\nPowerlevel10k ä½¿ç”¨ç‰¹æ®Šå­—å…ƒï¼Œå› æ­¤ä½ éœ€è¦å®‰è£åŒ…å«é€™äº›å­—å…ƒçš„å­—å‹ã€‚Nerd Fonts æ˜¯å¸¸ç”¨çš„é¸æ“‡ã€‚æŒ‰ç…§ Nerd Fonts GitHub å€‰åº« ä¸Šçš„èªªæ˜å®‰è£ç›¸å®¹çš„å­—å‹ã€‚\né…ç½® Powerlevel10kï¼ˆå¯é¸ï¼‰ï¼š\nç•¶ä½ å•Ÿå‹•æ–°çš„ Terminal æ™‚ï¼ŒPowerlevel10k å°‡æä¾›åŸ·è¡Œé…ç½®å¼•å°çš„é¸é …ã€‚æŒ‰ç…§æŒ‡ç¤ºè‡ªå®šç¾©ä½ çš„æç¤ºç¬¦ã€‚\né‡å•Ÿ Zshï¼š\né‡æ–°å•Ÿå‹•ä½ çš„ Terminalï¼Œæˆ–è€…åŸ·è¡Œ source ~/.zshrc ä»¥å¥—ç”¨æ›´æ”¹ã€‚\nç¾åœ¨ï¼ŒPowerlevel10k æ‡‰è©²å·²ç¶“åœ¨ä½ çš„ Ubuntu 22.04 ç³»çµ±ä¸Šå®‰è£ä¸¦é…ç½®å®Œæˆã€‚\nå®‰è£ zsh-autosuggestions ğŸš€ Powerlevel10k ä¸æœƒæ”¹è®Š Zsh åœ¨è‡ªå‹•è£œé½Šçš„é è¨­è¡Œç‚ºï¼›å®ƒä¸»è¦å¢å¼·å’Œè‡ªå®šç¾©æç¤ºç¬¦çš„å¤–è§€ã€‚è‡ªå‹•è£œé½Šçš„è¡Œç‚ºä¸»è¦ç”± Zsh é…ç½®æ§åˆ¶ã€‚\nå¦‚æœä½ æƒ³åœ¨ Zsh çš„è‡ªå‹•è£œé½Šå•Ÿç”¨å»ºè­°ï¼Œä½ å¯ä»¥ä½¿ç”¨ zsh-autosuggestions å¤–æ›ã€‚è©²å¤–æ›æä¾›é¡ä¼¼ fish çš„æç¤ºï¼Œèˆ‡ Powerlevel10k é…åˆä½¿ç”¨æ•ˆæœå¾ˆå¥½ã€‚\nä»¥ä¸‹æ˜¯å®‰è£å’Œé…ç½® zsh-autosuggestions çš„æ­¥é©Ÿï¼š\nå®‰è£ zsh-autosuggestionsï¼š\nä½ å¯ä»¥ä½¿ç”¨ä½ å–œæ­¡çš„æ–¹æ³•å®‰è£å®ƒã€‚ä¸€å€‹å¸¸è¦‹çš„æ–¹æ³•æ˜¯é€éå¤–æ›ç®¡ç†å™¨ï¼Œæ¯”å¦‚ oh-my-zshã€‚\nå¦‚æœä½ ä½¿ç”¨ oh-my-zshï¼Œä½ ä¹Ÿå¯ä»¥æ‰‹å‹•å…‹éš†å€‰åº«ï¼š\ngit clone https://github.com/zsh-users/zsh-autosuggestions ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions å•Ÿç”¨ zsh-autosuggestionsï¼š\næ›´æ–°ä½ çš„ ~/.zshrc æª”æ¡ˆä»¥å•Ÿç”¨è©²å¤–æ›ã€‚åœ¨ plugins è¡Œä¸­æ–°å¢æˆ–ä¿®æ”¹ zsh-autosuggestionsã€‚\nplugins=(zsh-autosuggestions) é‡å•Ÿ Zsh æˆ–é‡æ–°è¼‰å…¥é…ç½®ï¼š\né‡æ–°å•Ÿå‹•ä½ çš„ Terminalï¼Œæˆ–è€…åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ä»¥æ‡‰ç”¨æ›´æ”¹ï¼š\nsource ~/.zshrc ç¾åœ¨ï¼Œç•¶ä½ éµå…¥æ™‚ï¼Œä½ æ‡‰è©²æœƒçœ‹åˆ°åŸºæ–¼ä½ çš„å‘½ä»¤æ­·å²çš„è‡ªå‹•å»ºè­°ã€‚\n","permalink":"https://blog2.cmwang.net/zh/posts/2023/10/install-powerlevel10k-on-ubuntu/","summary":"è¨˜éŒ„å¦‚ä½•åœ¨ Ubuntu è¨­å®š zsh èˆ‡ Powerlevel10k åŠ zsh-autosuggestions","title":"åœ¨ Ubuntu è¨­å®š Powerlevel10k"},{"content":"åœ¨ Github pages ä¸Šè¨­å®š CNAME ä¸ç”¨é¡å¤–ä»˜è²»ï¼Œåªæ˜¯ä½ éœ€è¦å…ˆæ“æœ‰ä¸€å€‹ç§äººåŸŸåã€‚é€™é‚Šå‡å®šæˆ‘å€‘å·²ç¶“åœ¨ Godaddy è³¼è²·äº†åŸŸåï¼Œæ‰€ä»¥å…ˆåˆ° Godaddy DNS è¨­å®šé é¢è¨­å®šã€‚\nå…ˆé€é Terminal æŸ¥è©¢ Github çš„ IP åœ°å€ã€‚ dig {Your Domain}.github.io dig xxxx.github.io åˆ° Godaddy DNS é é¢è¨­å®š 4 å€‹ A Recordï¼Œ1 å€‹ CNAME Recordï¼Œè«‹åƒè€ƒåœ–ç‰‡ã€‚ åœ¨ç§äººå­˜å„²åº«ä¸­æ·»åŠ  CNAME æ–‡ä»¶ï¼Œå…§å®¹ç‚º xxx.{Domain Name}ï¼Œä¾‹å¦‚ blog.xxx.comã€‚ åœ¨é é¢å…§è¨­å®š CNAME ä¸¦æ‰“å‹¾ Enforce HTTPSã€‚ éœ€è¦ä¸€é»æ™‚é–“æ‰æœƒç”Ÿæ•ˆï¼Œå¦‚æœä¸€åˆ‡éƒ½æ­£å¸¸ï¼Œç¬¬å››æ­¥é©Ÿçš„ DNS Check æ‡‰è©²æœƒé€šéã€‚\nReferences Managing a custom domain for your GitHub Pages site ","permalink":"https://blog2.cmwang.net/zh/posts/2023/10/custom-domain-for-github-pages/","summary":"é€™ç¯‡æ–‡ç« è¨˜éŒ„å¦‚ä½•ç‚º Github Page è¨­å®šè‡ªè¨‚ç¶²åŸŸï¼Œä»¥ Godaddy ç‚ºä¾‹","title":"ç‚º GitHub Pages ç¶²ç«™è¨­å®šè‡ªè¨‚ç¶²åŸŸ"},{"content":"æ­¡è¿ä½¿ç”¨ Hugo å¿«é€Ÿå»ºç«‹å€‹äººç¶²ç«™ï¼é€™å€‹æŒ‡å—å°‡å¼•å°ä½ å®Œæˆåœ¨ GitHub ä¸Šå»ºç«‹ç§äººç¶²ç«™ä¸¦éƒ¨ç½²åˆ° GitHub Pages çš„éç¨‹ã€‚\né€™å€‹æŒ‡å—åŒ…æ‹¬ä»€éº¼é‡é» .gitignore: æ’é™¤ç‰ˆæœ¬ç®¡ç†çš„æª”æ¡ˆ .github/workflows/hugo.yml: ä½¿ç”¨ GitHub Action å°‡ç§äºº Hugo å­˜æ”¾åº«éƒ¨ç½²åˆ°å…¬é–‹çš„ GitHub Pages å­˜æ”¾åº«ã€‚ æ­¥é©Ÿ åœ¨ GitHub å»ºç«‹ä¸€å€‹ç§äººå„²å­˜åº« hugo-site ä¾†ç®¡ç†ä½ çš„ç¶²ç«™åŸå§‹ç¢¼ï¼Œè«‹è¨˜å¾—åŒ…å« README.md æª”æ¡ˆã€‚\nåœ¨ GitHub å»ºç«‹ä¸€å€‹å…¬é–‹å„²å­˜åº« {YOUR_USER_NAME}.github.io ä¾†ä¸Šå‚³ä½ çš„éœæ…‹ç¶²é åˆ° GitHub Pagesã€‚\nå°‡ hugo-site è¤‡è£½åˆ°æœ¬åœ°ï¼š\ngit clone https://github.com/{YOUR_USER_NAME}/hugo-site.git æˆ–è€…ï¼Œå¦‚æœä½ å·²ç¶“ä½¿ç”¨äº† Git Submoduleï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼è¤‡è£½ï¼š\ngit clone --recursive https://github.com/{YOUR_USER_NAME}/hugo-site.git åœ¨ hugo-site çš„åŒä¸€å±¤ç›®éŒ„å‰µå»º Hugo å°ˆæ¡ˆï¼ˆä¸è¦æ”¾åœ¨ hugo-site è£¡é¢ï¼‰ï¼š\nhugo new site hugo-site --force --format yaml æ–°å¢ç¯„ä¾‹ä¸»é¡Œï¼Œé€™é‚Šä»¥ PaperMod ç‚ºä¾‹ï¼š\nAdd theme cd hugo-site git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod echo \u0026#34;theme : \u0026#39;PaperMod\u0026#39;\u0026#34; \u0026gt;\u0026gt; hugo.yaml å°‡ .gitignore æª”æ¡ˆè¤‡è£½åˆ° hugo-siteã€‚\n[å¯é¸] æ–°å¢ GitHub Action è‡ªå‹•éƒ¨ç½²ï¼š\nmkdir -p .github/workflows/ touch .github/workflows/hugo.yml å°‡ hugo.yml çš„å…§å®¹è¤‡è£½åˆ°ä¸Šè¿°æ–°å¢çš„ç©ºç™½ hugo.ymlã€‚è«‹è¨˜å¾—ä¿®æ”¹ä»¥ä¸‹å…©è™•ï¼š\ntoken: ${{ secrets.ACCESS_TOKEN }}: åœ¨é€™è£¡ä½¿ç”¨ç§äººå„²å­˜åº«çš„å­˜å–æ¬Šæ–ï¼ˆAccess Tokenï¼‰ã€‚ repository-name: YOUR_USER_NAME/YOUR_USER_NAME.github.io: å°‡ YOUR_USER_NAME æ”¹ç‚ºä½ çš„ GitHub å¸³è™Ÿåç¨±ã€‚ æ¸¬è©¦ Hugo ç¶²ç«™ï¼š\nhugo server -D é–‹å§‹å‰µå»ºè‡ªå·±çš„æ–‡ç« ï¼š\nhugo new posts/20231006/index.md åœ¨ content/posts/20231006 è£¡é¢çš„ index.md é–‹å§‹æ’°å¯«ï¼Œä¸¦å°‡åœ–ç‰‡æ”¾åœ¨åŒä¸€å€‹è³‡æ–™å¤¾ã€‚\næ­å–œä½ ï¼Œå·²ç¶“å®Œæˆç§äººå„²å­˜åº«çš„è¨­å®šï¼Œè«‹ä¸è¦å¿˜è¨˜å°‡è®Šæ›´æäº¤åˆ°ç§äººå„²å­˜åº«ã€‚\nåƒè€ƒè³‡æ–™ å¦‚ä½•è¨­å®š ACCESS Token ä½¿ç”¨ GitHub Actions å°‡ Hugo ç¶²ç«™å¾ç§äººå„²å­˜åº«ç™¼ä½ˆåˆ°å…¬é–‹é é¢ Hugo æ•™å­¸ \u0026ndash; åŸºç¤ç¯‡ å­¸ç¿’åœ¨å¹¾åˆ†é˜å…§å‰µå»º Hugo ç¶²ç«™ã€‚ ","permalink":"https://blog2.cmwang.net/zh/posts/2023/10/hugo-deployment-guide/","summary":"é€™å€‹æŒ‡å—å°‡å¼•å°ä½ å®Œæˆåœ¨ GitHub ä¸Šå»ºç«‹ç§äººç¶²ç«™ä¸¦éƒ¨ç½²åˆ° GitHub Pages çš„éç¨‹","title":"Hugo éƒ¨ç½²æŒ‡å—"},{"content":"MacOS é€é Homebrew Package Manager å®‰è£æ˜¯æœ€æ–¹ä¾¿çš„\nInstall Packages with Homebrew on macOS # install homebrew /bin/bash -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\u0026#34; # install hugo brew install hugo # verify hugo installation hugo version \u0026gt; hugo v0.119.0-b84644c008e0dc2c4b67bd69cccf87a41a03937e+extended darwin/amd64 BuildDate=2023-09-24T15:20:17Z VendorInfo=brew Windows ä»¥å·¥ä½œç®¡ç†å“¡é–‹å•Ÿ powershell win + x æ¸¸æ¨™ä¸Šä¸‹é¸æ“‡åˆ° windows powershell (å·¥ä½œç®¡ç†å“¡)ï¼Œè¨˜å¾—è¦é¸æ“‡è¶…ç´šç®¡ç†å“¡çš„æ¬Šé™ã€‚\nç¢ºèªåŸ·è¡Œæ¬Šé™ï¼š\nGet-ExecutionPolicy å¦‚æœé¡¯ç¤º Ristrictedï¼Œå‰‡å†åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š\nSet-ExecutionPolicy AllSigned å®‰è£ chocolateyï¼š\nSet-ExecutionPolicy Bypass -Scope Process -Force; iex ((New-Object System.Net.WebClient).DownloadString(\u0026#39;https://chocolatey.org/install.ps1\u0026#39;)) ç¢ºèªæ˜¯å¦å®‰è£å®Œæˆï¼Œåœ¨ powershell è¼¸å…¥ï¼š\nchoco # å¦‚æœæœ‰æ­£å¸¸å›è¦†ï¼Œå³å®‰è£å®Œæˆ æ¥è‘—å°±å¯ä»¥é€é choco å®‰è£ hugo å›‰ï¼ğŸ‘‡ğŸ‘‡ğŸ‘‡\nInstall Packages with Chocolatey on Windows # install hugo choco install hugo-extended # verify hugo installation hugo version \u0026gt; hugo v0.119.0-b84644c008e0dc2c4b67bd69cccf87a41a03937e... References Install Hugo on macOS Install Hugo on Windows æˆ‘çš„ Windows æ–°è£æ©Ÿ Chocolatey å®‰è£æ¸…å–® ","permalink":"https://blog2.cmwang.net/zh/posts/2023/10/how-to-install-hugo/","summary":"é€™ç¯‡æ–‡ç« æœƒä»‹ç´¹å¦‚ä½•å®‰è£ Hugo ç’°å¢ƒ","title":"å¦‚ä½•å®‰è£ Hugo ç’°å¢ƒ"},{"content":"Ken Lin æ˜¯æˆ‘çš„æœ‹å‹ï¼Œé€™æ˜¯ä»–çš„ AI Clone ç‰ˆä¸åŒå‡¡éŸ¿ (Think Different)ã€‚\n","permalink":"https://blog2.cmwang.net/zh/posts/2023/10/think-different-ai-ken/","summary":"æ­¤AIç”Ÿæˆçš„æ—ç™½åƒ…ä¾›å¨›æ¨‚ï¼Œåš´ç¦å•†æ¥­ä½¿ç”¨ã€‚","title":"ä¸åŒå‡¡éŸ¿ - AI (Ken Lin)"},{"content":"ç¶“éå¹¾å¤©çš„å¯¦é©—ï¼Œæ­£å¼å°‡ Blog é‡å•Ÿåœ¨ Github Pagesï¼Œç¸½æ˜¯æ€è€ƒè¦åœ¨ä»€éº¼å¹³å°ç´€éŒ„æˆ–è€…è©²ç†Ÿæ‚‰æ€æ¨£çš„æ ¼å¼ï¼Œéƒ½æ¯”ä¸ä¸ŠæŒçºŒè¨˜éŒ„çš„å¯¦åœ¨ã€‚\næœ‰å€‹å¯ä»¥æŒæ¡åœ¨è‡ªå·±æ‰‹ä¸­çš„ç­†è¨˜æœ¬ï¼Œé™¤äº†å¯ä»¥æŠ’ç™¼å¿ƒæƒ…ä¹Ÿå¯ä»¥è¨˜éŒ„å­¸ç¿’çš„é»æ»´ã€‚Hugo çœŸçš„æ˜¯ä¸€å€‹å¾ˆæ£’çš„å·¥å…·ï¼Œæ•´é«”é«”é©—æ¯”èµ·å¤šå¹´å‰çš„ Hexo å¥½å¾ˆå¤šï¼Œæ¥ä¸‹ä¾†æˆ‘æœƒåˆ†äº«å¹¾ç¯‡å¦‚ä½•è‡ªå·±å‹•æ‰‹é…ç½®çš„ç°¡å–®ç´€éŒ„ã€‚\n","permalink":"https://blog2.cmwang.net/zh/posts/2023/10/blog-reboot-2023/","summary":"2023 é‡æ–°å›åˆ°éœæ…‹ç¶²é çš„æ‡·æŠ±ï¼ŒHugo è®“äººæ„Ÿè¦ºæ„‰å¿«ã€‚","title":"æ¬å› Github Pages"},{"content":"é‡æ–°é–‹å§‹ # ç”¨é€™æ¨£å¤¾ youtube {{ \u0026lt; youtube d9IxdwEFk1c \u0026gt; }} æˆ‘å€‘é–‹å§‹å§ï¼\nimport sys from PyQt5.QtWidgets import QApplication, QLabel, QMainWindow, QVBoxLayout, QWidget class HelloWorldApp(QMainWindow): pass if __name__ == \u0026#39;__main__\u0026#39;: app = QApplication(sys.argv) window = HelloWorldApp() window.show() sys.exit(app.exec_()) å¦ä¸€å€‹æ¸¬è©¦\nSet some variables import sys from PyQt5.QtWidgets import QApplication, QLabel, QMainWindow, QVBoxLayout, QWidget class HelloWorldApp(QMainWindow): pass if __name__ == \u0026#39;__main__\u0026#39;: app = QApplication(sys.argv) window = HelloWorldApp() window.show() sys.exit(app.exec_()) è­¦å‘Š\nThis is a warning notice.. Be warned!\n\u003c!DOCTYPE html\u003e ","permalink":"https://blog2.cmwang.net/zh/posts/2023/10/hugo-test/","summary":"é‡æ–°é–‹å§‹ # ç”¨é€™æ¨£å¤¾ youtube {{ \u0026lt; youtube d9IxdwEFk1c \u0026gt; }} æˆ‘å€‘é–‹å§‹å§ï¼ import sys from PyQt5.QtWidgets import QApplication, QLabel, QMainWindow, QVBoxLayout, QWidget class HelloWorldApp(QMainWindow): pass if __name__ == \u0026#39;__main__\u0026#39;: app = QApplication(sys.argv) window = HelloWorldApp() window.show() sys.exit(app.exec_()) å¦ä¸€å€‹æ¸¬è©¦ Set some variables import sys from PyQt5.QtWidgets import QApplication, QLabel, QMainWindow, QVBoxLayout, QWidget class HelloWorldApp(QMainWindow): pass if __name__","title":"Hugo æ¸¬è©¦"},{"content":" Image Source: https://www.instagram.com/p/CpsSwuNv8AH/\nã€Šé‡å•Ÿäººç”Ÿã€‹ï¼ˆãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—ãƒ©ã‚¤ãƒ•ï¼‰æ˜¯ä»Šå¹´åº¦æœ€ç†±é–€çš„æ—¥åŠ‡ä¹‹ä¸€ï¼Œå®ƒæ·±æ·±è§¸å‹•äº†è¨±å¤šäººçš„å¿ƒéˆã€‚åŠ‡ä¸­èåˆäº†è¨±å¤šå¹³æˆæ™‚ä»£çš„ç¶“å…¸å…ƒç´ ï¼Œé‚„æœ‰ä¸å°‘æ™‚ä»£çš„çœ¼æ·šï¼Œå¦‚ BB Callã€ãŸã¾ã”ã£ã¡ã€Game Boy Advance ç­‰ç­‰ï¼Œå‹¾èµ·äº†äººå€‘å°æ–¼å¾€æ—¥æ™‚å…‰çš„ç¾å¥½å›æ†¶ã€‚æ­¤å¤–ï¼Œé€™éƒ¨åŠ‡çš„éŸ³æ¨‚ä¹Ÿååˆ†è¬›ç©¶ï¼Œå…¶ä¸­çš„æ‡·èˆŠæ—¥æ–‡æ­Œæ›²æ›´æ˜¯è®“äººå›æƒ³èµ·é‚£äº›å¹´è¼•æ™‚çš„ç¨®ç¨®ã€‚æ•…äº‹æƒ…ç¯€æå¯«äº†ä¸€ç”Ÿæ‘¯å‹ä¹‹é–“çš„çœŸæ‘¯æƒ…èª¼èˆ‡æ—¥å¸¸é–“çš„é–’èŠï¼Œæ•…äº‹ç›¸ç•¶ä»¤äººæ„Ÿå‹•ã€‚\né‡å•Ÿäººç”Ÿ_æ­Œå–® é€™éƒ¨åŠ‡çš„ç·¨åŠ‡ ãƒã‚«ãƒªã‚ºãƒ  éå¾€æ›¾ç¶“å‰µä½œå‡ºé¡ä¼¼ä¸»é¡Œçš„ä½œå“ï¼Œä¾‹å¦‚ã€Šç´ æ•µãªé¸ TAXIã€‹ï¼Œå€‹äººä¹Ÿæ˜¯å¾ˆæ¨è–¦é€™å€‹è¼•é¬†å°å“ã€‚æˆ‘åœ¨è§€å½±çš„éç¨‹ä¸­ï¼Œä¹Ÿä¸å…è¯æƒ³åˆ°å¦å¤–å…©éƒ¨ç›¸é—œé¡Œæçš„ä½œå“ï¼Œåˆ†åˆ¥æ˜¯å¹´ä»£æœ‰é»ä¹…é çš„æ—¥åŠ‡ã€ŠLoss:Time:Lifeã€‹ï¼ˆãƒ­ã‚¹ï¼šã‚¿ã‚¤ãƒ ï¼šãƒ©ã‚¤ãƒ•ï¼‰ å’Œè¿‘æœŸçš„éŸ“åŠ‡ã€Šèªè­˜çš„å¦»å­ã€‹ï¼ˆì•„ëŠ”ì™€ì´í”„ï¼‰ï¼Œéƒ½æ˜¯ç™¼äººçœæ€ä¹Ÿå¾ˆæœ‰æ„æ€çš„å½±é›†ã€‚é€™äº›ç©¿è¶Šæˆ–è€…å¹³è¡Œå®‡å®™çš„å½±é›†é›–ç„¶è‘—é‡çš„å…§å®¹ä¸åŒï¼Œä½†ã€Šé‡å•Ÿäººç”Ÿã€‹å»ä¸åŒæ–¼å…¶ä»–é¡ä¼¼ä½œå“ï¼Œå®ƒä¸¦ä¸è‘—é‡æ–¼äººç”Ÿçš„æ‡Šæ‚”èˆ‡è£œæ•‘ï¼Œåè€Œåƒæ˜¯æ‰å…¥ä¸åŒå¹³è¡Œå®‡å®™çš„æ™‚ç©ºæ—…è€…ï¼Œé‡æ–°å†éä¸€æ¬¡ä¸åŒçš„äººç”Ÿã€‚é›–ç„¶åœ¨ä¸–ç•Œè§€çš„è¨­å®šä¸Šå¯èƒ½æœƒè®“äººæœ‰é»å›°æƒ‘ï¼Œæ„Ÿè¦ºå¥½åƒæœ‰ä¸€äº› Bugï¼Œä½†è«‹å¸¶è‘—æ„‰æ‚…çš„å¿ƒæƒ…ï¼Œç›¡æƒ…äº«å—é€™éƒ¨æ»¿æ»¿æ‡·èˆŠé¢¨æ—¥åŠ‡æƒ³å‚³é”çš„æ•…äº‹å³å¯ã€‚\nãƒ­ã‚¹:ã‚¿ã‚¤ãƒ :ãƒ©ã‚¤ãƒ•\nFamiliar Wife | Korea | Drama | Watch with English Subtitles \u0026amp; More âœ”ï¸\nç•¶å½±ç‰‡ä¸­éŸ¿èµ· ZARD çš„ã€Šè² ã‘ãªã„ã§ã€‹æ™‚ï¼Œæˆ‘çš„å…§å¿ƒä¸ç¦æ„Ÿåˆ°æ¿€å‹•å’Œæ„Ÿå‚·ã€‚å‚äº•æ³‰æ°´çš„éŸ³æ¨‚æ›¾ç¶“é™ªä¼´æˆ‘åº¦éé’æ¾€å­¤å–®çš„å­¸ç”Ÿæ™‚å…‰ï¼Œæ‡·èˆŠéŸ³æ¨‚çœŸçš„ç‚ºæœ¬åŠ‡åŠ åˆ†ä¸å°‘ï¼Œæ¯æ¯éƒ½å°‡äººå¸¶å›é‚£å€‹å–®ç´”çš„å¹´ä»£ã€‚\nä¸»äººå…¬åœ¨åŠ‡ä¸­æ¯ä¸€æ¬¡çš„é‡ç”Ÿéƒ½æ˜¯ç‚ºäº†èƒ½å¤ é‡æ–°æŠ•èƒæˆç‚ºäººé¡ï¼Œå› æ­¤ï¼Œä»–é‡æ–°åŠªåŠ›ç©ç¦åšå¥½äº‹ï¼Œå¾ä¸€é–‹å§‹çš„å°æ„›ï¼ˆç‚ºè‡ªå·±ï¼‰è½‰è®Šæˆå¤§æ„›ï¼ˆç‚ºåˆ¥äººï¼‰ï¼Œé€™ç¨®ä¸æ–·é‡ç”Ÿä¸¦è‡ªæˆ‘å„ªåŒ–çš„éç¨‹ï¼Œé›–ç„¶æœ‰é»è’èª•æç¬‘ï¼Œå»æ˜¯ç¬‘ä¸­å¸¶æ·šçš„è§¸å‹•äººå¿ƒã€‚é€™ä¹Ÿè®“æˆ‘å€‘åæ€ï¼Œç‚ºä»€éº¼é‡æ–°æŠ•èƒæˆç‚ºäººé¡å°±æ˜¯æœ€å¥½çš„é¸æ“‡å‘¢ï¼Ÿé‚£æ˜¯ä¸æ˜¯å› ç‚ºæˆ‘å€‘è‡ªå·±å¸¶è‘—äººé¡ä¸­å¿ƒä¸»ç¾©çš„æƒ³æ³•ï¼Œäº¦æˆ–è€…æ˜¯å› ç‚ºäººé¡æœ¬èº«çš„å„ªè¶Šæ„Ÿä½¿ç„¶ï¼Ÿé€™ä¹Ÿå½±éŸ¿è‘—æˆ‘å€‘è©²å¦‚ä½•å¥½å¥½åº¦éæ­¤ç”Ÿã€‚\nã€Šé‡å•Ÿäººç”Ÿã€‹çµ¦è§€çœ¾å¸¶ä¾†äº†å¾ˆå¤šçš„æ€è€ƒå’Œæ„Ÿå‹•ã€‚å®ƒè®“äººå€‘é‡æ–°æ€è€ƒè‡ªå·±çš„ç”Ÿå‘½æ„ç¾©å’Œåƒ¹å€¼ï¼Œè®“äººå€‘æ„è­˜åˆ°ç”Ÿå‘½çš„çè²´èˆ‡æœ‰é™ã€‚é€™éƒ¨å½±é›†è®“æˆ‘å€‘é‡æ–°å›é¡§éå»çš„æ­²æœˆï¼Œå›æ†¶é‚£äº›ç¾å¥½çš„æ™‚å…‰ï¼ŒåŒæ™‚ä¹Ÿè®“äººå€‘é‡æ–°æ€è€ƒæœªä¾†çš„æ–¹å‘ï¼Œæ˜¯å€¼å¾—ä¸€çœ‹çš„æ„Ÿäººä½œå“ã€‚\n","permalink":"https://blog2.cmwang.net/zh/posts/2023/04/brush-up-life/","summary":"ã€Šé‡å•Ÿäººç”Ÿã€‹ï¼ˆãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—ãƒ©ã‚¤ãƒ•ï¼‰æ˜¯ä»Šå¹´åº¦æœ€ç†±é–€çš„æ—¥åŠ‡ä¹‹ä¸€ï¼Œå®ƒæ·±æ·±è§¸å‹•äº†è¨±å¤šäººçš„å¿ƒéˆã€‚","title":"é‡å•Ÿäººç”Ÿ | BRUSH UP LIFE"},{"content":" é’æ¢…\nè¿‘å¹´ä¾†ï¼Œæ¸…æ˜ç¯€å‰å¾Œä¸€ç›´æ˜¯æˆ‘å€‘å®¶é‡è¦çš„å„€å¼ï¼Œæˆ‘å€‘æœƒåœ¨å¹´åˆèˆ‡ä¿¡ç¾©é„‰çš„å°è¾²é è¨‚ 12 å…¬æ–¤é’æ¢…ï¼Œä¸¦ä»¥æ­¤è£½ä½œè„†æ¢…ã€‚ç„¶è€Œï¼Œä»Šå¹´ç”±æ–¼é›¨é‡ä¸è¶³ï¼Œæœå¯¦ç›¸è¼ƒæ–¼å¾€å¹´ç¨å«Œä¸ç›¡äººæ„ã€‚\nè£½ä½œè„†æ¢…çš„æ–¹å¼ç›¸ç•¶ç°¡å–®ï¼Œä¸éœ€è¦è¤‡é›œçš„å™¨æï¼Œåªéœ€èŠ±è²»ä¸€äº›æ™‚é–“èˆ‡è€å¿ƒã€‚é…æ–¹éå¸¸ç°¡å–®ï¼Œä»¥ä¸€å…¬æ–¤é’æ¢…ã€100 å…‹ç²—é¹½å’Œ 600 å…‹ç ‚ç³–çš„æ¯”ä¾‹é€²è¡Œè£½ä½œã€‚æ¥ä¸‹ä¾†ï¼Œè«‹ä¾ç…§ä»¥ä¸‹æ­¥é©Ÿé€²è¡Œï¼š\né’æ¢…å’Œé¹½ä¸€èµ·æ“æ‰\næ¸…æ´—ï¼šå»æ‰æ¢…å­çš„è’‚é ­ï¼Œä¸€é¡†é¡†æŒ‘é™¤ã€‚ æ®ºé’ï¼šä½¿ç”¨ç²—é¹½å¹«åŠ©æ¢…å­ SPAï¼Œæ“æ‰è‡³å°‘ 15 åˆ†é˜ï¼Œç›´åˆ°è¡¨é¢æ¿•æ½¤è®Šè‰²ã€‚ æ•²æ¢…å­ï¼šç”¨æ§Œå­ä¸€é¡†é¡†æ•²æ‰“è‡³å¾®è£‚ï¼Œåƒè¬åˆ¥æ•²ç¢äº†ã€‚ æ³¡é¹½æ°´ 8 å°æ™‚ï¼šå‹™å¿…ç¢ºä¿é¹½æ°´å®Œå…¨è¦†è“‹ä½æ¢…å­ã€‚ æ›æ°´ 8 å°æ™‚ï¼šæ¯äºŒåˆ°ä¸‰å°æ™‚æ›´æ›ä¸€æ¬¡æ°´ã€‚ åŠ ç³–æ°´ï¼šæ¯å¤©æ›´æ›æ–°çš„ç³–æ°´ï¼Œè¦†è“‹ä½æ¢…å­ï¼Œé‡è¤‡ä¸‰å¤©ã€‚æ›ç³–æ°´çš„éç¨‹é —ç‚ºé‡è¦ï¼Œè¦å°å¿ƒè¬¹æ…ï¼Œä»¥å…å½±éŸ¿å£æ„Ÿã€‚ å»æ‰è‹¦æ¾€ç³–æ°´ï¼šå°‡æ‰€æœ‰çš„è‹¦æ¾€ç³–æ°´å€’æ‰ï¼Œå–ä»£ç‚ºæœ€å¾Œä¸€æ¬¡çš„ç³–æ°´ï¼Œå†ç­‰å¾…ä¸‰å¤©ï¼Œå³å¯å®Œæˆè£½ä½œã€‚ æˆ‘æ„Ÿæ¿€å®¶äººç‚ºç”Ÿæ´»å¸¶ä¾†çš„å„€å¼æ„Ÿï¼Œé€™ç¨®æ„Ÿè¦ºè®“æˆ‘æ„Ÿå—åˆ°ç”Ÿå‘½çš„ç¾å¥½ã€‚\nè„†æ¢…æˆå“\n","permalink":"https://blog2.cmwang.net/zh/posts/2023/04/make-crispy-plum/","summary":"è£½ä½œè„†æ¢…ä¸€ç›´æ˜¯æˆ‘å€‘å®¶é‡è¦çš„å„€å¼ï¼Œæ¯å¹´æˆ‘å€‘éƒ½æœƒåœ¨å¹´åˆèˆ‡ä¿¡ç¾©é„‰çš„å°è¾²é è¨‚é’æ¢…ï¼Œä¸¦ä»¥æ­¤è£½ä½œè„†æ¢…ã€‚","title":"è£½ä½œè„†æ¢…çš„æ™‚ç¯€"},{"content":" Today you will have a good day. Jesus spoke to them at once, â€œDonâ€™t be afraid,â€ he said. â€œTake courage! I am here!â€ (Mark 6:50)\n","permalink":"https://blog2.cmwang.net/zh/posts/2023/04/you-will-have-a-good-day/","summary":"é€™ç¯‡æ–‡ç« åªæœ‰è‹±æ–‡ç‰ˆçš„","title":"ä»Šå¤©ä½ æœƒæœ‰å¥½äº‹ç™¼ç”Ÿ"},{"content":" As I reflect on my five years in this company, I realize how much has happened and how much I have grown. From having a supervisor to being a lone ranger, to forming a small team and eventually founding the Nilvana, time has flown by quickly, and I am left wondering where tomorrow will take me.\nIt seems like just yesterday that I started my journey in this company. I remember the excitement of meeting new colleagues, learning new skills, and finding my place in the organization. Over time, I became more confident and began taking on more responsibilities. I was proud of my accomplishments and the impact that I was making.\nHowever, the road was not always easy. There were times when I faced challenges that made me question my abilities and my decisions. I learned that setbacks and failures are a part of the journey, and they can be a source of growth and resilience.\nOne of the most significant moments in my journey was the creation of the Nilvana brand. It was a leap of faith, but I knew that I had a vision that could change the game. With the help of a few dedicated team members, we worked tirelessly to bring the brand to life. Seeing it take off and gain recognition was one of the proudest moments of my career.\nLooking back on my journey, I realize that time truly flies. It seems like just yesterday that I started, but five years have gone by in a blink of an eye. As I prepare to take on new challenges, I am grateful for the experiences and the lessons that I have learned.\n","permalink":"https://blog2.cmwang.net/zh/posts/2023/03/reflections-on-five-years-in-the-company/","summary":"é€™ç¯‡æ–‡ç« åªæœ‰è‹±æ–‡ç‰ˆçš„","title":"åœ¨å…¬å¸äº”å¹´çš„å›é¡§"},{"content":" This post explains how to increase the buffer memory for USB-FS devices on Linux systems in order to make full use of the imaging hardwareâ€™s capabilities. By default, USB-FS on Linux systems only allows 16 MB of buffer memory for all USB devices, which may not be sufficient for high-resolution cameras or multiple-camera set ups, resulting in image acquisition issues. To configure USB-FS and increase the buffer memory limit, the following steps should be taken:\nNote that GRUB is for desktop PC architecture. ARM embedded systems use a different bootloader, as GRUB requires a system with a BIOS, and embedded systems do not have one.\nCreate the file /etc/rc.local with the command sudo touch /etc/rc.local. This will create the file, allowing it to be edited. Change the permissions of the file with the command sudo chmod 744 /etc/rc.local. This will ensure that the file has the correct permissions to be edited. Change the buffer memory limit with the command echo 1000 \u0026amp;gt; /sys/module/usbcore/parameters/usbfs_memory_mb. This command will set the memory limit to 1000 MB, which should be enough to prevent image acquisition issues.` /etc/rc.local file contents example /etc/rc.local #!/bin/sh -e echo 1000 \u0026gt; /sys/module/usbcore/parameters/usbfs_memory_mb exit 0 After changing the memory limit, it is important to confirm the changes have been made correctly. This can be done by running the command:\ncat /sys/module/usbcore/parameters/usbfs_memory_mb which will display the current memory limit. If the limit is still 16 MB, then the changes will need to be made again. Additionally, further information about USB-FS on Linux can be found in the following sources:\nUnderstanding USBFS on Linux Increase USBFS Memory Limit in Ubuntu Change Kernel Cmdline by Edit /etc/default/grub Failed ","permalink":"https://blog2.cmwang.net/zh/posts/2022/12/configuring-usb-fs-for-usb3-vision-camera/","summary":"é€™ç¯‡æ–‡ç« åªæœ‰è‹±æ–‡ç‰ˆçš„","title":"é…ç½®USB-FSä»¥é©ç”¨æ–¼USB3 Visionç›¸æ©Ÿ"},{"content":" Real-time object detection with CoreML is trickier than you think.\nUsually, you have two choices to build a machine learning app for your mobile device, inference can happen either directly on-device or on cloud-based servers. It all depends on your usage scenario, there is no one-size fit all solution. In this article, we will only focus on on-device inference.\nAt WWDC 2017 Apple released first Core ML. Core ML is Appleâ€™s machine learning framework for doing on-device inference. Core ML is not the only way to do on-device inference, there are tens of libraries and frameworks that are compatible with iOS, but thatâ€™s beyond the scope of this article. From the YOLOv7 official repository, we can get the export script to convert trained PyTorch model to Core ML format effortlessly. However, keep one thing in mind, YOLOv7 is a popular open source project, new changes and updates are added very quickly. Iâ€™m also very glad to send a PR to improve the export script last night due to this writing ğŸ˜ƒ.After you got the exported Core ML models, no kidding, you have tons of things in your todo list. Matthijs Hollemans has already written an insightful article in his blog, be sure to checkout and support his efforts! Here is my short list:\nConfigure your Core ML model in a particular way. You can either append NMS to your model or write a lot of additional Swift code. IMHO, this is the most difficult part if you know nothing about the object detection model. Specify camera resolution, donâ€™t simply select the highest resolution available if your app doesnâ€™t require it. Resize or crop your input image to fit network input dimension, it depends on your application. Feed modified images to your model in a correct orientation. Fix Visionâ€™s weird orin. Convert bounding boxes coordinate system for display. This is also a trickier part, you need some iOS development experiences and a pencil for calculation ğŸ˜. According to Hollemansâ€™s article, there are at least 5 different coordinate systems you need to take care, not to mention how to handle real-time capturing correctly and efficiently is also non-trivial. You can follow these two articles to learn how to create a custom camera view.\nApple Developer Documentation | Recognizing Objects in Live Capture\nCreating a Custom Camera View | CodePath iOS Cliffnotes At the latest WWDC 2022, Apple introduced even more performance tools to its CoreML toolchain, now you can check your modelâ€™s metadata via performance reports and Core ML Instrument without writing any code. You can also use computeUnits = .cpuAndNeuralEngine if you donâ€™t want to use the GPU but always force the model to run on the CPU and ANE if available.\nPrefer CPU and ANE instead of GPU.\nYou can learn more about ANE from the following repository, thank you again Hollemans.\nGitHub - hollance/neural-engine: Everything we actually know about the Apple Neural Engine (ANE)\nHere are snapshots from my modelâ€™s performance reports.\nYou can evaluate your model via drag-and-drop image files.\nThere is no significant inference speed differences among quantization models, but the model size only about half the size. Itâ€™s a good thing for your mobile applications. No inference speed improved. (Left is FP32, right is FP16)\nHalf the size of the FP32 model.\nFinally, you have a working YOLOv7 Core ML model on the iOS devices, be careful of the heatğŸ”¥. Happy coding!\nYolov7-tiny on iPad Mini 6. Copyrights of BBIBBI Dance Practice belongs Kakao Entertainment.\nReferences Recognizing Objects in Live Capture How to display Vision bounding boxes Creating a Custom Camera View The Neural Engineâ€Šâ€”â€Šwhat do we know about it? WongKinYiu/yolov7 WWDC2022â€Šâ€”â€ŠOptimize your Core ML usage MobileNetV2 + SSDLite with Core ML yolov5â€Šâ€”â€ŠCoreML Tools ","permalink":"https://blog2.cmwang.net/zh/posts/2022/08/execute-yolov7-model-on-ios-devices/","summary":"é€™ç¯‡æ–‡ç« åªæœ‰è‹±æ–‡ç‰ˆçš„","title":"é€é CoreML åœ¨ iOS ä¸Šå¯¦ç¾å³æ™‚çš„ç‰©é«”åµæ¸¬"},{"content":" YOLOv7 TensorRT Performance Benchmarking.\nObject detection is one of the fundamental problems of computer vision. Instead of region detection and object classification separately in two stage detectors, object classification and bounding-box regression are done directly without using pre-generated region proposals in one stage detectors. YOLO (You Only Look Once) is one of the representative models of one-stage architecture. The YOLO family has continued to evolve since 2016, this summer weâ€™ve got its latest update to version 7.\nGitHub - WongKinYiu/yolov7: Implementation of paper - YOLOv7: Trainable bag-of-freebies sets newâ€¦\nIf you are trying to learn how to train your model on a custom dataset from the beginning, there are already many tutorials, notebooks and videos available online. In Nilvana, we really care about its real-world performance on the embedded devices, especially Nvidia Jetson family devices. So we conducted a series performance testing of YOLOv7 variants models on different devices, from cloud GPUs A100 to the latest tiny powerhouse AGX Orin.\nNVIDIAÂ® Jetson AGX Orinâ„¢ Developer Kit: smallest and most powerful AI edge computer\nThe main reason YOLOv7 is more accurate, compare to other models with similar AP, YOLOv7 has only about half computational cost.â€Šâ€”â€ŠWongKinYiu \u0026gt; Input and Output shape of YOLOv7 (80 class)\nAccording to the results table, Xavier NX can run YOLOv7-tiny model pretty well. AGX Orin can even run YOLOv7x model more than 30 FPS, itâ€™s amazing!\nEnd-to-End Performance on 1080P video, Batch Size=1\nPerformance Benchmarking Playlist\n","permalink":"https://blog2.cmwang.net/zh/posts/2022/07/performance-benchmarking-of-yolov7-tensorrt/","summary":"é€™ç¯‡æ–‡ç« åªæœ‰è‹±æ–‡ç‰ˆçš„","title":"YOLOv7 TensorRT çš„æ€§èƒ½æ¸¬è©¦"},{"content":"å­¸ç¿’ç›®æ¨™ï¼š\nGesture Recognizer CALayer \u0026amp; UIBezierPath Class \u0026amp; Function ç·´ç¿’æˆæœï¼š\nåŸå§‹ç¢¼ï¼š\nGitHub - takawang/olympic-drone\nç·£èµ·ï¼š\né€™æ¬¡çš„ç·´ç¿’ï¼Œä¸»è¦æ˜¯çœ‹åˆ°ä¸‹é¢é€™ç¯‡æ–‡ç« çš„å•Ÿç™¼ï¼Œä¸éæˆ‘ç°¡åŒ–äº†è§¸æ¨¡æ•£é–‹èˆ‡åŠ é€Ÿåº¦é€™å€‹éƒ¨åˆ†ï¼Œä¸»è¦æ˜¯ç·´ç¿’ swift å¯¦ä½œã€‚\n[Vanilla JS] í‰ì°½ì˜¬ë¦¼í”½ ë“œë¡ ì‡¼ ë§Œë“¤ê¸°\nèªªæ˜ï¼š\nå¯¦ä½œçš„æ§‹æƒ³é‚„ç®—ç›´è¦ºï¼Œé™¤äº†é•·å£“é€£çºŒè§¸ç™¼éœ€è¦ç ”ç©¶ä¸€ä¸‹ã€‚\nä½¿ç”¨ javascript çš„ canvas getImageData() å°‡ SVG å­˜æˆ json æª” (å¯åƒè€ƒä¸Šæ–‡é€£çµä¸­çš„ getDotPos æ–¹æ³•ã€‚ åœ¨ swift ä¸­ï¼Œé€éè®€å– json æª”ï¼Œå­˜æˆåº§æ¨™é»çš„é¡åˆ¥é™£åˆ—ï¼Œé€™å…©æ­¥é©Ÿä¹Ÿå¯ä»¥ç”¨ä¾†ç•«å…¶ä»–åœ–æ¡ˆï¼Œä¸ç”¨æ‰‹å·¥ä¸€ç›´æé»ã€‚ load all points from json file import UIKit // Point definition for json object class Point: Decodable { let x, y: Int let color: String // load all points from json file. // // ref: https://stackoverflow.com/a/50042872 // ref: https://praveenkommuri.medium.com/how-to-read-parse-local-json-file-in-swift-28f6cec747cf static func loadFromJson(fileName name: String) -\u0026gt; [Point] { do { guard let filePath = Bundle.main.path(forResource: name, ofType: \u0026#34;json\u0026#34;) else { return [] } let fileUrl = URL(fileURLWithPath: filePath) let data = try Data(contentsOf: fileUrl) let points = try JSONDecoder().decode([Point].self, from: data) return points } catch { // should not happen! print(\u0026#34;Something went wrong: \\(error)\u0026#34;) return [] } } } è¨­è¨ˆ Drone é¡åˆ¥ï¼Œè®“ Drone åˆå§‹ä½ç½®æ˜¯éš¨æ©Ÿçš„ï¼Œç›®çš„ä½ç½®æ˜¯å‰›å‰›è¼‰å…¥çš„åœ–å½¢åº§æ¨™ã€‚ å°‡å…©åº§æ¨™åˆ†æˆ 20 ä»½ï¼ŒæŒçºŒæŒ‰å£“é€£çºŒè§¸ç™¼æ™‚ï¼Œä¸€æ¬¡ç§»å‹•ä¸€ä»½ã€‚ ç•¶åˆ°é”ç›®çš„åº§æ¨™æ™‚ï¼Œæ”¹è®Š Drone çš„é¡è‰²ã€‚ handle long press event import UIKit class ViewController: UIViewController { var touchCountTimer: Timer? var touchBeginTime: Double = 0 let droneCollection = DroneCollectionController(fromJsonFile: \u0026#34;ring\u0026#34;) // composition override func viewDidLoad() { super.viewDidLoad() droneCollection.attachToLayer(to: self.view.layer) // attach drone layer addLongPressGesture() // handle press } // register gesture recognizer // // ref: [How can i count time on long-pressed button using UILongPressGestureRecognizer](https://stackoverflow.com/a/53146530) func addLongPressGesture(){ let longPress = UILongPressGestureRecognizer(target: self, action: #selector(longPress(gesture:))) longPress.minimumPressDuration = 0.1 longPress.numberOfTouchesRequired = 1 self.view.addGestureRecognizer(longPress) } // handle long press event // // ref: [How can i count time on long-pressed button using UILongPressGestureRecognizer](https://stackoverflow.com/a/53146530) @objc func longPress(gesture: UILongPressGestureRecognizer) { switch gesture.state { case UIGestureRecognizer.State.began: touchCountTimer = Timer.scheduledTimer(withTimeInterval: 0.1, repeats: true, block: { [self] (timer) in // MARK: - do animation droneCollection.animation() }) touchBeginTime = Date().timeIntervalSince1970 case .ended, .failed, .cancelled: touchCountTimer?.invalidate() // Stops the timer DroneCollectionController.isArrived = false case .changed: // wipe break default: print(\u0026#34;unknown\u0026#34;) } } } ","permalink":"https://blog2.cmwang.net/zh/posts/2022/03/simulated-olympic-rings-drone-light-show/","summary":"ç·´ç¿’ CALayer \u0026amp; Gesture Recognizer@","title":"æ¨¡æ“¬å¥§é‹äº”ç’°ç„¡äººæ©Ÿç‡ˆå…‰ç§€"},{"content":"å­¸ç¿’ç›®æ¨™ï¼š\nAVPlayer NotificationCenter Timer Swift Optional Function Switch Case ç·´ç¿’æˆæœï¼š\nåŸå§‹ç¢¼ï¼š\nGitHub - takawang/letter-song\næ­Œè©ï¼š\nä»Šæ™š æˆ‘æƒ³å°‡é‚£å¤©çš„è¢ç« é€åˆ°ä½ çš„çª—å‰ å«æ„æ˜¯\u0026#34;æˆ‘æ„›ä½ \u0026#34; æˆ‘æƒ³èµ·æˆ‘å€‘çš„åˆå» ä¸ç®¡ä½•æ™‚ åªè¦é–‰ä¸Šé›™çœ¼ å°±èƒ½å¥”å‘é‚£æœ€é™é çš„åœ°æ–¹ å°±åƒæˆ‘åœ¨è¢«æµªæ¿¤æ¹§ä¾†çš„æ²™ä¸Šå¯«ä¸‹çš„å­—è·¡èˆ¬ ä½ æ„Ÿè¦ºä¹Ÿæœƒåƒä»–å€‘é‚£æ¨£å¾æ­¤æ¶ˆå¤± ç¸½æ˜¯æƒ³å¿µ é›–ç„¶ç„¡æ³•å°‡æˆ‘å¿ƒè£¡æ‰€æœ‰çš„è©±èªï¼Œèªªçµ¦ä½ è½ ä½†é‚£è£¡é ­ï¼Œå…¨éƒ½æ˜¯\u0026#34;æˆ‘æ„›ä½ \u0026#34; æˆ‘ä½•å¾·ä½•èƒ½ èƒ½æ“æœ‰åç‚ºä½ çš„é€™ä»½å¹¸é‹ è‹¥æˆ‘å€‘ç¾åœ¨èƒ½æœ›è‘—å°æ–¹ è©²æœ‰å¤šç¾å¥½ å°±åƒæˆ‘åœ¨è¢«æµªæ¿¤æ¹§ä¾†çš„æ²™ä¸Šå¯«ä¸‹çš„å­—è·¡èˆ¬ ä½ æ„Ÿè¦ºä¹Ÿæœƒåƒä»–å€‘é‚£æ¨£å¾æ­¤æ¶ˆå¤± é‚„æ˜¯æƒ³å¿µ é›–ç„¶ç„¡æ³•å°‡æˆ‘å¯«åœ¨æ—¥è¨˜ä¸Šçš„ä¸€å­—ä¸€å¥ éƒ½å‘Šè¨´ä½  ä½†å­—å­—å¥å¥éƒ½ä»£è¡¨è‘—æˆ‘æ„›ä½  ä»Šæ™š æˆ‘æƒ³å°‡é‚£å¤©çš„è¢ç« é€åˆ°ä½ çš„çª—å‰ å¸Œæœ›ä»Šå¤œçš„ä½ æœ‰å€‹ç¾å¥½çš„å¤¢ å½±ç‰‡ä¾†æºï¼šhttps://www.youtube.com/watch?v=BzYnNdJhZQw\næ­Œè©ä¾†æºï¼šhttps://tinyurl.com/2p9c5d8a\nStoryboard:\néç¨‹ï¼š\næœ¬æ¬¡çµåˆå¹¾å€‹é …ç›®ï¼Œç·´ç¿’ SDK ä½¿ç”¨èˆ‡ç†Ÿæ‚‰ Swift èªæ³•ï¼Œåªç”¨ function print ç„¡æ³•æ»¿è¶³è‡ªå·±çš„æœŸå¾…ï¼Œæ‰€ä»¥ä¸Šç¶²æŸ¥äº†ä¸€äº›è³‡æ–™ä¸¦æ­é…ä¸Šèª²å…§å®¹è£½ä½œï¼Œå°‡ AVPlayerViewController åŠ é€² UIView æ‡‰è©²æ˜¯æœ€å›°é›£çš„éƒ¨åˆ†ï¼ŒåŸæœ¬è€ƒæ…®ä½¿ç”¨ Container View å»åšï¼Œä½†é‚„ä¸çŸ¥é“æ€éº¼æ§åˆ¶å¤šå€‹ Controllerï¼Œä¸¦ä¸”è·Ÿ Storyboard ä¸²æ¥èµ·ä¾†ã€‚\nä¸»è¦åœ¨ iPad Pro 12.9 èˆ‡ iPad Mini 6 å¯¦æ©Ÿæ¸¬è©¦éï¼ŒiPhone ç‰ˆé¢æœƒçœ‹ä¸åˆ°æ­Œè©ã€‚\næ–°å¢ UIViewï¼Œå–å¾— IBOutlet -\u0026gt; Line 12 å°‡ AVPlayerViewController åŠ é€² UIView -\u0026gt; Line 50 ç”¨ IBAction æ§åˆ¶ å½±ç‰‡æ’­æ”¾ä¸¦é–‹å§‹è¨ˆæ™‚ -\u0026gt; Line59 è¨»å†Š View ç”Ÿå‘½é€±æœŸèˆ‡å½±ç‰‡æ’­æ”¾çµæŸçš„é€šçŸ¥ -\u0026gt; Line 20~28 Partial script import AVFoundation import AVKit import UIKit class ViewController: UIViewController { @IBOutlet weak var lyricsLabel: UILabel! @IBOutlet weak var videoView: UIView! var player: AVPlayer? var timer: Timer? var counter = 0.0 var isPlaying = false override func viewDidLoad() { super.viewDidLoad() // listen to active and resign notifications // ref: https://stackoverflow.com/a/45955660 NotificationCenter.default.addObserver(self, selector: #selector(self.openAndCloseActivity), name: UIApplication.didBecomeActiveNotification, object: nil) NotificationCenter.default.addObserver(self, selector: #selector(self.openAndCloseActivity), name: UIApplication.willResignActiveNotification, object: nil) // listen to end play notification // ref: https://www.tutorialspoint.com/how-to-use-swift-to-detect-when-avplayer-video-ends-playing NotificationCenter.default.addObserver(self, selector: #selector(self.videoDidEnd), name: NSNotification.Name.AVPlayerItemDidPlayToEndTime, object: nil) // setup avplayer controller initVideoView() } // setup avplayer controller // // add avplayer controller to the current view and hide playback controls private func initVideoView() { // ref: https://medium.com/@nabilsafatli/how-to-create-a-custom-control-for-avplayer-1e53b9188ae3 guard let url = Bundle.main.url(forResource: \u0026#34;night\u0026#34;, withExtension: \u0026#34;mp4\u0026#34;) else { return } self.player = AVPlayer(url: url) //player!.rate = 1 //auto play let playerFrame = CGRect(x: 0, y: 0, width: videoView.frame.width, height: videoView.frame.height) let playerViewController = AVPlayerViewController() playerViewController.player = self.player playerViewController.view.frame = playerFrame addChild(playerViewController) // add player controller to view controller videoView.addSubview(playerViewController.view) playerViewController.didMove(toParent: self) playerViewController.showsPlaybackControls = false // hide playback controls } // handle play click event @IBAction func playVideo(_ sender: UIButton) { if !self.isPlaying { self.isPlaying = true // set flag self.counter = 0.0 // init counter self.player?.seek(to: CMTime(value: CMTimeValue(0.0), timescale: 1000)) // seek to head // init timer. // ref: https://medium.com/å½¼å¾—æ½˜çš„-swift-ios-app-é–‹ç™¼æ•™å®¤/é€é-timer-è¨­å®šæ¯å¹¾ç§’é‡è¤‡åŸ·è¡Œ-function-3c80f449107 self.timer = Timer.scheduledTimer( timeInterval: 0.1, target: self, selector: #selector(updateLyrics), userInfo: nil, repeats: true) // play video self.player?.play() } else { print(\u0026#34;already playing, do nothing...\u0026#34;) } } @objc func updateLyrics() { self.counter += 0.1 // increase counter switch self.counter { case 5.0...20.0: self.lyricsLabel.text = \u0026#34;IU - å¤œä¿¡\u0026#34; // 0 case 24.4...37.4: self.lyricsLabel.text = \u0026#34;ä»Šæ™š æˆ‘æƒ³å°‡é‚£å¤©çš„è¢ç«\u0026#34; // 1 case 37.5...47.0: self.lyricsLabel.text = \u0026#34;é€åˆ°ä½ çš„çª—å‰\u0026#34; // 2 case 49.6...59.0: self.lyricsLabel.text = \u0026#34;å«æ„æ˜¯ \\\u0026#34;æˆ‘æ„›ä½ \\\u0026#34;\u0026#34; // 3 case 68.8...80.8: self.lyricsLabel.text = \u0026#34;æˆ‘æƒ³èµ·æˆ‘å€‘çš„åˆå»\u0026#34; // 4 case 80.9...90.0: self.lyricsLabel.text = \u0026#34;ä¸ç®¡ä½•æ™‚ åªè¦é–‰ä¸Šé›™çœ¼\u0026#34; // 5 case 93.1...103.2: self.lyricsLabel.text = \u0026#34;å°±èƒ½å¥”å‘é‚£æœ€é™é çš„åœ°æ–¹\u0026#34; // 6 case 105.7...115.8: self.lyricsLabel.text = \u0026#34;å°±åƒæˆ‘åœ¨è¢«æµªæ¿¤æ¹§ä¾†çš„æ²™ä¸Šå¯«ä¸‹çš„å­—è·¡èˆ¬\u0026#34; // 7,8 case 115.9...123.4: self.lyricsLabel.text = \u0026#34;ä½ æ„Ÿè¦ºä¹Ÿæœƒåƒä»–å€‘é‚£æ¨£å¾æ­¤æ¶ˆå¤±\u0026#34; // 9 case 123.5...127.4: self.lyricsLabel.text = \u0026#34;ç¸½æ˜¯æƒ³å¿µ\u0026#34; // 10 case 127.5...141.0: self.lyricsLabel.text = \u0026#34;é›–ç„¶ç„¡æ³•å°‡æˆ‘å¿ƒè£¡æ‰€æœ‰çš„è©±èª èªªçµ¦ä½ è½\u0026#34; // 11,12 case 141.2...151.3: self.lyricsLabel.text = \u0026#34;ä½†é‚£è£¡é ­å…¨éƒ½æ˜¯ \\\u0026#34;æˆ‘æ„›ä½ \\\u0026#34;\u0026#34; // 13 case 160.1...166.0: self.lyricsLabel.text = \u0026#34;æˆ‘ä½•å¾·ä½•èƒ½\u0026#34; // 14 case 166.1...171.7: self.lyricsLabel.text = \u0026#34;èƒ½æ“æœ‰åç‚ºä½ çš„é€™ä»½å¹¸é‹\u0026#34; // 15 case 171.8...176.8: self.lyricsLabel.text = \u0026#34;è‹¥æˆ‘å€‘ç¾åœ¨èƒ½æœ›è‘—å°æ–¹\u0026#34; // 16 case 176.9...184.0: self.lyricsLabel.text = \u0026#34;è©²æœ‰å¤šç¾å¥½\u0026#34; // 17 case 184.1...194.1: self.lyricsLabel.text = \u0026#34;å°±åƒæˆ‘åœ¨è¢«æµªæ¿¤æ¹§ä¾†çš„æ²™ä¸Šå¯«ä¸‹çš„å­—è·¡èˆ¬\u0026#34; // 18,19 case 194.2...202.5: self.lyricsLabel.text = \u0026#34;ä½ æ„Ÿè¦ºä¹Ÿæœƒåƒä»–å€‘é‚£æ¨£å¾æ­¤æ¶ˆå¤±\u0026#34; // 20 case 202.6...205.8: self.lyricsLabel.text = \u0026#34;é‚„æ˜¯æƒ³å¿µ\u0026#34; // 21 case 205.9...212.1: self.lyricsLabel.text = \u0026#34;é›–ç„¶ç„¡æ³•å°‡æˆ‘å¯«åœ¨æ—¥è¨˜ä¸Šçš„ä¸€å­—ä¸€å¥\u0026#34; // 22 case 212.2...220.5: self.lyricsLabel.text = \u0026#34;éƒ½å‘Šè¨´ä½ \u0026#34; // 23 case 220.6...226.4: self.lyricsLabel.text = \u0026#34;ä½†å­—å­—å¥å¥éƒ½ä»£è¡¨è‘—æˆ‘æ„›ä½ \u0026#34; // 24 case 228.5...241.9: self.lyricsLabel.text = \u0026#34;ä»Šæ™š æˆ‘æƒ³å°‡é‚£å¤©çš„è¢ç«\u0026#34; // 25 case 242.0...249.7: self.lyricsLabel.text = \u0026#34;é€åˆ°ä½ çš„çª—å‰\u0026#34; // 26 case 255.9...267.2: self.lyricsLabel.text = \u0026#34;å¸Œæœ›ä»Šå¤œçš„ä½ æœ‰å€‹ç¾å¥½çš„å¤¢\u0026#34; // 27 default: self.lyricsLabel.text = \u0026#34;\u0026#34; } } // handle vidie end notification // ref: https://www.tutorialspoint.com/how-to-use-swift-to-detect-when-avplayer-video-ends-playing @objc func videoDidEnd(notification: NSNotification) { print(\u0026#34;video ended\u0026#34;) self.timer?.invalidate() // stop timer self.isPlaying = false self.lyricsLabel.text = \u0026#34;\u0026#34; } // handle activity resume and close // ref: https://stackoverflow.com/a/45955660 @objc func openAndCloseActivity(_ notification: Notification) { if notification.name == UIApplication.didBecomeActiveNotification{ print(\u0026#34;resume activity\u0026#34;) // seek to head self.player?.seek(to: CMTime(value: CMTimeValue(0.0), timescale: 1000)) // ref: https://stackoverflow.com/a/59839041 } else{ print(\u0026#34;close activity\u0026#34;) self.player?.pause() // pause player self.timer?.invalidate() // stop timer self.isPlaying = false self.lyricsLabel.text = \u0026#34;\u0026#34; } } } å…è²¬è²æ˜ï¼š\nå½±ç‰‡ä½¿ç”¨åªç‚ºäº†å­¸ç¿’ç›®çš„ï¼Œæ²’æœ‰ç‡Ÿåˆ©è¡Œç‚ºï¼Œç‰ˆæ¬Šå±¬æ–¼åŸå‰µä½œæ–¹ 1theK.\n","permalink":"https://blog2.cmwang.net/zh/posts/2022/03/practice-avplayer-view-controller/","summary":"ç·´ç¿’ä½¿ç”¨ AVPlayerViewController è£½ä½œå‹•æ…‹å­—å¹•å½±ç‰‡","title":"iPadä¸Šçš„å½±ç‰‡æ’­æ”¾å™¨"},{"content":"å­¸ç¿’ç›®æ¨™ï¼š\nç·´ç¿’ Scroll View ç·´ç¿’ Navigation Controller ç·´ç¿’ Table View Controller \u0026amp; Static Cells ç·´ç¿’ Label \u0026amp; Button æ¨£å¼ ç·´ç¿’ segue \u0026amp; SF Symbols ç·´ç¿’æˆæœï¼š\nGitHub - takawang/fake-music\néç¨‹ï¼š\né€éç›´æ¥æ“·å– iPad Pro 12.9 å¯¦æ©Ÿç•«é¢ï¼Œåœ¨ story board ä¸Šä»¿è£½ Apple Music ä¸Šçš„ IU å°ˆè¼¯é é¢ï¼Œæ›´é€²ä¸€æ­¥ç†Ÿæ‚‰äº† Navigation Controller çš„ä½¿ç”¨ï¼Œå› ç‚ºé‚„ä¸æœƒè£½ä½œç¬¦åˆå„ç¨®æ©Ÿå‹çš„ç‰ˆé¢ï¼Œæ‰€ä»¥å°±ç›´æ¥ hardcode åªæ”¯æ´ 12.9 æ°´å¹³çš„ç‰ˆé¢ï¼Œæ˜¯æœ‰é»å‘†ç‰ˆä½†ä¹Ÿæ”¶ç©«ä¸å°‘ã€‚\né™å®šåªæ”¯æ´ iPad èˆ‡ Landscape\nä¿®æ”¹ Product Name æ”¹è®Š APP åœ¨æ¡Œé¢çš„åç¨±\néœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼Œåœ¨ story board ä¸Šçš„æ˜¯ pointï¼Œä½†è¢å¹•æˆªåœ–æ˜¯ pixelï¼Œå› ç‚ºæ²’æœ‰ zeplin ä¹‹é¡çš„è¨­è¨ˆç¨¿ï¼Œæ‰€ä»¥èŠ±æœ€å¤šæ™‚é–“é‚„æ˜¯åœ¨æŠ“å–èˆ‡å°é½Šåº§æ¨™ï¼Œä½ç½®ä¸æ˜¯ pixel perfectï¼Œä½†ç·´ç¿’çš„ç›®çš„æ‡‰è©²æ˜¯é”åˆ°äº†ã€‚\nPoint èˆ‡ pixel æ˜¯ 2x scale çš„é—œä¿‚\næœ€è¿‘æ’­æ”¾çš„é»é¸ï¼Œåƒè€ƒä¸‹é¢æ–‡ç« ï¼ŒåŸæœ¬ä½¿ç”¨ tap gesture recognizerï¼Œä¸éå¤§æ¦‚å› ç‚ºæˆ‘å°‡ navigation controller æ”¾éŒ¯åœ°æ–¹ï¼Œç¸½æ˜¯çœ‹ä¸åˆ° back é¸å–®ï¼Œæœ€å¾Œé¸æ“‡é€æ˜æŒ‰éˆ•ç–Šåœ¨ä¸Šæ–¹çš„åšæ³•ã€‚\nåˆ©ç”¨ segue å¯¦ç¾åœ–ç‰‡é»é¸çš„æ›é åŠŸèƒ½\nNavigation Controller éœ€è¦å¾ç¬¬ä¸€å€‹ç•«é¢é•·å‡ºä¾†ï¼Œè€Œä¸æ˜¯ç¬¬äºŒé \nä¸»ç•«é¢æœ‰å…©å€‹ scoll viewï¼Œåƒè€ƒé€£çµæä¾›çš„æŠ€å·§å°±å¯ä»¥æ–¹ä¾¿è£½ä½œï¼Œè¨˜å¾—å°‡æ°´å¹³èˆ‡å‚ç›´çš„æ²è»¸æŒ‡ç¤ºé—œé–‰ï¼Œé€™æ¨£ç•«é¢æœƒæ¯”è¼ƒæ“¬çœŸã€‚\nè¨­å®š content sizeï¼Œå¯¦ç¾æ°´å¹³æ²å‹•ï¼Œä¸Šä¸‹æ²å‹•å’Œåˆ†é çš„ scroll view\nå–æ¶ˆå‹¾é¸æ°´å¹³èˆ‡å‚ç›´ indicatorï¼Œä½¿å¾— scroll view æ²å‹•æ™‚ä¸æœƒé¡¯ç¤ºå·è»¸\nTable View çš„ç¬¬ä¸€å€‹ Cell èˆ‡æœ€å¾Œå…©å€‹ Cell ç‚ºäº†ç‰ˆé¢èª¿æ•´ï¼Œä¸­é–“çš„æ­Œæ›²åˆ—è¡¨åªéœ€è¦é€éä¿®æ”¹ row æ•¸å°±å¯ä»¥è¤‡è£½ï¼Œå†ä¿®æ”¹å°é¢ç…§èˆ‡ label å³å¯ã€‚\n","permalink":"https://blog2.cmwang.net/zh/posts/2022/03/replicate-apple-music-ipad-os-app/","summary":"ç·´ç¿’ä½¿ç”¨ Scroll View \u0026amp; Table View ä»¿è£½ iPad ä¸Šçš„ Apple Music App","title":"ä»¿è£½ iPad ä¸Šçš„ Apple Music"},{"content":"Variables let name; // undefined let name = \u0026lsquo;Jamie\u0026rsquo;; ç›¡é‡ä¸€è¡Œä¸€å€‹è®Šæ•¸å®£å‘Šï¼Œé€™æ˜¯ best practice Constant const interestRate = 0.2; å¦‚æœä¸æœƒæ”¹è®Šï¼Œç›¡é‡ç”¨ const è€Œä¸æ˜¯ let Primitives/Value types number string boolean symbol undefined null let name = \u0026#34;jamie\u0026#34;; // string let age = 30; // number let isApproved = false; // boolean let firstName = undefined; // undefined let lastName = null; // clear a variable typeof age; // \u0026#34;number\u0026#34; typeof firstName; // \u0026#34;undefined\u0026#34;. undefined æ—¢æ˜¯ type ä¹Ÿæ˜¯ value typeof lastName; // \u0026#34;object\u0026#34; Reference types object array function // --- object let person = { // object name: \u0026#34;jamei\u0026#34;, // property age: 30, }; person.name = \u0026#34;john\u0026#34;; // dot notation person[\u0026#34;age\u0026#34;] = 20; // bracket notation let selection = \u0026#34;name\u0026#34;; person[selection] = \u0026#34;Jenny\u0026#34;; //--- array is also a \u0026#39;object\u0026#39; type ğŸ’¡ let selectedColors = [\u0026#34;red\u0026#34;, \u0026#34;blue\u0026#34;]; // array selectedColors[2] = \u0026#34;green\u0026#34;; // length is dynamic console.log(selectedColors[0]); console.log(selectedColors.length); Functions // 1. performing a task function greet(name, lastName) { // name is the parameter console.log(\u0026#34;hello world \u0026#34; + name + \u0026#34; \u0026#34; + lastName); } greet(\u0026#34;jamie\u0026#34;); // jamie is the argument, actual value is applied // 2. calculating a value function square(number) { return number * number; } let number = square(2); Operators arithmetic assignment comparison equality (strict \u0026amp; lose equality) ternary operator (? a : b) logical operator (\u0026amp;\u0026amp;, ||, !) ä»¥ä¸‹åœ¨ logical operatorï¼Œæœƒè‡ªå‹•è½‰ç‚º Falsy (false) undefined null 0 false '' NaN bit operator(|, \u0026amp;) // arithmetic operator console.log(x % 2); // remainder console.log(x ** y); // exp console.log(++x); // increment (++) console.log(y--); // decrement (--) // assignment operator let x = 10; x++; // x = x + 1 x += 5; // x = x + 5 x *= 3; // x = x * 3 // comparison operator let x = 1; console.log(x \u0026gt; 0); // true // equality console.log(x === 1); console.log(x !== 1); // strict equality (same type + value) console.log(1 === 1); // true console.log(\u0026#34;1\u0026#34; === 1); // false // lose equality (don\u0026#39;t care type, automatically convert type) console.log(1 == \u0026#34;1\u0026#34;); // true console.log(true == 1); // true // ternary operator let poins = 110; let type = points \u0026gt; 100 ? \u0026#34;gold\u0026#34; : \u0026#34;silver\u0026#34;; // logical console.log(true \u0026amp;\u0026amp; true); // logical AND (\u0026amp;\u0026amp;) let highIncome = true; let goodCreditScore = true; let eligibleForLoan = highIncome \u0026amp;\u0026amp; goodCreditScore; // true let eligibleForLoan = highIncome || goodCreditScore; // logical OR (||) let applicationRefused = !eligibleForLoan; // Not (!) // automatically convert operand -\u0026gt; false || \u0026#34;jamie\u0026#34;; // \u0026#39;jamie\u0026#39; false || 1; // 1 // ä»¥ä¸‹åœ¨ logical operatorï¼Œæœƒè‡ªå‹•è½‰ç‚º Falsy (false) // undefined // null // 0 // false // \u0026#39;\u0026#39; // NaN // short-circult let userColor = \u0026#34;red\u0026#34;; let defaultColor = \u0026#34;blue\u0026#34;; let currentColor = userColor || defaultColor; // can provide default value if user not select // bit operator application // Read, Write, Execute // 00000100 // 00000010 // 00000001 const readPermission = 4; const writePermission = 2; const executePremission = 1; let myPermission = 0; myPermission = myPermission | readPermission | writePermission | executePermission; let message = myPermission \u0026amp; readPermission ? \u0026#34;yes\u0026#34; : \u0026#34;no\u0026#34;; // å¯ä»¥ç”¨ä¾†åˆ¤æ–·æœ‰ç„¡æ¬Šé™ Conditional statements if else if (condition) { // statement } else if (anotherCondition) { // statement } else { // statement } switch case // switch case (can be string, number or boolean) let role; switch (role) { case \u0026#34;guest\u0026#34;: console.log(\u0026#34;Guest User\u0026#34;); break; // need case \u0026#34;moderator\u0026#34;: console.log(\u0026#34;Moderator User\u0026#34;); break; default: console.log(\u0026#34;Unknow Role\u0026#34;); } Flow control For loop\nfor (let i = 0; i \u0026lt; 5; i++) { console.log(\u0026#34;hello world\u0026#34;); } While Loop\nlet i = 0; while (i \u0026lt; 5) { if (i % 2 !== 0) console.log(i); i++; } Do-while Loop: execute at least once\nlet i = 0; do { if (i % 2 !== 0) console.log(i); i++; } while (i \u0026lt;= 5); For-in Loop: ç”¨åœ¨ property\nconst person = { name = \u0026#39;jamie\u0026#39;, age: 30 }; for (let key in person) { console.log(key, person[key]); } const colors = [\u0026#39;red\u0026#39;, \u0026#39;blue\u0026#39;, \u0026#39;green\u0026#39;]; for (let inex in colors) console.log(index, colors[index]); For-of Loop: ç”¨åœ¨ array\nconst colors = [\u0026#34;red\u0026#34;, \u0026#34;blue\u0026#34;, \u0026#34;green\u0026#34;]; for (let color of colors) console.log(color); break and continue\nlet i = 0; while (i \u0026lt;= 10) { if (i == 5) break; if (i % 2 === 0) { i++; continue; // ç›¡é‡ä¸è¦ç”¨ } conosle.log(i); i++; } exercise\nfunction max(a, b) return (a \u0026gt; b) ? a : b; function isLandscape(width, height) { return (width \u0026gt; height); } // Math.floor(1.3) // 12 points suspend function checkSpeed(speed) { const speedLimit = 70; const kmPerPoint = 5; if (speed \u0026lt; speedLimit + kmPerPoint) { console.log(\u0026#34;ok\u0026#34;); } else { const points = Math.floor((speed - speedLimit) / knPerPoint); if (points \u0026gt;= 12 ) console.log(\u0026#34;suspend\u0026#34;); else console.log(\u0026#39;points: \u0026#39;, points); } } const array = [0, null, undefined, \u0026#39;\u0026#39;, 2, 3]; function countTruthy(array) { let count = 0; for (let element of array) { if (element) count++; } return count; } const movie = { title: \u0026#39;a\u0026#39;, release: 2018, director: \u0026#39;b\u0026#39; }; function showProperties(obj) { for (let attr in obj) if (Typeof obj[attr] === \u0026#39;string\u0026#39;) console.log(attr, obj[attr]); } showProperties(movie); function showStars(row) { for (let i = 1; i \u0026lt;= row; i++) { let output = \u0026#39;\u0026#39;; for (let j = 0; j \u0026lt; i; j++) output += \u0026#39;*\u0026#39;; console.log(output); } } showStars(5); function showPrimes(limit) { for (let i = 2; i \u0026lt;= limit; i++) { let isPrime = true; for (let f = 2; f \u0026lt; limit; f++) { if ((i % f) === 0) { isPrime = false; break; } } if (isPrime) console.log(i); } } showPrimes(20); Object object literal // object literal const circle = { radius: 1, location: { x: 1, y: 1, }, isVisible: true, draw: function () { console.log(\u0026#34;draw\u0026#34;); }, }; circle.draw(); factory function function createCircle(radius) { return { radius: radius, draw: function () { console.log(\u0026#34;draw\u0026#34;); }, }; } // modern function createCircle(radius) { return { radius, draw() { console.log(\u0026#34;draw\u0026#34;); }, }; } const circle1 = createCircle(1); console.log(circle1); constructor function // PASCAL notion function Circle(radius) { this.radius = radius; this.draw = function () { console.log(\u0026#34;draw\u0026#34;); }; } const circle = new Circle(1); delete circle.color; delete circle.draw; primitives are copied by their value, objects are copied by their reference.\nenumerate properties const circle = { radius: 1, draw() { console.log(\u0026#34;draw\u0026#34;); }, }; for (let key in circle) { console.log(key); } // ğŸ”¥ circle is not iterable!!! ERROR for (let prop of circle) { // WRONG!! console.log(prop); } for (let key of Object.keys(circle)) console.log(key); for (let entry of Object.entries(circle)) console.log(entry); if (\u0026#34;radius\u0026#34; in circle) console.log(\u0026#34;yes\u0026#34;); Clone Object (Shallow Copy) const circle = { radius: 1, draw() { console.log(\u0026#34;draw\u0026#34;); }, }; // old clone syntax const another = {}; for (let key in circle) another[key] = circle[key]; // new clone syntax const another = Object.assign({}, circle); // spread operator to shallow copy ğŸ”¥ const another = { ...circle }; Math (MDN) Math.random(); // 0~1 Math.round(1.9); // 2 Math.max(1, 2, 3, 4, 5); // 5 String object // string primitive const message = \u0026#34;this is my first string\u0026#34;; // typeof string message.split(\u0026#34; \u0026#34;); // string object const another = new String(\u0026#34;hi\u0026#34;); // typeof object template literal const another = `Hi ${name}, ${2 + 3}, Thank you`; date const now = new Date(); const date1 = new Date(\u0026#34;May 11 2018 09:00\u0026#34;); now.toISOString(); Array add element const numbers = [3, 4]; // End numbers.push(5, 6); console.log(numbers); // 3,4,5,6 // beginning numbers.unshift(1, 2); // 1,2,3,4 // middle numbers.splice(2, 0, \u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;); find element (primitive) const numbers = [1, 2, 3, 1, 4]; numbers.indexOf(\u0026#34;a\u0026#34;); // -1 not found! numbers.indexOf(1); // 0 numbers.lastIndexOf(1); // 3 console.log(numbers.indexOf(1) !== -1); console.log(numbers.includes(1)); // new syntax ğŸ”¥ find element (object) const courses = [ { id: 1, name: \u0026#34;a\u0026#34; }, { id: 2, name: \u0026#34;b\u0026#34; }, ]; const course = courses.find(function (course) { return course.name === \u0026#34;a\u0026#34;; // criteria }); console.log(course); const course2 = courses.findIndex(function (course) { return course.name === \u0026#34;a\u0026#34;; // 0 }); console.log(course2); arrow function ç•¶ä½ è¦å‚³ä¸€å€‹ function é€²å»ç•¶ä½œ callback æ™‚ const courses = [ { id: 1, name: \u0026#34;a\u0026#34; }, { id: 2, name: \u0026#34;b\u0026#34; }, ]; const course = courses.find(function (course) { return course.name === \u0026#34;a\u0026#34;; }); // åªæœ‰ä¸€è¡Œ return æ™‚ const course2 = courses.find((course) =\u0026gt; course.name == \u0026#34;a\u0026#34;); console.log(course2); remove elements const numbers = [1, 2, 3, 4]; // end // numbers.push(); const last = numbers.pop(); console.log(last); // 4 // beginning //numbers.unshift(); const first = numbers.shift(); console.log(first); // 1 // middle numbers.splice(2, 1); console.log(numbers); // 1, 2, 4 empty array const numbers = [1, 2, 3, 4]; let another = numbers; // solution 1 ğŸ’¡ numbers = []; console.log(numbers); // solution 2 ğŸ’¡ numbers.length = 0; // solution 3 numbers.splice(0, numbers.length); // solution 4 while (numbers.length \u0026gt; 0) numbers.pop(); combine \u0026amp; slice const first = [1, 2, 3]; const second = [4, 5, 6]; const combined = first.concat(second); // [1,2,3,4,5,6] const slice = combined.slice(2, 4); // [3,4] const slice = combined.slice(2); // [3,4,5,6] const slice = combined.slice(); // [1,2,3,4,5,6] spread operator (ES6)ğŸ”¥ const combined = [...first, ...second]; const combined = [...first, \u0026#34;a\u0026#34;, ...second, \u0026#34;b\u0026#34;]; // [1,2,3,\u0026#39;a\u0026#39;,4,5,6,\u0026#39;b\u0026#39;] const copy = [...combined]; // copy iterate array const numbers = [1, 2, 3]; for (let number of numbers) console.log(number); numbers.forEach(function (number) { console.log(number); }); numbers.forEach((number) =\u0026gt; console.log(number)); // arrow version numbers.forEach((number, index) =\u0026gt; console.log(index, number)); // also index ğŸ”¥ join array, split string const numbers = [1, 2, 3]; const joined = numbers.join(\u0026#34;,\u0026#34;); // \u0026#39;1,2,3\u0026#39; const message = \u0026#34;This is my first message\u0026#34;; const parts = message.split(\u0026#34; \u0026#34;); // [\u0026#39;This\u0026#39;, \u0026#39;is\u0026#39;, ..]; sort array const numbers = [2, 3, 1]; numbers.sort(); // [1,2,3] numbers.reverse(); // [3,2,1] const Courses = [ { id: 1, name: \u0026#34;Node.js\u0026#34; }, { id: 2, name: \u0026#34;JavaScript\u0026#34; }, ]; Courses.sort(function (a, b) { // a \u0026lt; b =\u0026gt; -1 // a \u0026gt; b =\u0026gt; 1 // a == b =\u0026gt; 0 const nameA = a.name.toUpperCase(); const nameB = b.name.toUpperCase(); if (nameA \u0026lt; nameB) return -1; if (nameA \u0026gt; nameB) return 1; return 0; }); testing elements every() some() const numbers = [1, 2, 3]; // åªè¦ä¸€å€‹å¤±æ•—ï¼Œå°±å›å‚³ false const allPositive = numbers.every(function (value) { return value \u0026gt;= 0; }); // åªè¦æœ‰ä¸€å€‹æˆç«‹å°±å›å‚³ true const atLeastOnePositive = number.some(function (value) { return value \u0026gt;= 0; }); Filter array const number = [1, -1, 2, 3]; const filtered = numbers.filter(function (value) { // [1,2,3] return value \u0026gt;= 0; }); const filtered = numbers.filter((n) =\u0026gt; n \u0026gt;= 0); // arrow mappin array map è·Ÿ filter return array, å¯ä»¥ chain const number = [1, -1, 2, 3]; const filtered = numbers.filter((n) =\u0026gt; n \u0026gt;= 0); const items = filtered.map((n) =\u0026gt; \u0026#34;\u0026lt;li\u0026gt;\u0026#34; + n + \u0026#34;\u0026lt;/li\u0026gt;\u0026#34;); console.log(items); const html = \u0026#34;\u0026lt;ul\u0026gt;\u0026#34; + items.join(\u0026#34;\u0026#34;) + \u0026#34;\u0026lt;/ul\u0026gt;\u0026#34;; const items = filtered.map((n) =\u0026gt; { const obj = { value: n }; return obj; }); const items = filtered.map((n) =\u0026gt; ({ value: n })); // é€™é‚Šç”¨ () å°‡ obj åŒ…èµ·ä¾†ï¼Œä¸ç„¶æœƒå‡ºéŒ¯ reduce array const numbers = [1, -1, 2, 3]; let sum = 0; for (let n of numbers) sum += n; console.log(sum); // alternative const sum = numbers.reduce((accumulator, currentValue) =\u0026gt; { return accumulator + currentValue; }, 0); // arrow const sum = numbers.reduct( (accumulator, currentValue) =\u0026gt; accumulator + currentValue ); ","permalink":"https://blog2.cmwang.net/zh/posts/2020/11/javascript-note-1/","summary":"Javascript Notes","title":"Javascript Notes"},{"content":"Create Model æœƒè‡ªå‹•ç”¢ç”Ÿ primary keyï¼Œå› ç‚ºç¹¼æ‰¿è‡ª models.Modelã€‚è‹¥æƒ³è¦è‡ªè¨‚ primary keyï¼Œå¯ä»¥åƒè€ƒ sku çš„å¯«æ³• # playground/models.py from django.db import models # Create your models here. class Product(models.Model): #sku = models.CharField(max_length=10, primary_key=True) # use this primary key title = models.CharField(max_length=300) description = models.TextField() price = models.DecimalField(max_digits=6, decimal_places=2) inventory = models.IntegerField() last_updated = models.DateTimeField(auto_now=True) # update every time Choices field class Customer(models.Model): # best practice to prevent hardcode MEMBERSHIP_BRONZE = \u0026#39;B\u0026#39; MEMBERSHIP_SILVER = \u0026#39;S\u0026#39; MEMBERSHIP_GOLD = \u0026#39;G\u0026#39; MEMBERSHIP_CHOICES = [ (MEMBERSHIP_BRONZE, \u0026#39;Bronze\u0026#39;), (MEMBERSHIP_SILVER, \u0026#39;Silver\u0026#39;), (MEMBERSHIP_GOLD, \u0026#39;Gold\u0026#39;), ] first_name = models.CharField(max_length=100) last_name = models.CharField(max_length=100) email = models.EmailField(max_length=100,unique=True) phone = models.CharField(max_length=15, unique=True) birth_date = models.DateTimeField(null=True, blank=True) membership = models.CharField(max_length=1, choices=MEMBERSHIP_CHOICES, default=MEMBERSHIP_BRONZE) One-to-One relationship class Address(models.Model): street = models.CharField(max_length=255) city = models.CharField(max_length=255) # address is the child, customer is the parent customr = models.OneToOneField( Customer, on_delete=models.CASCADE, primary_key=True) on_delete=models.CASCADE (å±¤ç´šåˆªé™¤): ç•¶çˆ¶æ¨¡å‹è¢«åˆªé™¤æ™‚ï¼Œèˆ‡ä¹‹ç›¸é—œè¯çš„å­æ¨¡å‹ä¹Ÿæœƒè¢«åˆªé™¤ on_delete=models.PROTECT (ä¿è­·æ¨¡å¼): é˜²æ­¢åˆªé™¤çˆ¶æ¨¡å‹ï¼Œé™¤éå…ˆåˆªé™¤æ‰€æœ‰èˆ‡ä¹‹ç›¸é—œçš„å­æ¨¡å‹ã€‚ on_delete=models.SET_NULL (è¨­ç‚ºç©ºå€¼): ç•¶çˆ¶æ¨¡å‹è¢«åˆªé™¤æ™‚ï¼Œèˆ‡ä¹‹ç›¸é—œè¯çš„å­æ¨¡å‹çš„å¤–éµæ¬„ä½ï¼ˆå³OneToOneFieldï¼‰æœƒè¢«è¨­ç‚º NULLã€‚ ç¯„ä¾‹ï¼šä¸€å€‹ç°¡å–®çš„éƒ¨è½æ ¼ç³»çµ±ï¼Œå¦‚æœä¸€ç¯‡æ–‡ç« è¢«ä½œè€…åˆªé™¤ï¼Œè©²æ–‡ç« çš„ä½œè€…æ¬„ä½æœƒè¢«è¨­ç‚º NULLã€‚ on_delete=models.SET_DEFAULT (è¨­ç‚ºé è¨­å€¼): ç•¶çˆ¶æ¨¡å‹è¢«åˆªé™¤æ™‚ï¼Œèˆ‡ä¹‹ç›¸é—œè¯çš„å­æ¨¡å‹çš„å¤–éµæ¬„ä½æœƒè¢«è¨­ç‚ºé è¨­å€¼ã€‚ ç¯„ä¾‹ï¼šä¸€å€‹ç°¡å–®çš„éƒ¨è½æ ¼ç³»çµ±ï¼Œå¦‚æœä¸€ç¯‡æ–‡ç« è¢«ä½œè€…åˆªé™¤ï¼Œè©²æ–‡ç« çš„ä½œè€…æ¬„ä½æœƒè¢«è¨­ç‚º NULLã€‚ on_delete=models.SET() (è¨­å®šç‚ºç‰¹å®šå€¼): ç•¶çˆ¶æ¨¡å‹è¢«åˆªé™¤æ™‚ï¼Œèˆ‡ä¹‹ç›¸é—œè¯çš„å­æ¨¡å‹çš„å¤–éµæ¬„ä½æœƒè¢«è¨­ç‚ºç‰¹å®šçš„å€¼ï¼ˆé€šå¸¸æ˜¯å¦ä¸€å€‹å­˜åœ¨çš„æ¨¡å‹å¯¦ä¾‹ï¼‰ã€‚ ç¯„ä¾‹ï¼šä¸€å€‹è«–å£‡ç³»çµ±ï¼Œå¦‚æœä¸€å€‹ç”¨æˆ¶å¸³è™Ÿè¢«åˆªé™¤ï¼Œèˆ‡ä¹‹ç›¸é—œè¯çš„æ–‡ç« çš„ä½œè€…æ¬„ä½æœƒè¢«è¨­ç‚ºè«–å£‡çš„é è¨­ç”¨æˆ¶ï¼Œé€™å€‹é è¨­ç”¨æˆ¶çš„ ID ç‚º 1ã€‚ class Child(models.Model): parent = models.OneToOneField(Parent, on_delete=models.CASCADE) ... class Child(models.Model): parent = models.OneToOneField(Parent, on_delete=models.PROTECT) ... class Child(models.Model): parent = models.OneToOneField(Parent, on_delete=models.SET_NULL, null=True) ... class Child(models.Model): parent = models.OneToOneField(Parent, on_delete=models.SET_DEFAULT, default=1) ... class Child(models.Model): parent = models.OneToOneField(Parent, on_delete=models.SET(DefaultParent.objects.get(pk=1))) ... One-to-many relationship one collection can have many products\nUse foreignkey\nif you can not modify the order of declaration for the collection model, you can employ a string argument within the ForeignKey field:\ncollection = models.ForeignKey('Collection', on_delete=models.PROTECT)\nclass Collection(models.Model): title = models.CharField(max_length=300) class Product(models.Model): ... collection = models.ForeignKey(Collection, on_delete=models.PROTECT) Many-to-Many relationship Use ManyToManyField to customize the name of the reverse relation. Instead of the default product_set, you can use the related_name field class Promotion(models.Model): description = models.CharField(max_length=255) discount = models.FloatField() # product_set class Product(models.Model): ... collection = models.ForeignKey(\u0026#39;Collection\u0026#39;, on_delete=models.PROTECT) #promotions = models.ManyToManyField(Promotion, related_name=\u0026#39;products\u0026#39;) promotions = models.ManyToManyField(Promotion) Generic Relationship from django.contrib.contenttypes.models import ContentType from django.contrib.contenttypes.fields import GenericForeignKey from django.contrib.auth.models import User class LikeItem(models.Model): user = models.ForeignKey(User, on_delete=models.CASCADE) # type (Table) content_type = models.ForeignKey(ContentType, on_delete=models.CASCADE) # ID (record) object_id = models.PositiveSmallIntegerField() # Pointer content_object = GenericForeignKey() ContentType (å…§å®¹é¡å‹): åœ¨ Django ä¸­ï¼ŒContentType æ˜¯ä¸€å€‹æ¨¡å‹ï¼Œå®ƒç”¨ä¾†è¡¨ç¤ºå…¶ä»–æ¨¡å‹çš„é¡å‹ã€‚åœ¨é€™å€‹ç¨‹å¼ç¢¼ä¸­ï¼Œcontent_type æ¬„ä½æ˜¯ä¸€å€‹å¤–éµï¼Œé—œè¯åˆ° ContentType æ¨¡å‹ã€‚é€™éº¼åšçš„å¥½è™•æ˜¯ï¼Œå®ƒå…è¨±ä½ å‹•æ…‹åœ°åƒç…§å…¶ä»–æ¨¡å‹ï¼Œè€Œä¸æ˜¯åœ¨ç¨‹å¼ç¢¼ä¸­ç›´æ¥å¯«æ­»æ¨¡å‹çš„åç¨±ã€‚é€™æ¨£çš„è¨­è¨ˆå¯ä»¥å¢åŠ å½ˆæ€§ï¼Œè®“ä½ çš„ç¨‹å¼ç¢¼æ›´å®¹æ˜“æ“´å±•å’Œä¿®æ”¹ï¼Œè€Œä¸éœ€è¦æ”¹å‹•å¤ªå¤šç¨‹å¼ç¢¼ã€‚\nGenericForeignKey (é€šç”¨å¤–éµ): GenericForeignKey æ˜¯ä¸€å€‹ç”¨æ–¼é—œè¯ä»»æ„æ¨¡å‹çš„ç‰¹æ®Šæ¬„ä½ã€‚åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œcontent_object æ¬„ä½ä½¿ç”¨äº† GenericForeignKeyã€‚é€™æ„å‘³è‘— LikeItem æ¨¡å‹å¯ä»¥èˆ‡ä»»ä½•å…¶ä»–æ¨¡å‹å»ºç«‹é—œè¯ï¼Œè€Œä¸åƒ…åƒ…æ˜¯å›ºå®šçš„ä¸€å€‹æˆ–å¹¾å€‹æ¨¡å‹ã€‚é€šé content_type å’Œ object_id é€™å…©å€‹æ¬„ä½ï¼Œä½ å¯ä»¥å‹•æ…‹åœ°å»ºç«‹èˆ‡ä¸åŒæ¨¡å‹çš„é—œè¯ã€‚\nLikeItem æ¨¡å‹: LikeItem æ˜¯ä¸€å€‹ç”¨æˆ¶é»è´Šçš„æ¨¡å‹ï¼Œå®ƒé—œè¯åˆ°äº†ä½¿ç”¨è€… (user) å’Œå…¶ä»–æ¨¡å‹ (content_type å’Œ object_id ç¢ºå®šçš„æ¨¡å‹)ã€‚é€™æ¨£çš„è¨­è¨ˆå…è¨±ä½ åœ¨ä¸ç¢ºå®šå…·é«”æ¨¡å‹çš„æƒ…æ³ä¸‹ï¼Œä¿å­˜ç”¨æˆ¶å°ä¸åŒé¡å‹ç‰©ä»¶çš„å–œæ„›ã€‚\nåœ¨ LikeItem æ¨¡å‹ä¸­ï¼Œcontent_type æ˜¯ä¸€å€‹å¤–éµæ¬„ä½ï¼Œé—œè¯åˆ° ContentType æ¨¡å‹ï¼Œç”¨ä¾†æŒ‡å®šè¢«é»è´Šç‰©ä»¶çš„é¡å‹ï¼ˆä¾‹å¦‚ï¼Œæ˜¯ä¸€ç¯‡æ–‡ç« é‚„æ˜¯ä¸€å¼µåœ–ç‰‡ç­‰ç­‰ï¼‰ã€‚è€Œ object_id æ˜¯ä¸€å€‹æ­£æ•´æ•¸æ¬„ä½ï¼Œç”¨ä¾†æŒ‡å®šå…·é«”çš„è¢«é»è´Šç‰©ä»¶çš„ IDã€‚\nGenericForeignKey çš„ä½œç”¨å°±æ˜¯æŠŠ content_type å’Œ object_id é€™å…©å€‹æ¬„ä½é—œè¯åˆ°ä¸€å€‹å…·é«”çš„æ¨¡å‹å¯¦ä¾‹ä¸Šï¼Œé€™æ¨£ä½ å°±å¯ä»¥åœ¨ LikeItem ä¸­ä½¿ç”¨ content_object é€™å€‹å±¬æ€§ï¼Œç›´æ¥è¨ªå•è¢«é»è´Šçš„å…·é«”ç‰©ä»¶ï¼Œè€Œä¸éœ€è¦é—œå¿ƒå®ƒæ˜¯å“ªç¨®æ¨¡å‹ã€‚\nä¾‹å¦‚ï¼Œå¦‚æœ content_type æŒ‡å®šç‚ºæ–‡ç« ï¼Œobject_id æŒ‡å®šç‚ºæŸç¯‡æ–‡ç« çš„ IDï¼Œé‚£éº¼ content_object å°±å¯ä»¥ç›´æ¥è¨ªå•è©²ç¯‡æ–‡ç« çš„æ‰€æœ‰å±¬æ€§å’Œæ–¹æ³•ã€‚é€™æ¨£ï¼Œä½ å¯ä»¥åœ¨ä¸ç¢ºå®šå…·é«”æ¨¡å‹çš„æƒ…æ³ä¸‹ï¼Œå‹•æ…‹åœ°å»ºç«‹é—œè¯ï¼Œä½¿å¾—ç¨‹å¼ç¢¼æ›´åŠ éˆæ´»å’Œå¯æ“´å±•ã€‚\nä½ å¯ä»¥å°‡ content_object æƒ³åƒæˆç¨‹å¼èªè¨€ä¸­çš„æŒ‡æ¨™ pointerã€‚åœ¨é€™å€‹ä¸Šä¸‹æ–‡ä¸­ï¼Œcontent_object å¯¦éš›ä¸Šæ˜¯ä¸€å€‹é€šç”¨æŒ‡æ¨™ï¼ŒæŒ‡å‘äº†æ‡‰ç”¨ä¸­çš„ä»»ä½•ä¸€å€‹æ¨¡å‹çš„ç‰¹å®šå¯¦ä¾‹ã€‚é€™æ¨£çš„è¨­è¨ˆä½¿å¾—ä½ å¯ä»¥å‹•æ…‹åœ°æŒ‡å‘å’Œè¨ªå•ä¸åŒæ¨¡å‹çš„ç‰©ä»¶ï¼Œè€Œä¸éœ€è¦çŸ¥é“å…·é«”æ˜¯å“ªå€‹é¡å‹çš„ç‰©ä»¶ã€‚\nå°±åƒæŒ‡æ¨™åœ¨ç¨‹å¼èªè¨€ä¸­å¯ä»¥æŒ‡å‘ä¸åŒçš„è®Šæ•¸æˆ–æ•¸æ“šçµæ§‹ï¼Œcontent_object å…è¨±ä½ åœ¨ LikeItem æ¨¡å‹ä¸­æŒ‡å‘ä»»ä½•é¡å‹çš„ç‰©ä»¶ï¼Œå¾è€Œå¯¦ç¾å½ˆæ€§çš„è³‡æ–™æ¨¡å‹ã€‚é€™æ¨£çš„æŠ½è±¡è¨­è¨ˆä½¿å¾—ç¨‹å¼ç¢¼æ›´å…·é€šç”¨æ€§ï¼Œå¯ä»¥æ‡‰å°å¤šç¨®ä¸åŒçš„æƒ…æ³ï¼ŒåŒæ™‚ä¹Ÿä½¿å¾—ç¨‹å¼ç¢¼æ›´å®¹æ˜“æ“´å±•å’Œç¶­è­·ã€‚\nGeneric Relationship - Example å‡è¨­ä½ çš„å°è±¡æ˜¯ Articleï¼ˆæ–‡ç« ï¼‰æ¨¡å‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ GenericForeignKey ä¾†å»ºç«‹ LikeItem èˆ‡ Article ä¹‹é–“çš„é—œè¯ã€‚ä»¥ä¸‹æ˜¯ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼š\né¦–å…ˆï¼Œå®šç¾©ä½ çš„ Article æ¨¡å‹ï¼š\nfrom django.db import models class Article(models.Model): # æ–‡ç« çš„å±¬æ€§ï¼Œä¾‹å¦‚æ¨™é¡Œã€å…§å®¹ç­‰ç­‰ title = models.CharField(max_length=100) content = models.TextField() def __str__(self): return self.title ç„¶å¾Œï¼Œå®šç¾©ä½ çš„ LikeItem æ¨¡å‹ï¼Œä½¿ç”¨ GenericForeignKey ä¾†å»ºç«‹é€šç”¨å¤–éµé—œè¯ï¼š\nfrom django.contrib.contenttypes.fields import GenericForeignKey from django.contrib.contenttypes.models import ContentType from django.contrib.auth.models import User from django.db import models class LikeItem(models.Model): user = models.ForeignKey(User, on_delete=models.CASCADE) content_type = models.ForeignKey(ContentType, on_delete=models.CASCADE) object_id = models.PositiveIntegerField() content_object = GenericForeignKey(\u0026#39;content_type\u0026#39;, \u0026#39;object_id\u0026#39;) åœ¨é€™å€‹ä¾‹å­ä¸­ï¼ŒLikeItem æ¨¡å‹å¯ä»¥é—œè¯åˆ°ä»»ä½•æ¨¡å‹çš„å¯¦ä¾‹ï¼ŒåŒ…æ‹¬ Articleã€‚ç•¶ä½ æƒ³è¦ç‚ºæŸç¯‡æ–‡ç« å»ºç«‹ä¸€å€‹ LikeItem æ™‚ï¼Œä½ å¯ä»¥é€™æ¨£åšï¼š\n# å‰µå»ºä¸€ç¯‡æ–‡ç«  article = Article.objects.create(title=\u0026#34;æ¨™é¡Œ\u0026#34;, content=\u0026#34;æ–‡ç« å…§å®¹\u0026#34;) # å‰µå»ºä¸€å€‹ LikeItem é—œè¯åˆ°é€™ç¯‡æ–‡ç«  like_item = LikeItem.objects.create(user=user, content_type=ContentType.objects.get_for_model(article), object_id=article.id) # ä½¿ç”¨ GenericForeignKey è¨ªå•è¢«é»è´Šçš„ç‰©ä»¶ liked_article = like_item.content_object print(liked_article.title) # è¼¸å‡º: æ¨™é¡Œ åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œcontent_type æŒ‡å®šç‚º Article æ¨¡å‹çš„é¡å‹ï¼Œobject_id æŒ‡å®šç‚ºå…·é«”æ–‡ç« çš„ IDã€‚é€šé GenericForeignKeyï¼Œä½ å¯ä»¥ä½¿ç”¨ content_object ç›´æ¥è¨ªå•åˆ°è¢«é»è´Šçš„æ–‡ç« çš„å±¬æ€§ã€‚é€™æ¨£ï¼Œä½ å¯ä»¥å‹•æ…‹åœ°å»ºç«‹èˆ‡ä¸åŒæ¨¡å‹çš„é—œè¯ï¼Œè€Œä¸éœ€è¦ç‚ºæ¯ç¨®æ¨¡å‹éƒ½å®šç¾©ä¸€å€‹å–®ç¨çš„å¤–éµã€‚\nReverse Relationship - Example åœ¨ Django ä¸­ï¼Œåå‘é—œä¿‚(reverse relationship) é€šå¸¸æ˜¯è‡ªå‹•ç”¢ç”Ÿçš„ï¼Œç„¡è«–æ˜¯åœ¨ä¸€å°ä¸€ï¼ˆOne-to-Oneï¼‰ã€ä¸€å°å¤šï¼ˆOne-to-Manyï¼‰é‚„æ˜¯å¤šå°å¤šï¼ˆMany-to-Manyï¼‰çš„é—œä¿‚ä¸­ï¼ŒDjango éƒ½æœƒè‡ªå‹•ç‚ºä½ å»ºç«‹åå‘é—œä¿‚ã€‚é€™æ„å‘³è‘—ä½ å¯ä»¥å¾ä¸€å€‹æ¨¡å‹å°è±¡è¨ªå•èˆ‡ä¹‹ç›¸é—œè¯çš„å…¶ä»–æ¨¡å‹å°è±¡ã€‚\nå‡è¨­ä½ æœ‰å…©å€‹æ¨¡å‹ï¼Œä¸€å€‹æ˜¯Authorï¼Œå¦ä¸€å€‹æ˜¯Bookã€‚Bookæ¨¡å‹æœ‰ä¸€å€‹å¤–éµæ¬„ä½æŒ‡å‘Authoræ¨¡å‹ï¼š\nfrom django.db import models class Author(models.Model): name = models.CharField(max_length=100) class Book(models.Model): title = models.CharField(max_length=100) author = models.ForeignKey(Author, on_delete=models.CASCADE) åœ¨é€™å€‹ä¾‹å­ä¸­ï¼ŒBookæ¨¡å‹æœ‰ä¸€å€‹å¤–éµæ¬„ä½authoræŒ‡å‘Authoræ¨¡å‹ã€‚Django æœƒè‡ªå‹•ç‚ºAuthoræ¨¡å‹ç”Ÿæˆä¸€å€‹åå‘é—œä¿‚ã€‚é€™æ„å‘³è‘—ä½ å¯ä»¥é€éAuthoræ¨¡å‹ä¾†è¨ªå•æ‰€æœ‰èˆ‡ä¹‹ç›¸é—œè¯çš„æ›¸ç±ï¼Œå³ä½¿ä½ ä¸¦æ²’æœ‰åœ¨Authoræ¨¡å‹ä¸­å®šç¾©ç›¸é—œçš„æ¬„ä½ã€‚\nä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸€å€‹Authorçš„å¯¦ä¾‹authorï¼Œä½ å¯ä»¥é€™æ¨£ç²å–æ‰€æœ‰èˆ‡é€™å€‹ä½œè€…ç›¸é—œçš„æ›¸ç±ï¼š\nbooks = author.book_set.all() åœ¨é€™è£¡ï¼Œbook_setå°±æ˜¯ Django è‡ªå‹•ç‚ºAuthoræ¨¡å‹ç”Ÿæˆçš„åå‘é—œä¿‚ã€‚é€™å€‹åç¨±çš„æ ¼å¼æ˜¯å°å¯«çš„æ¨¡å‹åç¨±_setï¼Œå®ƒå¯ä»¥è®“ä½ è¨ªå•åˆ°æ‰€æœ‰èˆ‡é€™å€‹æ¨¡å‹ç›¸é—œçš„å°è±¡ã€‚é€™ç¨®åå‘é—œä¿‚çš„è‡ªå‹•ç”Ÿæˆä½¿å¾—åœ¨ Django ä¸­é€²è¡Œæ¨¡å‹ä¹‹é–“çš„æŸ¥è©¢å’Œæ“ä½œæ›´åŠ æ–¹ä¾¿ã€‚\nç„¶è€Œï¼Œæœ‰ä¸€å€‹ç‰¹æ®Šçš„æƒ…æ³æ˜¯å¦‚æœä½ å·²ç¶“ä½¿ç”¨äº† related_name åƒæ•¸ä¾†å®šç¾©äº†è‡ªå®šç¾©çš„åå‘é—œä¿‚åç¨±ï¼Œåå‘é—œä¿‚çš„åç¨±å°±ä¸å†æ˜¯é»˜èªçš„ å°å¯«çš„æ¨¡å‹åç¨±_set æ ¼å¼ã€‚åœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œä½ å¿…é ˆé€šéè‡ªå®šç¾©çš„åç¨±ä¾†è¨ªå•åå‘é—œä¿‚ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼š\nfrom django.db import models class Person(models.Model): name = models.CharField(max_length=100) class Passport(models.Model): number = models.CharField(max_length=20) person = models.OneToOneField(Person, on_delete=models.CASCADE, related_name=\u0026#39;passport\u0026#39;) åœ¨é€™å€‹ä¾‹å­ä¸­ï¼ŒPassport æ¨¡å‹æœ‰ä¸€å€‹ä¸€å°ä¸€çš„å¤–éµé—œä¿‚ï¼Œä¸¦ä¸”ä½¿ç”¨äº† related_name='passport' åƒæ•¸ã€‚é€™æ¨£ï¼Œåœ¨ Person æ¨¡å‹ä¸­å°±ä¸æœƒè‡ªå‹•ç”Ÿæˆé»˜èªçš„åå‘é—œä¿‚ã€‚è¦è¨ªå•é€™å€‹é—œä¿‚ï¼Œä½ éœ€è¦ä½¿ç”¨ passport é€™å€‹è‡ªå®šç¾©çš„åç¨±ï¼š\nperson = Person.objects.get(pk=1) passport = person.passport # è¨ªå•ä¸€å°ä¸€é—œä¿‚çš„åå‘é—œä¿‚ åœ¨å…¶ä»–æƒ…æ³ä¸‹ï¼ˆåŒ…æ‹¬ä¸€å°å¤šå’Œå¤šå°å¤šé—œä¿‚ï¼‰ï¼ŒDjango éƒ½æœƒè‡ªå‹•ç”Ÿæˆé»˜èªçš„åå‘é—œä¿‚ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨æ¨¡å‹çš„åç¨±ï¼ˆå°å¯«ï¼‰ä½œç‚ºåå‘é—œä¿‚çš„åç¨±ã€‚\nrelated_name field in ForeignKey åœ¨ä¸€å°å¤šé—œä¿‚ä¸­ï¼Œrelated_name å¯ä»¥è¢«ç”¨ä¾†å®šç¾©åå‘é—œä¿‚çš„åç¨±ï¼Œä½¿ä½ èƒ½å¤ æ›´å…·æ„ç¾©åœ°è¨ªå•ç›¸é—œå°è±¡ã€‚åœ¨å¤šå°å¤šé—œä¿‚ä¸­ï¼Œrelated_name å¯ä»¥è¢«ç”¨ä¾†å®šç¾©é€šéä¸­é–“è¡¨è¨ªå•ç›¸é—œå°è±¡æ™‚çš„åç¨±ã€‚\nä»¥ä¸‹æ˜¯ä¸€å€‹ä¸€å°å¤šå’Œå¤šå°å¤šé—œä¿‚ä¸­ related_name çš„ä½¿ç”¨ç¤ºä¾‹ï¼š\nä¸€å°å¤šï¼ˆOne-to-Manyï¼‰é—œä¿‚ï¼š\nfrom django.db import models class Author(models.Model): name = models.CharField(max_length=100) class Book(models.Model): title = models.CharField(max_length=100) author = models.ForeignKey(Author, on_delete=models.CASCADE, related_name=\u0026#39;books\u0026#39;) åœ¨é€™å€‹ä¾‹å­ä¸­ï¼ŒBook æ¨¡å‹çš„ author æ¬„ä½å®šç¾©äº†å¤–éµé—œä¿‚ï¼Œä¸¦ä¸”ä½¿ç”¨äº† related_name='books' åƒæ•¸ã€‚é€™æ¨£ï¼Œä½ å°±å¯ä»¥é€é author.books.all() ä¾†è¨ªå•ä¸€ä½ä½œè€…çš„æ‰€æœ‰æ›¸ç±ã€‚\nå¤šå°å¤šï¼ˆMany-to-Manyï¼‰é—œä¿‚ï¼š\nfrom django.db import models class Person(models.Model): name = models.CharField(max_length=100) groups = models.ManyToManyField(\u0026#39;Group\u0026#39;, related_name=\u0026#39;memberships\u0026#39;) class Group(models.Model): name = models.CharField(max_length=100) # å…¶ä»–æ¬„ä½å’Œæ–¹æ³• åœ¨é€™å€‹ä¾‹å­ä¸­ï¼ŒPerson æ¨¡å‹å’Œ Group æ¨¡å‹ä¹‹é–“å»ºç«‹äº†å¤šå°å¤šçš„é—œä¿‚ã€‚Person æ¨¡å‹çš„ groups æ¬„ä½ä½¿ç”¨äº† related_name='memberships' åƒæ•¸ã€‚é€™æ¨£ï¼Œä½ å¯ä»¥é€é group.memberships.all() ä¾†è¨ªå•ä¸€å€‹ç¾¤çµ„ä¸­çš„æ‰€æœ‰æˆå“¡ã€‚\n","permalink":"https://blog2.cmwang.net/zh/posts/2020/10/django-data-model/","summary":"Django - Data Modelling","title":"Django - Data Modelling"},{"content":"Create Project poetry init portry add django django-admin startproject my_site . # period to current directory python manage.py runserver [9000] # port is optional Every Django project consists of multiple apps. Create APP python manage.py startapp playground â”œâ”€â”€ manage.py â”œâ”€â”€ playground â”‚Â â”œâ”€â”€ __init__.py â”‚Â â”œâ”€â”€ admin.py â”‚Â â”œâ”€â”€ apps.py # config setting â”‚Â â”œâ”€â”€ migrations â”‚Â â”‚Â â””â”€â”€ __init__.py â”‚Â â”œâ”€â”€ models.py â”‚Â â”œâ”€â”€ tests.py â”‚Â â””â”€â”€ views.py\t# request handlers Register APP you can use both methods. # settings.py INSTALLED_APPS = [ # ... \u0026#39;playground\u0026#39;, # ... ] # settings.py INSTALLED_APPS = [ # ... \u0026#39;playground.apps.PlaygroundConfig\u0026#39;, # ... ] Views # playground/views.py from django.shortcuts import render from django.http import HttpResponse def say_hello(request): return HttpResponse(\u0026#39;Hello World\u0026#39;) Maps URLs to Views setup urls.py in the app # playground/urls.py import django.urls import path from . import views # URLConf: need to be this variable name ğŸ’¡ urlpatterns = [ path(\u0026#39;playground/hello\u0026#39;, views.say_hello) ] include the app\u0026rsquo;s url in the project level # storefront/urls.py from django.contrib import admin from django.urls import path, include # add include urlpatterns = [ path(\u0026#39;admin/\u0026#39;, admin.site.urls), path(\u0026#39;playground/\u0026#39;, include(\u0026#39;playground.urls\u0026#39;)) # add this ] Use Templates create templates folder under playground and create a new file hello.html. \u0026lt;!-- playground/templates/hello.html --\u0026gt; {% if name %} \u0026lt;h1\u0026gt;Hello {{ name }}\u0026lt;/h1\u0026gt; {% else %} \u0026lt;h1\u0026gt;Hello World\u0026lt;/h1\u0026gt; {% endif %} refine the views.py (request handler) # playground/views.py from django.shortcuts import render #from django.http import HttpResponse def say_hello(request): return render(request, \u0026#39;hello.html\u0026#39;, {\u0026#39;name\u0026#39;: \u0026#39;Jamie\u0026#39;}) Debug Tools VSCode: Create a launch.json file -\u0026gt; select django Django Debug Toolbar: follow the instructions ğŸ’ ","permalink":"https://blog2.cmwang.net/zh/posts/2020/10/django-fundamental/","summary":"Django - Fundamental","title":"Django - Fundamental"},{"content":"\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34; /\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Simple Form\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;h1\u0026gt;Contact Us\u0026lt;/h1\u0026gt; \u0026lt;!-- The \u0026#39;action\u0026#39; attribute specifies where the form data will be sent --\u0026gt; \u0026lt;!-- The \u0026#39;method\u0026#39; attribute specifies the HTTP method to be used (GET or POST) --\u0026gt; \u0026lt;form action=\u0026#34;/submit_form\u0026#34; method=\u0026#34;post\u0026#34;\u0026gt; \u0026lt;!-- Text Input --\u0026gt; \u0026lt;label for=\u0026#34;name\u0026#34;\u0026gt;Name:\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; id=\u0026#34;name\u0026#34; name=\u0026#34;user_name\u0026#34; placeholder=\u0026#34;Your name\u0026#34; required /\u0026gt; \u0026lt;br /\u0026gt; \u0026lt;!-- Email Input --\u0026gt; \u0026lt;label for=\u0026#34;email\u0026#34;\u0026gt;Email:\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;email\u0026#34; id=\u0026#34;email\u0026#34; name=\u0026#34;user_email\u0026#34; placeholder=\u0026#34;Your email\u0026#34; required /\u0026gt; \u0026lt;br /\u0026gt; \u0026lt;!-- Password Input --\u0026gt; \u0026lt;label for=\u0026#34;password\u0026#34;\u0026gt;Password:\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;password\u0026#34; id=\u0026#34;password\u0026#34; name=\u0026#34;user_password\u0026#34; required /\u0026gt; \u0026lt;br /\u0026gt; \u0026lt;!-- Radio Buttons --\u0026gt; \u0026lt;p\u0026gt;Preferred Contact Method:\u0026lt;/p\u0026gt; \u0026lt;input type=\u0026#34;radio\u0026#34; id=\u0026#34;contact_email\u0026#34; name=\u0026#34;contact_method\u0026#34; value=\u0026#34;email\u0026#34; checked /\u0026gt; \u0026lt;label for=\u0026#34;contact_email\u0026#34;\u0026gt;Email\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;radio\u0026#34; id=\u0026#34;contact_phone\u0026#34; name=\u0026#34;contact_method\u0026#34; value=\u0026#34;phone\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;contact_phone\u0026#34;\u0026gt;Phone\u0026lt;/label\u0026gt; \u0026lt;br /\u0026gt; \u0026lt;!-- Checkbox --\u0026gt; \u0026lt;input type=\u0026#34;checkbox\u0026#34; id=\u0026#34;subscribe\u0026#34; name=\u0026#34;subscribe\u0026#34; checked /\u0026gt; \u0026lt;label for=\u0026#34;subscribe\u0026#34;\u0026gt;Subscribe to our newsletter\u0026lt;/label\u0026gt; \u0026lt;br /\u0026gt; \u0026lt;!-- Textarea for Longer Text --\u0026gt; \u0026lt;label for=\u0026#34;message\u0026#34;\u0026gt;Message:\u0026lt;/label\u0026gt; \u0026lt;textarea id=\u0026#34;message\u0026#34; name=\u0026#34;user_message\u0026#34; rows=\u0026#34;4\u0026#34; cols=\u0026#34;50\u0026#34; placeholder=\u0026#34;Your message\u0026#34; \u0026gt;\u0026lt;/textarea\u0026gt; \u0026lt;br /\u0026gt; \u0026lt;!-- Submit Button --\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34; value=\u0026#34;Submit\u0026#34; /\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; \u0026lt;form\u0026gt; element: This is the container for your form. The action attribute specifies the URL where the form data will be sent, and the method attribute specifies the HTTP method (usually \u0026ldquo;GET\u0026rdquo; or \u0026ldquo;POST\u0026rdquo;).\nText Input (\u0026lt;input type=\u0026quot;text\u0026quot;\u0026gt;): Used for single-line text input. The id attribute is a unique identifier, and the name attribute is the key that will be used to identify this field when the form is submitted.\nEmail Input (\u0026lt;input type=\u0026quot;email\u0026quot;\u0026gt;): Similar to text input but specifically designed for email addresses.\nPassword Input (\u0026lt;input type=\u0026quot;password\u0026quot;\u0026gt;): Used for password input. The text is usually masked for security.\nRadio Buttons (\u0026lt;input type=\u0026quot;radio\u0026quot;\u0026gt;): Used when the user must select one option from a group of options. The name attribute groups the radio buttons together.\nCheckbox (\u0026lt;input type=\u0026quot;checkbox\u0026quot;\u0026gt;): Allows the user to select multiple options. The checked attribute makes the checkbox initially selected.\nTextarea (\u0026lt;textarea\u0026gt;): Used for multi-line text input, suitable for longer messages.\nSubmit Button (\u0026lt;input type=\u0026quot;submit\u0026quot;\u0026gt;): Submits the form when clicked.\n","permalink":"https://blog2.cmwang.net/zh/posts/2020/10/html-form-cheat-sheet/","summary":"HTML Form Cheat Sheet","title":"Html Form Cheat Sheet"},{"content":"Document Structure ! ç„¶å¾Œ tab å¿«é€Ÿéµï¼Œå¿«é€Ÿç”¢å‡ºéª¨æ¶ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; .... \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Paragraph element p \u0026lt;p\u0026gt;lorem ...\u0026lt;/p\u0026gt; Heading element h1, h2,\u0026hellip;, h6 åªèƒ½æœ‰ä¸€å€‹ H1 \u0026lt;h1\u0026gt;Taka\u0026#39;s Blog\u0026lt;/h1\u0026gt; Comments \u0026lt;!-- something --\u0026gt; Void Element br èˆ‡ hr \u0026lt;br /\u0026gt; \u0026lt;!-- æ›è¡Œ --\u0026gt; \u0026lt;hr /\u0026gt; \u0026lt;!-- åˆ†éš”ç·š --\u0026gt; Lists ul èˆ‡ ol Unordered List \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;item 1\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;item 2\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;item 3\u0026lt;/li\u0026gt; \u0026lt;ul\u0026gt;\u0026lt;/ul\u0026gt; \u0026lt;/ul\u0026gt; Ordered List \u0026lt;ol\u0026gt; \u0026lt;ol\u0026gt; item 1 \u0026lt;/ol\u0026gt; \u0026lt;ol\u0026gt; item 2 \u0026lt;/ol\u0026gt; \u0026lt;ol\u0026gt; item 3 \u0026lt;/ol\u0026gt; \u0026lt;ol\u0026gt;\u0026lt;/ol\u0026gt; \u0026lt;/ol\u0026gt; Emphasis em ä¸è¦å†ä½¿ç”¨ \u0026lt;i\u0026gt;lorem\u0026lt;/i\u0026gt; \u0026lt;em\u0026gt;lorem\u0026lt;/em\u0026gt; Bold strong \u0026lt;strong\u0026gt;lorem\u0026lt;/strong\u0026gt; Superscript, Subscript sup sub \u0026lt;sup\u0026gt;\u0026lt;/sup\u0026gt; \u0026lt;sub\u0026gt;\u0026lt;/sub\u0026gt; Image image alt å¾ˆé‡è¦ \u0026lt;img src=\u0026#34;io.png\u0026#34; alt=\u0026#34;something in the folder\u0026#34; /\u0026gt; Anchor (links) a The Anchor element - HTML: HyperText Markup Language | MDN\nlink to other elementsï¼Œå¯ä»¥ç”¨ # link åˆ°æŸä¸€æ®µè½çš„ id \u0026lt;a href=\u0026#34;...\u0026#34;\u0026gt;go to reddit\u0026lt;/a\u0026gt; \u0026lt;a href=\u0026#34;contact.html\u0026#34;\u0026gt;Contact\u0026lt;/a\u0026gt; \u0026lt;a href=\u0026#34;#pets\u0026#34;\u0026gt;My Pets\u0026lt;/a\u0026gt; \u0026lt;!-- link to section --\u0026gt; \u0026lt;h2 id=\u0026#34;pets\u0026#34;\u0026gt;Pets\u0026lt;/h2\u0026gt; image anchor \u0026lt;a href=\u0026#34;https://example.com\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;[https://picsum.photos/400](https://picsum.photos/400)\u0026#34; alt=\u0026#34;pig\u0026#34; /\u0026gt; \u0026lt;/a\u0026gt; target \u0026lt;a href=\u0026#34;contact.html\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;Contact\u0026lt;/a\u0026gt; Inline vs block elements inline ä¸æœƒæ›è¡Œ block elements æœƒä½”æ»¿æ•´è¡Œï¼Œä¾‹å¦‚ heading elements Forms use form to group controls together name for inputï¼Œé€™æ¨£å‚³éåƒæ•¸æ‰èƒ½å€åˆ¥æ˜¯å“ªå€‹ input placeholder for text input required è¨­ç‚ºå¿…å¡« input types: The Input (Form Input) element - HTML: HyperText Markup Language | MDN \u0026lt;form action=\u0026#34;/register\u0026#34; method=\u0026#34;get\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;any\u0026#34; placeholder=\u0026#34;any\u0026#34; /\u0026gt; \u0026lt;!-- text inputs --\u0026gt; \u0026lt;label for=\u0026#34;your_name\u0026#34;\u0026gt;Enter your name\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;name_input\u0026#34; id=\u0026#34;your_name\u0026#34; /\u0026gt; \u0026lt;!-- text inputs --\u0026gt; \u0026lt;button type=\u0026#34;submit\u0026#34;\u0026gt;Submit\u0026lt;/button\u0026gt; \u0026lt;!-- button --\u0026gt; \u0026lt;input type=\u0026#34;password\u0026#34; /\u0026gt; \u0026lt;input type=\u0026#34;email\u0026#34; /\u0026gt; \u0026lt;input type=\u0026#34;number\u0026#34; /\u0026gt; \u0026lt;input type=\u0026#34;color\u0026#34; /\u0026gt; \u0026lt;input type=\u0026#34;checkbox\u0026#34; name=\u0026#34;subscribe\u0026#34; /\u0026gt; \u0026lt;!-- ğŸ”¥ --\u0026gt; \u0026lt;input type=\u0026#34;radio\u0026#34; /\u0026gt; \u0026lt;/form\u0026gt; range input \u0026lt;input type=\u0026#34;range\u0026#34; min=\u0026#34;0\u0026#34; max=\u0026#34;10\u0026#34; step=\u0026#34;2\u0026#34; name=\u0026#34;volumnvalue\u0026#34; /\u0026gt; text area multiple line text input \u0026lt;textarea rows=\u0026#34;10\u0026#34; cols=\u0026#34;10\u0026#34;\u0026gt;\u0026lt;/textarea\u0026gt; selects \u0026lt;label for=\u0026#34;pet_options\u0026#34;\u0026gt;Select your pet\u0026lt;/label\u0026gt; \u0026lt;select name=\u0026#34;pets\u0026#34; id=\u0026#34;pet_options\u0026#34;\u0026gt; \u0026lt;option value=\u0026#34;dog\u0026#34;\u0026gt;Dog\u0026lt;/option\u0026gt; \u0026lt;option value=\u0026#34;cat\u0026#34;\u0026gt;Cat\u0026lt;/option\u0026gt; \u0026lt;/select\u0026gt; radio button éœ€è¦çµ¦ value å€åˆ†æ˜¯å“ªå€‹è¢«é¸ä¸­ è‹¥ä½¿ç”¨åŒæ¨£çš„ name ï¼Œå°±å¯ä»¥ group radio button \u0026lt;label for=\u0026#34;phone\u0026#34;\u0026gt;Call me\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;radio\u0026#34; id=\u0026#34;phone\u0026#34; ***name=\u0026#34;contact\u0026#34; *** **value=\u0026#34;phone\u0026#34; ** /\u0026gt; \u0026lt;label for=\u0026#34;email\u0026#34;\u0026gt;Email\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;radio\u0026#34; id=\u0026#34;email\u0026#34; ***name=\u0026#34;contact\u0026#34; *** **value=\u0026#34;email\u0026#34; ** /\u0026gt; Tables \u0026lt;thead\u0026gt; \u0026lt;tbody\u0026gt; \u0026lt;tfoot\u0026gt; \u0026lt;table\u0026gt; \u0026lt;thead\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;th\u0026gt;col_1\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;col_2\u0026lt;/th\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/thead\u0026gt; \u0026lt;tbody\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;lorem\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;lorem\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;lorem\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;lorem\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/tbody\u0026gt; \u0026lt;/table\u0026gt; Span and Divs span use for styling purpose, it does not have any meaning\ndiv generic containers that have no inherent meaning, they are use to group content together for styling.\nSemantic markup / Semantic elements\nä½¿ç”¨æœ‰èªæ„çš„æ¨™ç±¤è€Œä¸æ˜¯ä¸€å † div Semantics - MDN Web Docs Glossary: Definitions of Web-related terms | MDN\n","permalink":"https://blog2.cmwang.net/zh/posts/2020/10/html-cheat-sheet/","summary":"Cheat Sheet for HTML","title":"HTML Cheat Sheet"},{"content":"Comments // one line comment ğŸ‘ˆ # another one line comment ğŸ‘ˆ /* This is a multiple-lines comment block that spans over multiple lines */ Input \u0026amp; Output echo \u0026#39;Hello World\u0026#39;; // Debug output var_dump($names); print_r($products); // Input from console $name = readline(\u0026#39;What is your name : \u0026#39;); Naming Conventions // PHP opening/closing tag \u0026lt;?php echo \u0026#34;Hello World\u0026#34;; ?\u0026gt; // ğŸ”¥ if no closing tag the rest of the file will be considered PHP // Short syntax for PHP echo ğŸ’¡ \u0026lt;?= \u0026#34;Hello World\u0026#34; ?\u0026gt; //Enable strict typing (first line of your PHP file) \u0026lt;? declare(strict_types=1); // Include a PHP file require \u0026#39;app/Product.php\u0026#39; // Create a namespace namespace App; // Use a namespace use App\\Product; $firstName = \u0026#39;Mike\u0026#39; // camelCase function updateProduct() // camelCase class ProductItem // StudlyCaps const ACCESS_KEY = \u0026#39;123abc\u0026#39;; // all upper case with underscore separators Variables Declaration $name = \u0026#39;Mike\u0026#39;; //string $isActive = true; //boolean $number = 25; //integer $bankBalance = 1_000_000; // readable integer ğŸ’¡ $amount = 99.95; //float $fruits = [\u0026#39;orange\u0026#39;, \u0026#39;apple\u0026#39;, \u0026#39;banana\u0026#39;] //array const MAX_USERS = 50; //constant define(\u0026#39;MAX_USERS\u0026#39;, 50); //constant // Assign \u0026#39;by reference\u0026#39; with the \u0026amp; keyword $name_2 = \u0026amp;$name_1 // Type conversion ğŸ”¥ $age = (int)readline(\u0026#39;Your age: \u0026#39;); echo \u0026#39;Your age is\u0026#39; . (string)$age; echo gettype($age); // int echo is_int($age) // true echo is_float(12.5) // true echo is_string($name) // true Data Types null: case insensitive bool: case insensitive int float string array object callable resource Strings // String can use single quote $name = \u0026#39;Mike\u0026#39; // or double quote $name = \u0026#34;Mike\u0026#34; // Double quote string can escape characters \\n = new line \\t = tab \\\\ = backslash echo \u0026#34;Hello Mike\\nHello David\u0026#34;; // Double quote string can do interpolation ğŸ’¡ echo \u0026#34;Hello $name\u0026#34;; echo \u0026#34;Hello {$name}â„¢\u0026#34;; // string concat echo \u0026#39;Hello \u0026#39; . $name; // string length echo strlen($name); // Remove space(s) before and after echo trim($text) // Convert to lowercase / uppercase echo strtolower($email); echo strtoupper($name); // Converts the first character to uppercase echo ucfirst($name); // \u0026#39;Mike\u0026#39; // Replace text a by text b in $text echo str_replace(\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, $text); // String Contains (PHP 8) echo str_contains($name, \u0026#39;ke\u0026#39;) # true // Find numeric position of first occurrence $pos = strpos($name, \u0026#39;k\u0026#39;); # 2 // Returns portion of string (offset / length) echo substr($name, 0, $pos); # Mi Numbers // Shortcut addition assignment $value = 10 $value++ // 11 // or $value += 1 // 11 // Shortcut subtraction assignment $value = 10 $value-- // 9 // or $value -= 1 // 9 // Check if numeric echo is_numeric(\u0026#39;59.99\u0026#39;); # true // Round a number echo round(0.80); // returns 1 // Round a number with precision echo round(1.49356, 2)); // returns 1.49 // Random number echo(rand(10, 100)); # 89 Arrays //Array declaration can contain any types $example = [\u0026#39;Mike\u0026#39;, 50.2, true, [\u0026#39;10\u0026#39;, \u0026#39;20\u0026#39;]]; //Array declaration $names = [\u0026#39;Mike\u0026#39;, \u0026#39;Peter\u0026#39;, \u0026#39;Shawn\u0026#39;, \u0026#39;John\u0026#39;]; // Insert $names[] = \u0026#34;Jane\u0026#34;; // ğŸ’¡ change array length // Direct access to a specific element $name[1] //output Peter // How to access an array in an array $example[3][1] // 20 //add a element to an array $names[] = \u0026#39;Micheal\u0026#39;; // Array merge $array3 = array_merge($array1, $array2); // Merge with spreading operator (also work with associative array) $array3 = [...$array1, ...$array2]; // Array Concat with Spread Operator $names = [\u0026#39;Mike\u0026#39;, \u0026#39;Peter\u0026#39;, \u0026#39;Paul\u0026#39;]; $people = [\u0026#39;John\u0026#39;, ...$names]; // [\u0026#39;John\u0026#39;, \u0026#39;Mike\u0026#39;, \u0026#39;Peter\u0026#39;, \u0026#39;Paul\u0026#39;] //Remove array entry: unset($names[\u0026#39;Peter\u0026#39;]); //Array to string echo implode(\u0026#39;, \u0026#39;, $names) //output Mike, Shawn, John, Micheal // String to Array echo explode(\u0026#39;,\u0026#39;, $text); // [\u0026#39;Mike\u0026#39;, \u0026#39;Shawn\u0026#39;, \u0026#39;John\u0026#39;] //loop for each array entry foreach($names as $name) { echo \u0026#39;Hello \u0026#39; . $name; } // Number of items in a Array echo count($names); //Associative array declaration (key =\u0026gt; value): $person = [\u0026#39;age\u0026#39; =\u0026gt; 45, \u0026#39;genre\u0026#39; =\u0026gt; \u0026#39;men\u0026#39;]; //Add to ass. array: $person[\u0026#39;name\u0026#39;] = \u0026#39;Mike\u0026#39;; //loop ass. array key =\u0026gt; value: foreach($names as $key =\u0026gt; $value) { echo $key . \u0026#39; : \u0026#39; . $value } // Check if a specific key exist echo array_key_exists(\u0026#39;age\u0026#39;, $person); // Return keys echo array_keys($person); // [\u0026#39;age\u0026#39;, \u0026#39;genre\u0026#39;] // Return values echo array_values($person) // [45, \u0026#39;men\u0026#39;] //Array filter (return a filtered array) $filteredPeople = array_filter($people, function ($person) { return $names-\u0026gt;active; }) // Array map (return transform array): $onlyNames = array_map(function($person) { return [\u0026#39;name\u0026#39; =\u0026gt; $person-\u0026gt;name]; }, $people) # Search associative array $items = [ [\u0026#39;id\u0026#39; =\u0026gt; \u0026#39;100\u0026#39;, \u0026#39;name\u0026#39; =\u0026gt; \u0026#39;product 1\u0026#39;], [\u0026#39;id\u0026#39; =\u0026gt; \u0026#39;200\u0026#39;, \u0026#39;name\u0026#39; =\u0026gt; \u0026#39;product 2\u0026#39;], [\u0026#39;id\u0026#39; =\u0026gt; \u0026#39;300\u0026#39;, \u0026#39;name\u0026#39; =\u0026gt; \u0026#39;product 3\u0026#39;], [\u0026#39;id\u0026#39; =\u0026gt; \u0026#39;400\u0026#39;, \u0026#39;name\u0026#39; =\u0026gt; \u0026#39;product 4\u0026#39;], ]; # search all value in the \u0026#39;name\u0026#39; column $found_key = array_search(\u0026#39;product 3\u0026#39;, array_column($items, \u0026#39;name\u0026#39;)); # return 2 Type Casting // Booleans var_dump((bool) \u0026#34;\u0026#34;); // -\u0026gt; false var_dump((bool) \u0026#34;Some Text\u0026#34;); // -\u0026gt; true var_dump((boolean) \u0026#34;0\u0026#34;); // -\u0026gt; false var_dump((bool) \u0026#34;false\u0026#34;); // -\u0026gt; true ğŸ’¡ var_dump((bool) 0); // -\u0026gt; false var_dump((bool) 1); // -\u0026gt; true var_dump((bool) -1); // -\u0026gt; true ğŸ’¡ var_dump((bool) null); // -\u0026gt; false var_dump((bool) []); // -\u0026gt; false var_dump((bool) [\u0026#34;hello\u0026#34;]); // -\u0026gt; true // Integers var_dump((int) false); // -\u0026gt; 0 var_dump((integer) true); // -\u0026gt; 1 var_dump((int) \u0026#34;-1\u0026#34;); // -\u0026gt; -1 var_dump((int) \u0026#34;Hello\u0026#34;); // -\u0026gt; 0 ğŸ’¡ var_dump((int) \u0026#34;12 months\u0026#34;); // -\u0026gt; 12 var_dump((int) 12.7); // -\u0026gt; 12 ğŸ’¡ var_dump((int) null); // -\u0026gt; 0 ğŸ’¡ // Float var_dump((float) false); // -\u0026gt; 0 var_dump((float) true); // -\u0026gt; 1 var_dump((float) \u0026#34;-1\u0026#34;); // -\u0026gt; -1 var_dump((float) \u0026#34;Hello\u0026#34;); // -\u0026gt; 0 var_dump((float) \u0026#34;2.5 Hour\u0026#34;); // -\u0026gt; 2.5 var_dump((float) null); // -\u0026gt; 0 // Strings var_dump((string) false); // -\u0026gt; \u0026#34;\u0026#34; ğŸ’¡ var_dump((string) true); // -\u0026gt; \u0026#34;1\u0026#34; var_dump((string) 0); // -\u0026gt; \u0026#34;0\u0026#34; var_dump((string) 1.353); // -\u0026gt; \u0026#34;1.353\u0026#34; var_dump((string) []); // -\u0026gt; \u0026#34;Array\u0026#34; ğŸ’¡ var_dump((string) [\u0026#34;John\u0026#34;]); // -\u0026gt; \u0026#34;Array\u0026#34; ğŸ’¡ var_dump((string) null); // -\u0026gt; \u0026#34;\u0026#34; ğŸ’¡ // Arrays var_dump((array) false); // -\u0026gt; [false] var_dump((array) true); // -\u0026gt; [true] var_dump((array) 0); // -\u0026gt; [0] var_dump((array) 1.353); // -\u0026gt; [1.353] var_dump((array) \u0026#34;John\u0026#34;); // -\u0026gt; [\u0026#34;John\u0026#34;] var_dump((array) null); // -\u0026gt; [] Conditionals // If / elseif / else if ($condition == 10) { echo \u0026#39;condition 10\u0026#39; } elseif ($condition == 5) { echo \u0026#39;condition 5\u0026#39; } else { echo \u0026#39;all other conditions\u0026#39; } // And condition = \u0026amp;\u0026amp; if ($condition === 10 \u0026amp;\u0026amp; $condition2 === 5) { echo \u0026#39;10 and 5\u0026#39; } // Or condition = || if ($condition === 10 || $condition2 === 5) { echo \u0026#39;10 or 5\u0026#39; } // One line if ($isActive) return true; // Null check if (is_null($name)) { do something... } //Comparaison operation == // equal no type check === // equal with type check != //not equal || //or \u0026amp;\u0026amp; //and \u0026gt; //greater than \u0026lt; //less than // Ternary operator (true : false) echo $isValid ? \u0026#39;user valid\u0026#39; : \u0026#39;user not valid\u0026#39;; //Null Coalesce Operator echo $name ?? \u0026#39;Mike\u0026#39;; //output \u0026#39;Mike\u0026#39; if $name is null //Null Coalesce Assignment $name ??= \u0026#39;Mike\u0026#39;; // Null Safe Operator (PHP 8) will return null if one ? is null echo $user?-\u0026gt;profile?-\u0026gt;activate(); // Null Safe + Null Coalesce (if null will return \u0026#39;No user profile\u0026#39;) echo $user?-\u0026gt;profile?-\u0026gt;activate() ?? \u0026#39;Not applicable\u0026#39;; //Spaceship operator return -1 0 1 $names = [\u0026#39;Mike\u0026#39;, \u0026#39;Paul\u0026#39;, \u0026#39;John\u0026#39;] usort($names, function($a, $b) { return $a \u0026lt;=\u0026gt; $b; } // [\u0026#39;John\u0026#39;, \u0026#39;Mike\u0026#39;, \u0026#39;Paul\u0026#39;] // Return false when convert as boolean false, 0, 0.0, null, unset, \u0026#39;0\u0026#39;, \u0026#39;\u0026#39;, [] // Compare same variable with multiple values switch ($color) { case \u0026#39;red\u0026#39;: echo \u0026#39;The color is red\u0026#39;; break; case \u0026#39;yellow\u0026#39;: echo \u0026#39;The color is yellow\u0026#39;; break; case \u0026#39;blue\u0026#39;: echo \u0026#39;The color is blue\u0026#39;; break; default: echo \u0026#39;The color is unknown\u0026#39;; } // Match Expression (PHP 8) $type = match($color) { \u0026#39;red\u0026#39; =\u0026gt; \u0026#39;danger\u0026#39;, \u0026#39;yellow\u0026#39;, \u0026#39;orange\u0026#39; =\u0026gt; \u0026#39;warning\u0026#39;, \u0026#39;green\u0026#39; =\u0026gt; \u0026#39;success\u0026#39;, default =\u0026gt; \u0026#39;Unknown\u0026#39; }; // Check if variable declare isset($color[\u0026#39;red\u0026#39;]); # true Loops \u0026amp; Iterations //for loop for ($i = 0; $i \u0026lt; 20; $i++) { echo \u0026#34;i value = \u0026#34; . i; } //while loop $number = 1; while ($number \u0026lt; 10) { echo \u0026#39;value : \u0026#39; . $number ; $number += 1; } //do while $number = 1; do { echo \u0026#39;value : \u0026#39; . $number ; $number += 1; } while ($number \u0026lt; 10); // foreach with break / continue exemple $values = [\u0026#39;one\u0026#39;, \u0026#39;two\u0026#39;, \u0026#39;three\u0026#39;]; foreach ($values as $value) { if ($value === \u0026#39;two\u0026#39;) { break; // exit loop } elseif ($value === \u0026#39;three\u0026#39;) { continue; // next loop iteration } } Functions //function declararion function name($firstName, $lastName = \u0026#39;defaultvalue\u0026#39;) { return \u0026#34;$firstName $lastName\u0026#34; } //function call name(\u0026#39;Mike\u0026#39;, \u0026#39;Taylor\u0026#39;); //function call with named parameters (PHP 8) name(firstName: \u0026#39;Mike\u0026#39;, lastName: \u0026#39;Taylor\u0026#39;); // order can change //function variables params function name(...$params) { return $params[0] . â€œ â€œ . params[1]; } // Closure function Route::get(\u0026#39;/\u0026#39;, function () { return view(\u0026#39;welcome\u0026#39;); }); // Arrow functions Route::get(\u0026#39;/\u0026#39;, fn () =\u0026gt; view(\u0026#39;welcome\u0026#39;); // Typed parameter and typed return function display(string $first, string $last) : string { return \u0026#34;$first $last\u0026#34;; } // Typed or null function display(?string $name) { ... } // Union type (or) function display(string|int $data) { ... } // Intersection type (and) function count_and_interate(Iterator\u0026amp;Countable $value) { ... } // Return any type (mixed) function logInfo(string $info) : mixed { ... } // No return (void) function logInfo(string $info) : void { ... } Enumerations // Declaration enum InvoiceStatus { case Sent; case Paid; case Cancelled; } // The enum can then be use as a type function printInvoiceStatus(InvoiceStatus $status) { print($status-\u0026gt;name); } printInvoiceStatus(InvoiceStatus::Sent); // Sent // enum with return value and public function exemple enum InvoiceStatus : int { case Sent = 0; case Paid = 1; case Cancelled = 2; public function text() : string { return match ($this) { self::Sent =\u0026gt; \u0026#39;Sent\u0026#39;, self::Paid =\u0026gt; \u0026#39;Paid\u0026#39;, self::Cancelled =\u0026gt; \u0026#39;Cancelled\u0026#39; }; } } function getInvoiceStatus(InvoiceStatus $status) { print($status-\u0026gt;text()); print($status-\u0026gt;value); } getInvoiceStatus(InvoiceStatus::Paid); // Paid1 Files // Get the current dir $current_dir = __DIR__; // Check if file exist if (file_exists(\u0026#39;/posts/first.txt\u0026#39;)) { do some stuff } // Read file content into one variable $post = file_get_contents($file); //File read $file = fopen(\u0026#34;test.txt\u0026#34;, \u0026#34;r\u0026#34;); //Output lines until EOF is reached while(! feof($file)) { $line = fgets($file); echo $line. \u0026#34;\u0026lt;br\u0026gt;\u0026#34;; } fclose($file); // File write (csv) $file = fopen(\u0026#39;export.csv\u0026#39;, \u0026#39;a\u0026#39;); $array = [\u0026#39;name\u0026#39; =\u0026gt; \u0026#39;Mike\u0026#39;, \u0026#39;age\u0026#39; =\u0026gt; 45]; //Write key name as csv header fputcsv($file, array_keys($array[0])); //Write lines (format as csv) foreach ($array as $row) { fputcsv($file, $row); } fclose($file); Errors //Throw Error if (someCondition) { throw new Exception(\u0026#39;Data format error\u0026#39;); } //Catch the Error try { $db-\u0026gt;checkData($data); } catch (Exception $e) { echo $e-\u0026gt;getMessage(); } OOP //class declaration class Person { } // object instantiation $person = new Person //class properties and constructor class Person { protected $firstName; protected $lastName; public function __construct($firstName, $lastName) { $this-\u0026gt;firstName = $firstName; $this-\u0026gt;lastName = $lastName } // Constructor Property Promotion (PHP 8) class Person { public function __construct(protected $firstName, protected $lastName) { } // Getter and Setter class Person { private $name; public function setName($name){ if(!is_string($name)){ throw new Exception(\u0026#39;$name must be a string!\u0026#39;); } $this-\u0026gt;name = $name; } public function getName(){ return $this-\u0026gt;name; } } // Readonly properties (PHP 8.1) class Person { public function __construct( public readonly string $firstName, public readonly string $lastName ) { } } //static constructor public static function create(...$params) { return new self($params) } $person = Person::create(â€˜Mikeâ€™, â€˜Taylorâ€™); // Static Method class greeting { public static function welcome() { echo \u0026#34;Hello World!\u0026#34;; } } // Call static method greeting::welcome(); // Static method call class greeting { public static function welcome() { echo \u0026#34;Hello World!\u0026#34;; } public function __construct() { static::welcome(); } } new greeting(); // Static constant class Connection { const MAX_USER = 100; } echo Connection::MAX_USER # 100 // class inheritance class Customer extends Person { public function name() { parent::name(); echo \u0026#39;Override method\u0026#39;; } } // self keyword reference current class (not modify by inheritance late binding like static will be) self::welcome(); // Interface interface Animal { public function makeSound(); } class Cat implements Animal { public function makeSound() { echo \u0026#34;Meow\u0026#34;; } } $animal = new Cat(); $animal-\u0026gt;makeSound(); //Trait (mix-in) trait HelloWorld { public function sayHello() { echo \u0026#39;Hello World!\u0026#39;; } } class Greetings { use HelloWorld; } $object = new Greetings(); $object-\u0026gt;sayHello(); Superglobals TODO\n$GLOBALS $_SERVER $_REQUEST $_GET $_POST $_SESSION $_COOKIE $_FILES $_ENV References ğŸ“” PHP: Operators PHP Keywords PHP Functions \u0026amp; Methods ModernPHP Series\u0026rsquo; Articles PHP | Superglobals PHP Superglobals Explainedâ€”With Cheatsheet PHP cheat sheet (updated to PHP 8.1) ","permalink":"https://blog2.cmwang.net/zh/posts/2020/10/php-cheat-sheet/","summary":"Cheat Sheet for PHP8","title":"PHP Cheat Sheet"},{"content":"é­”è¡“æ–¹æ³• (Magic Methods) é­”è¡“æ–¹æ³•æ˜¯åœ¨é¡åˆ¥ä¸­å…·æœ‰ç‰¹æ®Šåç¨±çš„æ–¹æ³•ï¼Œå®ƒå€‘åœ¨ç‰¹å®šçš„æ™‚æ©Ÿè¢«è‡ªå‹•å‘¼å«ï¼Œé€™äº›æ™‚æ©Ÿé€šå¸¸èˆ‡é¡åˆ¥çš„æ“ä½œå’Œç”Ÿå‘½é€±æœŸç›¸é—œã€‚ä¸€å€‹å¸¸ç”¨çš„é­”è¡“æ–¹æ³•æ˜¯å»ºæ§‹å­ï¼ˆConstructorï¼‰ã€‚\nå»ºæ§‹å­ (Constructor) å»ºæ§‹å­æ˜¯ä¸€å€‹ç‰¹æ®Šçš„æ–¹æ³•ï¼Œå®ƒåœ¨é¡åˆ¥è¢«å¯¦ä¾‹åŒ–ï¼ˆç‰©ä»¶è¢«å»ºç«‹ï¼‰æ™‚è‡ªå‹•è¢«å‘¼å«ã€‚å»ºæ§‹å­é€šå¸¸ç”¨æ–¼åˆå§‹åŒ–ç‰©ä»¶çš„å±¬æ€§æˆ–é€²è¡Œä¸€äº›åˆå§‹è¨­å®šã€‚\nclass MyClass { public function __construct() { echo \u0026#34;ç‰©ä»¶å·²è¢«å»ºç«‹ï¼\u0026#34;; } } $object = new MyClass(); // è¼¸å‡ºï¼šç‰©ä»¶å·²è¢«å»ºç«‹ï¼ Custom Methods è‡ªè¨‚æ–¹æ³•æ˜¯æˆ‘å€‘æ ¹æ“šé¡åˆ¥çš„éœ€æ±‚è‡ªè¡Œå®šç¾©çš„æ–¹æ³•ã€‚å…¶ä¸­çš„ä¸€å€‹å¸¸è¦‹æŠ€å·§æ˜¯ä½¿ç”¨ return $thisï¼Œé€™ä½¿å¾—æ–¹æ³•å¯ä»¥è¢«éˆå¼å‘¼å«ï¼ˆMethod Chainingï¼‰ã€‚\néˆå¼å‘¼å«(Method Chaining) æŒ‡åœ¨åŒä¸€å€‹ç‰©ä»¶ä¸Šé€£çºŒå‘¼å«å¤šå€‹æ–¹æ³•ï¼Œè€Œä¸éœ€è¦æ¯æ¬¡å‘¼å«éƒ½è³¦å€¼çµ¦ä¸€å€‹è®Šæ•¸ã€‚\nclass Calculator { private $result = 0; public function add($value) { $this-\u0026gt;result += $value; return $this; // è¿”å›ç‰©ä»¶æœ¬èº«ä»¥ä¾¿éˆå¼å‘¼å« } public function subtract($value) { $this-\u0026gt;result -= $value; return $this; // è¿”å›ç‰©ä»¶æœ¬èº« } public function getResult() { return $this-\u0026gt;result; } } $calculator = new Calculator(); $result = $calculator-\u0026gt;add(10)-\u0026gt;subtract(5)-\u0026gt;getResult(); echo $result; // è¼¸å‡ºï¼š5 åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œadd å’Œ subtract æ–¹æ³•è¿”å›äº†ç‰©ä»¶æœ¬èº« $thisï¼Œé€™æ¨£å®ƒå€‘å¯ä»¥é€£çºŒå‘¼å«ï¼Œè€Œä¸éœ€è¦æ¯æ¬¡å‘¼å«éƒ½è³¦å€¼çµ¦ä¸€å€‹è®Šæ•¸ã€‚\nå»ºæ§‹å­å¼•æ•¸çš„æ¨å»£ (Constructor Property Promotion) åœ¨ PHP 8.0 åŠä»¥ä¸Šç‰ˆæœ¬ä¸­ï¼Œå¼•å…¥çš„æ–°ç‰¹æ€§ã€‚\nç•¶ä½¿ç”¨å»ºæ§‹å­å¼•æ•¸æ¨å»£ä¹‹å‰ï¼Œæˆ‘å€‘éœ€è¦æ‰‹å‹•ç‚ºæ¯å€‹é¡åˆ¥çš„å±¬æ€§æŒ‡å®šå»ºæ§‹å­å¼•æ•¸ï¼Œç„¶å¾Œåœ¨å»ºæ§‹å­ä¸­è³¦å€¼ã€‚ä»¥ä¸‹æ˜¯ä¸€å€‹ä½¿ç”¨å‰çš„ç¯„ä¾‹ï¼š\nclass User { private string $name; private string $email; private ?string $phoneNumber; public function __construct(string $name, string $email, ?string $phoneNumber) { $this-\u0026gt;name = $name; $this-\u0026gt;email = $email; $this-\u0026gt;phoneNumber = $phoneNumber; } } // å»ºç«‹ä½¿ç”¨è€…ç‰©ä»¶ $user = new User(\u0026#39;John Doe\u0026#39;, \u0026#39;john@example.com\u0026#39;, \u0026#39;123-456-7890\u0026#39;); åœ¨ä¸Šé¢çš„ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘éœ€è¦æ‰‹å‹•å®£å‘Šå»ºæ§‹å­çš„å¼•æ•¸ï¼Œç„¶å¾Œå†å°‡é€™äº›å¼•æ•¸è³¦å€¼çµ¦é¡åˆ¥çš„å±¬æ€§ã€‚\nä½¿ç”¨å»ºæ§‹å­å¼•æ•¸æ¨å»£å¾Œçš„ç¯„ä¾‹ï¼š\nclass User { public function __construct( private string $name, private string $email, private ?string $phoneNumber = null ) { // å»ºæ§‹å­çš„å…§å®¹ } } // å»ºç«‹ä½¿ç”¨è€…ç‰©ä»¶ $user = new User(\u0026#39;John Doe\u0026#39;, \u0026#39;john@example.com\u0026#39;, \u0026#39;123-456-7890\u0026#39;); åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œå»ºæ§‹å­çš„å¼•æ•¸åˆ—è¡¨ç›´æ¥å®£å‘Šç­é¡åˆ¥çš„å±¬æ€§ã€‚$name å’Œ $email å±¬æ€§æ˜¯å¿…é ˆçš„ï¼Œè€Œ $phoneNumber å±¬æ€§æ˜¯å¯é¸çš„ï¼ˆä½¿ç”¨ ?string è¡¨ç¤ºå¯ä»¥ç‚ºç©ºï¼‰ã€‚åœ¨å»ºæ§‹å­ä¸­ï¼Œä¸éœ€è¦å†æ‰‹å‹•è³¦å€¼çµ¦é€™äº›å±¬æ€§ï¼ŒPHP æœƒè‡ªå‹•è™•ç†ã€‚é€™æ¨£ï¼Œæˆ‘å€‘å¯ä»¥ç°¡åŒ–å»ºæ§‹å­çš„å®šç¾©ï¼Œä½¿ç¨‹å¼ç¢¼æ›´åŠ ç°¡æ½”å’Œæ˜“è®€ã€‚\nå­˜å–ä¿®é£¾ç¬¦ (Access Modifiers) publicï¼ˆå…¬å…±) public ä¿®é£¾ç¬¦è¡¨ç¤ºè©²æˆå“¡(å±¬æ€§æˆ–æ–¹æ³•)åœ¨é¡åˆ¥å…§å¤–éƒ¨å‡å¯è¢«è¨ªå•ã€‚é€™æ„å‘³è‘—ç„¡è«–æ˜¯åœ¨é¡åˆ¥å…§éƒ¨ã€å­é¡åˆ¥ã€é‚„æ˜¯å¤–éƒ¨ç¨‹å¼ç¢¼ä¸­ï¼Œéƒ½å¯ä»¥ç›´æ¥è¨ªå•é€™å€‹æˆå“¡ï¼Œå®ƒæ˜¯é è¨­å€¼ã€‚\nclass MyClass { public $publicProperty; public function publicMethod() { // å¯ä»¥è¢«ä»»ä½•åœ°æ–¹è¨ªå• } } protected (å—ä¿è­·) protected ä¿®é£¾ç¬¦è¡¨ç¤ºè©²æˆå“¡åªèƒ½åœ¨å®šç¾©å®ƒçš„é¡åˆ¥å…§éƒ¨å’Œå­é¡åˆ¥ä¸­è¢«è¨ªå•ã€‚å¤–éƒ¨ç¨‹å¼ç¢¼ç„¡æ³•ç›´æ¥è¨ªå•å—ä¿è­·çš„æˆå“¡ã€‚\nclass MyClass { protected $protectedProperty; protected function protectedMethod() { // åªèƒ½åœ¨é¡åˆ¥å…§éƒ¨å’Œå­é¡åˆ¥ä¸­è¨ªå• } } privateï¼ˆç§æœ‰) private ä¿®é£¾ç¬¦è¡¨ç¤ºè©²æˆå“¡æŒ‡èƒ½åœ¨å®šç¾©å®ƒçš„é¡åˆ¥å…§éƒ¨è¢«è¨ªå•ï¼Œå°æ–¼å¤–éƒ¨ç¨‹å¼ç¢¼å’Œå­é¡åˆ¥éƒ½æ˜¯ä¸å¯è¦‹çš„ã€‚\nclass MyClass { private $privateProperty; private function privateMethod() { // åªèƒ½åœ¨é¡åˆ¥å…§éƒ¨è¨ªå• } } Null-Safe Operator åœ¨ PHP 8.0 ç‰ˆæœ¬ä¸­ï¼Œå¼•å…¥äº† Null-Safe Operatorï¼ˆç©ºå®‰å…¨é‹ç®—å­ï¼‰ï¼Œä¹Ÿç¨±ç‚º Null-Safe Operatorï¼ˆ?-\u0026gt;ï¼‰ï¼Œå®ƒæ˜¯ä¸€ç¨®ç°¡åŒ–ç¨‹å¼ç¢¼çš„èªæ³•ç³–ï¼Œç”¨æ–¼åœ¨æ“ä½œå¯èƒ½ç‚º null çš„ç‰©ä»¶æ™‚é¿å…ç”¢ç”ŸéŒ¯èª¤ã€‚\nåœ¨èˆŠç‰ˆæœ¬çš„ PHP ä¸­ï¼Œå¦‚æœä½ è©¦åœ–åœ¨ä¸€å€‹å¯èƒ½ç‚º null çš„è®Šæ•¸ä¸Šå‘¼å«æ–¹æ³•æˆ–è¨ªå•å±¬æ€§ï¼Œä½ å¿…é ˆå…ˆæª¢æŸ¥è©²è®Šæ•¸æ˜¯å¦ç‚º nullï¼Œä»¥é¿å…ç”¢ç”Ÿ Fatal Errorã€‚ä¾‹å¦‚ï¼š\nif (isset($object)) { $value = $object-\u0026gt;getValue(); } else { $value = null; } ä½¿ç”¨ Null-Safe Operatorï¼Œä½ å¯ä»¥å°‡ä¸Šé¢çš„ç¨‹å¼ç¢¼ç°¡åŒ–ç‚ºï¼š\n$value = $object?-\u0026gt;getValue(); é€™æ¨£ï¼Œå¦‚æœ$objectç‚º nullï¼Œè¡¨ç¤ºå¼çš„çµæœå°‡æœƒæ˜¯ nullï¼Œè€Œä¸æœƒä¸Ÿæ“²éŒ¯èª¤ã€‚Null-Safe Operator åªèƒ½ç”¨æ–¼ç‰©ä»¶çš„æ–¹æ³•å‘¼å«å’Œå±¬æ€§è¨ªå•ï¼Œä¸èƒ½ç”¨æ–¼é™£åˆ—å’Œå‡½å¼å‘¼å«ã€‚é€™å€‹èªæ³•ç³–ä½¿å¾—è™•ç†å¯èƒ½ç‚º null çš„ç‰©ä»¶æ›´åŠ æ–¹ä¾¿å’Œç°¡æ½”ã€‚\né€™è£¡æ˜¯ä¸€å€‹ä½¿ç”¨ Null-Safe Operator çš„ä¾‹å­ï¼š\nclass MyClass { public function getValue(): ?string { // è¿”å›ä¸€å€‹å¯èƒ½ç‚ºnullçš„å€¼ return \u0026#34;Hello, World!\u0026#34;; } } $object = null; // æˆ–è€…ä¸€å€‹MyClassçš„å¯¦ä¾‹ // ä½¿ç”¨Null-Safe Operatorå‘¼å«å¯èƒ½ç‚ºnullçš„ç‰©ä»¶æ–¹æ³• $value = $object?-\u0026gt;getValue(); echo $value; // è¼¸å‡º \u0026#34;Hello, World!\u0026#34; æˆ–è€… nullï¼ˆå¦‚æœ$objectç‚ºnullçš„è©±ï¼‰ åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œç„¡è«–$objectæ˜¯ä¸€å€‹ MyClass çš„å¯¦ä¾‹é‚„æ˜¯ nullï¼Œéƒ½ä¸æœƒç”¢ç”ŸéŒ¯èª¤ï¼Œå› ç‚º Null-Safe Operator æœƒè‡ªå‹•è™•ç† null æƒ…æ³ã€‚\nNamespace åœ¨ PHP ä¸­ï¼Œåç¨±ç©ºé–“ï¼ˆNamespaceï¼‰æ˜¯ä¸€ç¨®ç”¨ä¾†è§£æ±ºåœ¨ä¸åŒé¡åˆ¥ä¹‹é–“å‘½åè¡çªçš„æ©Ÿåˆ¶ã€‚åç¨±ç©ºé–“å¯ä»¥æ˜¯å¯é¸çš„ï¼Œä½†åœ¨å¤§å‹æ‡‰ç”¨ç¨‹å¼ä¸­ï¼Œè‰¯å¥½çš„çµ„ç¹”å’Œçµæ§‹æ˜¯éå¸¸é‡è¦çš„ã€‚ä»¥ä¸‹æ˜¯æœ‰é—œ PHP åç¨±ç©ºé–“çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µå’Œæœ€ä½³å¯¦è¸ï¼š\nåœ¨ç¨‹å¼æª”æ¡ˆçš„æœ€å‰é¢ï¼Œä½ å¯ä»¥ä½¿ç”¨namespaceå®£å‘Šå®šç¾©ä¸€å€‹åç¨±ç©ºé–“ã€‚ä¾‹å¦‚ï¼š\ndeclare(strict_types=1); namespace APP; // after strict_types class MyClass { // class implementation } å¦‚æœä½ çš„æ‡‰ç”¨ç¨‹å¼éœ€è¦æ›´æ·±çš„çµ„ç¹”çµæ§‹ï¼Œä½ å¯ä»¥ä½¿ç”¨å·¢ç‹€åç¨±ç©ºé–“ï¼ˆNested Namespaceï¼‰ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸€å€‹éŠ€è¡Œç›¸é—œçš„é¡åˆ¥ï¼Œä½ å¯ä»¥é€™æ¨£å®šç¾©ï¼š\nnamespace APP\\Bank; class BankAccount { // class implementation } ç•¶ä½ åœ¨ä¸åŒçš„åç¨±ç©ºé–“ä¸­ä½¿ç”¨é¡åˆ¥æ™‚ï¼Œä½ å¯ä»¥ä½¿ç”¨useé—œéµå­—ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ è¦ä½¿ç”¨APPåç¨±ç©ºé–“ä¸­çš„Accounté¡åˆ¥ï¼Œä½ å¯ä»¥é€™æ¨£åšï¼š\n# method1 $myAccount = new App\\Account(); # method2 use APP\\Account; $myAccount = new Account(); åœ¨æŸäº›æƒ…æ³ä¸‹(ç•¶å‰åœ¨ namespace APP ä¸‹)ï¼Œä½ å¯èƒ½éœ€è¦ä½¿ç”¨ global namespace ä¸­çš„é¡åˆ¥ã€‚ä½ å¯ä»¥ä½¿ç”¨æ–œç·šï¼ˆ\\ï¼‰å­—é¦–ä¾†è¡¨ç¤ºå…¨åŸŸæ€§åç¨±ç©ºé–“ã€‚ä¾‹å¦‚ï¼š\nnamespace App; # method1 new \\DateTime(); # method2 use DateTime; new DateTime(); æœ‰æ™‚å€™ï¼Œä½ å¯èƒ½æœƒæƒ³è¦ç‚ºä¸€å€‹é•·å‘½åçš„é¡åˆ¥ä½¿ç”¨åˆ¥åï¼ˆAliasï¼‰ã€‚é€™æ¨£å¯ä»¥ä½¿ä½ çš„ç¨‹å¼ç¢¼æ›´ç°¡æ½”æ˜“è®€ã€‚ä¾‹å¦‚ï¼š\nuse DateTime as DT; new DT(); å¦‚æœä½ éœ€è¦å¼•å…¥å¤šå€‹åç¨±ç©ºé–“ä¸­çš„é¡åˆ¥ï¼Œä½ å¯ä»¥ä½¿ç”¨é€—è™Ÿï¼ˆ,ï¼‰åˆ†éš”å®ƒå€‘ã€‚ä¾‹å¦‚ï¼š\nuse APP\\Account; use APP\\SocialMedia; // æ”¹å¯« use APP\\{Account, SocialMedia}; ä½¿ç”¨åç¨±ç©ºé–“å’Œuseèªå¥ï¼Œè®“ä½ å¯ä»¥æ›´å¥½åœ°çµ„ç¹”ä½ çš„ç¨‹å¼ç¢¼ï¼Œé¿å…å‘½åè¡çªï¼Œä½¿ç¨‹å¼ç¢¼æ›´æ˜“æ–¼ç¶­è­·å’Œæ“´å……å¥—ä»¶ã€‚\nAutoloading Classes ä½¿ç”¨è‡ªå‹•è¼‰å…¥æ©Ÿåˆ¶ï¼ˆä¾‹å¦‚ spl_autoload_register å‡½å¼ï¼‰ä¸»è¦æ˜¯ç‚ºäº†æ–¹ä¾¿ç®¡ç†å¤šå€‹é¡åˆ¥ï¼Œç‰¹åˆ¥æ˜¯ç•¶æ¯å€‹é¡åˆ¥éƒ½å„²å­˜åœ¨ç¨ç«‹çš„æª”æ¡ˆä¸­æ™‚ã€‚é€™æ¨£ï¼Œä½ å¯ä»¥æ ¹æ“šé¡åˆ¥çš„åç¨±ç©ºé–“å’Œé¡åˆ¥åç¨±ä¾†è‡ªå‹•è¼‰å…¥ç›¸æ‡‰çš„æª”æ¡ˆã€‚\nç„¶è€Œï¼Œå¦‚æœåœ¨åŒä¸€å€‹æª”æ¡ˆä¸­æ—¢æœ‰é¡åˆ¥å®šç¾©åˆæœ‰å‡½å¼å®šç¾©ï¼Œé‚£éº¼æœ€å¥½é‚„æ˜¯åœ¨éœ€è¦çš„æ™‚å€™æ‰‹å‹•å¼•å…¥é€™äº›æª”æ¡ˆã€‚é€™æ˜¯å› ç‚ºè‡ªå‹•è¼‰å…¥æ©Ÿåˆ¶ä¸»è¦æ˜¯ç‚ºäº†é¡åˆ¥è€Œè¨­è¨ˆçš„ï¼Œè€Œä¸æ˜¯ç”¨ä¾†è™•ç†å‡½å¼ã€‚å¦‚æœåœ¨è‡ªå‹•è¼‰å…¥çš„éç¨‹ä¸­å¼•å…¥äº†ä¸€å€‹æª”æ¡ˆï¼Œè£¡é¢é™¤äº†é¡åˆ¥å®šç¾©é‚„åŒ…å«å…¶ä»–ç¨‹å¼ç¢¼ï¼ˆå¦‚å‡½å¼å®šç¾©ï¼‰ï¼Œå¯èƒ½æœƒå°è‡´ä¸å¿…è¦çš„ç¨‹å¼ç¢¼è¤‡é›œæ€§å’Œä¸æ˜“è®€æ‡‚çš„ç¨‹å¼ç¢¼ã€‚\nå› æ­¤ï¼Œæœ€ä½³çš„åšæ³•æ˜¯ï¼š\nå°‡æ¯å€‹é¡åˆ¥å„²å­˜åœ¨ç¨ç«‹çš„æª”æ¡ˆä¸­ã€‚ é€™æ¨£å¯ä»¥ä½¿ç”¨è‡ªå‹•è¼‰å…¥æ©Ÿåˆ¶ï¼Œæ–¹ä¾¿åœ°æ ¹æ“šé¡åˆ¥çš„åç¨±ç©ºé–“å’Œé¡åˆ¥åç¨±ä¾†è‡ªå‹•è¼‰å…¥ç›¸æ‡‰çš„æª”æ¡ˆã€‚\nå¦‚æœæª”æ¡ˆä¸­æ—¢æœ‰é¡åˆ¥å®šç¾©åˆæœ‰å‡½å¼å®šç¾©ï¼Œéœ€è¦æ™‚æ‰‹å‹•å¼•å…¥ã€‚ å¦‚æœæª”æ¡ˆä¸­æœ‰å…¶ä»–ä¸å±¬æ–¼é¡åˆ¥çš„ç¨‹å¼ç¢¼ï¼ˆä¾‹å¦‚å‡½å¼æˆ–å¸¸æ•¸ï¼‰ï¼Œæœ€å¥½åœ¨éœ€è¦ä½¿ç”¨é€™äº›ç¨‹å¼ç¢¼çš„åœ°æ–¹æ‰‹å‹•å¼•å…¥ç›¸æ‡‰çš„æª”æ¡ˆã€‚é€™æ¨£å¯ä»¥ç¢ºä¿ç¨‹å¼ç¢¼çš„å¯è®€æ€§å’Œå¯ç¶­è­·æ€§ã€‚\nä»¥ä¸‹æ˜¯ä¸€å€‹ç¯„ä¾‹ï¼Œæ¼”ç¤ºç­å¦‚ä½•ä½¿ç”¨è‡ªå‹•è¼‰å…¥æ©Ÿåˆ¶ä¾†è¼‰å…¥é¡åˆ¥ï¼Œä¸¦åœ¨éœ€è¦çš„æ™‚å€™æ‰‹å‹•å¼•å…¥æª”æ¡ˆä¸­çš„å‡½å¼ï¼š\n// require_once \u0026#39;APP/Account.php\u0026#39;; // require_once \u0026#39;APP/SocialMedia.php\u0026#39;; // require_once \u0026#39;APP/..\u0026#39;; spl_autoload_register(function($class){ $formattedClass = str_replace(\u0026#34;\\\\\u0026#34;, \u0026#34;/\u0026#34;, $class); $path = \u0026#34;{$formattedClass}.php\u0026#34;; require_once $path; }); // ä½¿ç”¨è‡ªå‹•è¼‰å…¥æ©Ÿåˆ¶è¼‰å…¥é¡åˆ¥ $account = new \\APP\\Account(); // æ‰‹å‹•å¼•å…¥æª”æ¡ˆä¸­çš„å‡½å¼ require_once \u0026#39;path/to/file-with-functions.php\u0026#39;; // ç¾åœ¨ä½ å¯ä»¥ä½¿ç”¨æª”æ¡ˆä¸­å®šç¾©çš„å‡½å¼ myFunction(); å¸¸æ•¸ (Constants) åœ¨ PHP ä¸­ï¼Œå¸¸æ•¸æ˜¯åœ¨é¡åˆ¥ä¸­å®šç¾©çš„ä¸å¯æ”¹è®Šçš„å€¼ï¼Œé€™äº›å€¼åœ¨æ•´å€‹é¡åˆ¥ä¸­éƒ½æ˜¯å›ºå®šçš„ã€‚åœ¨é¡åˆ¥ä¸­å®šç¾©å¸¸æ•¸ä½¿ç”¨ const é—œéµå­—ï¼Œä¸å¯ä½¿ç”¨ define() å‡½å¼ã€‚\nclass Account { const INTEREST_RATE = 0.05; // å…¶ä»–é¡åˆ¥æˆå“¡å’Œæ–¹æ³• } // å­˜å–å¸¸æ•¸çš„æ–¹å¼ echo Account::INTEREST_RATE; åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼ŒINTEREST_RATE æ˜¯ Account é¡åˆ¥çš„å¸¸æ•¸ï¼Œå®ƒçš„å€¼ä¸å¯æ›´æ”¹ï¼Œå¯ä»¥åœ¨æ•´å€‹æ‡‰ç”¨ç¨‹å¼ä¸­ä½¿ç”¨ï¼Œæé«˜äº†ç¨‹å¼ç¢¼çš„å¯è®€æ€§å’Œä¸€è‡´æ€§ã€‚\néœæ…‹æˆå“¡ (Static Members) éœæ…‹å±¬æ€§ (Static Properties) éœæ…‹å±¬æ€§æ˜¯æŒ‡åœ¨æ•´å€‹é¡åˆ¥ä¸­å…±ç”¨çš„å±¬æ€§ï¼Œå¯ä»¥è¢«æ‰€æœ‰å¯¦ä¾‹å…±äº«ã€‚ç„¶è€Œï¼Œéœæ…‹å±¬æ€§çš„å€¼å¯ä»¥è¢«ä¿®æ”¹ï¼Œå› æ­¤åœ¨ä½¿ç”¨æ™‚éœ€è¦å°å¿ƒ (èƒ½ä¸è¦ç”¨å°±ä¸è¦ç”¨)ã€‚\nclass Account { public static $count = 0; public function __construct() { self::$count++; } public static function getCount() { return self::$count; } } // ä½¿ç”¨éœæ…‹å±¬æ€§ $account1 = new Account(); $account2 = new Account(); echo Account::$count; // è¼¸å‡ºï¼š2 åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œ$count æ˜¯ä¸€å€‹éœæ…‹å±¬æ€§ï¼Œç”¨ä¾†è¨˜éŒ„ Account é¡åˆ¥çš„å¯¦ä¾‹æ•¸é‡ã€‚æ¯æ¬¡å»ºç«‹ä¸€å€‹æ–°çš„ Account ç‰©ä»¶æ™‚ï¼Œ$count çš„å€¼æœƒè‡ªå‹•å¢åŠ ã€‚\néœæ…‹æ–¹æ³• (Static Methods) éœæ…‹æ–¹æ³•æ˜¯å¯ä»¥åœ¨ä¸å»ºç«‹é¡åˆ¥å¯¦ä¾‹çš„æƒ…æ³ä¸‹ç›´æ¥å‘¼å«çš„æ–¹æ³•ã€‚éœæ…‹æ–¹æ³•é€šå¸¸ç”¨æ–¼ utility é¡åˆ¥ï¼Œé€™äº›æ–¹æ³•ä¸ä¾è³´æ–¼ç‰¹å®šçš„å¯¦ä¾‹ï¼Œè€Œæ˜¯åŸ·è¡Œé€šç”¨çš„ä»»å‹™ã€‚é€™æ­é…ä¸Šå‰é¢æåˆ°çš„ Autoloading Class æ–¹æ³•æ™‚æœƒç›¸ç•¶æ–¹ä¾¿ã€‚\nclass Utility { public static function calculateArea($radius) { return pi() * $radius * $radius; } } // å‘¼å«éœæ…‹æ–¹æ³• $area = Utility::calculateArea(5); // è¨ˆç®—åŠå¾‘ç‚º5çš„åœ“é¢ç© åœ¨é€™å€‹ä¾‹å­ä¸­ï¼ŒcalculateArea æ˜¯ä¸€å€‹éœæ…‹æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥é€é Utility::calculateArea() çš„æ–¹å¼å‘¼å«ï¼Œè€Œä¸éœ€è¦å»ºç«‹ Utility ç‰©ä»¶ã€‚\n","permalink":"https://blog2.cmwang.net/zh/posts/2020/10/php-oop-part1/","summary":"PHP ç‰©ä»¶å°å‘ä¸ŠåŠéƒ¨","title":"PHP ç‰©ä»¶å°å‘ (ä¸Š)"},{"content":"Constrol Structures if else if æˆ– elseif éƒ½å¯ä»¥ã€‚\n$score = 95; if ($score \u0026gt; 90) { var_dump(\u0026#34;A\u0026#34;); } else if ($score \u0026gt; 80) { var_dump(\u0026#34;B\u0026#34;); } elseif ($score \u0026gt; 80) { var_dump(\u0026#34;C\u0026#34;); } else { var_dump(\u0026#34;F\u0026#34;); } switch case ç‚ºå­—ä¸²ä¹Ÿå¯ä»¥ï¼Œæ¯å€‹æ¢ä»¶è¦åŠ  break è·³å‡ºã€‚\n$paymentStatus = \u0026#34;1\u0026#34;; // both 1 or \u0026#34;1\u0026#34; works switch ($paymentStatus) { case 1: var_dump(\u0026#34;Success\u0026#34;); break; case 2: var_dump(\u0026#34;Denied\u0026#34;); break; default: var_dump(\u0026#34;Unknown\u0026#34;); } match match æ˜¯ä¸€ç¨® expressionï¼Œç¸½æ˜¯æœƒå›å‚³å€¼ã€‚ èˆ‡ switch æ¯”èµ·ä¾†ï¼Œ match éœ€è¦å‹æ…‹ä¸€è‡´ï¼Œä¸æœƒä¸»å‹• typecastingã€‚ $paymentStatus = 2; $message = match ($paymentStatus) { 1 =\u0026gt; \u0026#34;Success\u0026#34;, 2 =\u0026gt; \u0026#34;Denied\u0026#34;, default =\u0026gt; \u0026#34;Unknown\u0026#34; }; while $a = 1; while ($a \u0026lt;= 15) { echo $a; } do { echo $a; $a++; } while ($a \u0026lt;= 15); for loop è·Ÿ C é¡ä¼¼\nfor ($i = 1; $i \u0026lt;= 15; $i++) { echo $i; } è·³éç‰¹å®šæ¢ä»¶ continueï¼Œè·³å‡º break\nfor ($i = 1; $i \u0026lt;= 15; $i++) { if ($i == 6) { continue; } echo $i; } Foreach Loop $names = [\u0026#34;John\u0026#34;, \u0026#34;Jane\u0026#34;, \u0026#34;Sam\u0026#34;]; foreach ($names as $name) { var_dump($name); } ç²å– key çš„æ–¹å¼\n$names = [\u0026#34;John\u0026#34;, \u0026#34;Jane\u0026#34;, \u0026#34;Sam\u0026#34;]; foreach ($names as $key =\u0026gt; $name) { echo \u0026#34;key: {$key} =\u0026gt; \u0026#34; . \u0026#34;{$name}\u0026#34;; echo \u0026#34;\u0026lt;br\u0026gt;\u0026#34;; } Function // å›å‚³ string function getStatus($paymentStatus, $showMessage = true): string // ä¸å›å‚³ function getStatus($paymentStatus, $showMessage = true): void // å¯ä»¥é€é unionï¼Œå›å‚³å¯ä»¥æ˜¯å­—ä¸²æˆ–è€…null function getStatus(int|float $paymentStatus, bool $showMessage = true): ?string // æ¥å—å„ç¨® data type function getStatus(mixed $paymentStatus, bool $showMessage = true): ?string Misc Strict Types æ”¾åœ¨æœ€å‰é¢ï¼Œæ¯å€‹æª”æ¡ˆéƒ½è¦å„åˆ¥æ”¾ã€‚\ndeclare(strict_types=1); Constants define(\u0026#39;FOO\u0026#39;, \u0026#39;hello world\u0026#39;); // can not use in the class const FOO = \u0026#34;hello world\u0026#34;; // they cannot be conditionally defined within the flow of program execution. They must have an initial value at the time of declaration. Unset $name = \u0026#34;john\u0026#34;; echo $name; unset($name); // delete variable echo $name; $names = [\u0026#34;john\u0026#34;, \u0026#34;jane\u0026#34;, \u0026#34;bobo\u0026#34;]; echo $names; unset($names[1]); // delete variable $names = array_values($names); // reindex array to fill the gap ğŸ”¥ echo $names; Alternative if statement å¦ä¸€ç¨® if else å¯«æ³•ï¼Œå¤¾é›œ HTML æ™‚å¥½ç”¨ã€‚\n\u0026lt;?php $permission=2; ?\u0026gt; \u0026lt;?php if ($permission === 1) : ?\u0026gt; \u0026lt;h1\u0026gt;Hello Admin\u0026lt;/h1\u0026gt; \u0026lt;?php elseif ($permission === 2) : ?\u0026gt; \u0026lt;h1\u0026gt;Hello OP\u0026lt;/h1\u0026gt; \u0026lt;?php else : ?\u0026gt; \u0026lt;h1\u0026gt;Hello Others\u0026lt;/h1\u0026gt; \u0026lt;?php endif; ?\u0026gt; Include files \u0026lt;?php include_once \u0026#39;nav.php\u0026#39;; ?\u0026gt; require èˆ‡ include è™•ç† error ä¸åŒ require æœƒå‚³å‡º fatal include åªæœƒå‚³å‡º warning Variadic Function function sum(int|float ...$nums) { // syntax var_dump($nums); return array_sum($nums); } echo sum(5,2,9,1); Named Arguments function sum($a, $b) { var_dump($a, $b); return $a+$b; }; echo sum(b: 5, a: 2); ä½¿ç”¨æƒ…å¢ƒï¼Œåªè¨­å®šéƒ¨åˆ†ï¼Œå¦‚ä¸‹ä¾‹å­ï¼š\n// setcookie( // string $name, // string $value = \u0026#34;\u0026#34;, // string $expires_or_options = 0, // string $path = \u0026#34;\u0026#34;, // string $domain = \u0026#34;\u0026#34;, // bool $secure = false, // bool $httponly = false // ): bool setcookie(\u0026#34;hello\u0026#34;, httponly: true); // named arguments Arrow Functions $mul = function($num) { return $num *2; }; echo $mul(5); // dollar sign Arrow Functions example\n$mul = fn ($num) =\u0026gt; $num * $multiplier; // similar to javascript Callable TODO\nPass by Reference $cup = \u0026#39;empty\u0026#39;; function fillCup(\u0026amp;$cupParam) { // add \u0026amp; before param! ğŸ”¥ $cupParam = \u0026#39;filled\u0026#39;; } fillCup($cup); echo $cup; Files $directory = scandir(__DIR__); mkdir(\u0026#39;foo\u0026#39;); rmdir(\u0026#39;foo\u0026#39;); if (file_exists(\u0026#39;example.txt\u0026#39;)) { // exists echo \u0026#39;File found!\u0026#39;; } if (file_exists(\u0026#39;example.txt\u0026#39;)) { echo filesize(\u0026#39;example.txt\u0026#39;); // size. cached file_put_contents(\u0026#39;example.txt\u0026#39;, \u0026#39;hello world!\u0026#39;); } clearstatcache(); // clear cache to update filesize file_get_contents(\u0026#39;example.txt\u0026#39;); Destructuring Arrays [$var1, $var2] = $array; é€™æ¨£å°±æŠŠ $array æ•¸çµ„çš„ç¬¬ä¸€å€‹å…ƒç´ è³¦å€¼çµ¦äº† $var1ï¼Œç¬¬äºŒå€‹å…ƒç´ è³¦å€¼çµ¦äº† $var2ã€‚ ğŸ”¥\nè§£æ§‹çš„ä¸»è¦ç”¨é€”ä¹‹ä¸€æ˜¯åœ¨å‡½æ•¸è¿”å›å¤šå€‹å€¼çš„æ™‚å€™ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½ çš„å‡½æ•¸éœ€è¦è¿”å›å¤šå€‹æ•¸æ“šï¼Œä½ å¯ä»¥å°‡é€™äº›æ•¸æ“šæ”¾åœ¨ä¸€å€‹ Array ä¸­ï¼Œç„¶å¾Œé€šéè§£æ§‹å°‡æ•¸æ“šåˆ†é…çµ¦ä¸åŒçš„è®Šæ•¸ã€‚é€™æ¨£å¯ä»¥æé«˜ä»£ç¢¼çš„å¯è®€æ€§å’Œå¯ç¶­è­·æ€§ã€‚\nå¦å¤–ï¼Œè§£æ§‹é‚„å¯ä»¥ç”¨æ–¼éæ­· Array æˆ–å°è±¡çš„å…ƒç´ ï¼Œä»¥åŠå°‡å‡½æ•¸çš„å¤šå€‹è¿”å›å€¼è§£æ§‹ç‚ºè®Šæ•¸ã€‚\n// è§£æ§‹æ•¸çµ„ $array = [1, 2]; [$var1, $var2] = $array; echo $var1; // è¼¸å‡º 1 echo $var2; // è¼¸å‡º 2 // å‡½æ•¸è¿”å›å¤šå€‹å€¼ function getValues() { return [1, 2]; } [$var1, $var2] = getValues(); echo $var1; // è¼¸å‡º 1 echo $var2; // è¼¸å‡º 2 // éæ­·æ•¸çµ„å…ƒç´  $array = [[1, 2], [3, 4]]; foreach ($array as [$a, $b]) { echo $a; // è¼¸å‡º 1ï¼Œç„¶å¾Œ 3 echo $b; // è¼¸å‡º 2ï¼Œç„¶å¾Œ 4 } Arrays Common Methods $users = [\u0026#39;john\u0026#39;, \u0026#39;jane\u0026#39;, \u0026#39;bob\u0026#39;, null]; // 1. isset null æˆ–è€… false æœƒå¤±æ•— if (isset($users[0])) { echo \u0026#34;User Found!\u0026#34;; } // 2. array_key_exists åªè¦æœ‰å€¼ï¼Œä¸ç®¡ null æˆ–è€… false éƒ½æœƒæˆç«‹ if (array_key_exists(3, $users)) { echo \u0026#34;User Found!\u0026#34;; } // 3. array_filter å‰”é™¤ null æˆ–è€… false $users = array_filter($users); echo \u0026#39;\u0026lt;pre\u0026gt;\u0026#39;; print_r($users); echo \u0026#39;\u0026lt;/pre\u0026gt;\u0026#39;; // 4. array_filter callback $users = array_filter( $users, fn($users) =\u0026gt; $users != \u0026#39;bob\u0026#39; ); echo \u0026#39;\u0026lt;pre\u0026gt;\u0026#39;; print_r($users); echo \u0026#39;\u0026lt;/pre\u0026gt;\u0026#39;; // 5. array_map $users = array_map( fn($user) =\u0026gt; strtoupper($user), $users, ); // 6. merge $users = [\u0026#39;john\u0026#39;, \u0026#39;jane\u0026#39;, \u0026#39;bob\u0026#39;]; $users = array_merge( $users, [\u0026#39;Sam\u0026#39;, \u0026#39;Jessica\u0026#39;], ); // 7. sort sort($users); ","permalink":"https://blog2.cmwang.net/zh/posts/2020/10/php-fundamental/","summary":"PHP èªæ³•åŸºç¤","title":"PHP èªæ³•åŸºç¤"},{"content":"Expanding Our Horizons Overview Object Encapsulation Inheritance Handling variation Commonality and variability analysis Abstract class and its derived classes Objects: Traditional view and new view Traditional View Data with methods - smart data too narrow from implementation perspective Broad View From conceptual perspective an object is an entity that has responsibilities (è²¬ä»»), these responsibilities define the behavior of the object. Or an entity that has specific behavior (ç‰¹å®šè¡Œç‚º). Focus on intention/motivation not implementation This view enables us to build software in two steps:\nMake a preliminary design without worrying about all the details involved. Implement the design. The reason this works is that we only have to focus on the objectâ€™s public interface â€” the communication window through which I ask the object to do something.\nHiding implementations behind interfaces essentially decouples them from the using objects.\nEncapsulation: Traditional view and new view Traditional View data hiding Broad View any kind of hiding Implementations (data, methods..) Drived classes (Encapsulation of type is achieved when there is an abstract class with derivations (or an interface with implementations) that are used polymorphically) Design details Instantiation rules (ex. creational patterns) Advantage It gives us a better way to split up (decompose) our programs. The encapsulating layers become the interfaces we design to. (å°è£å±¤æˆç‚ºè¨­è¨ˆéœ€è¦éµå¾ªçš„ä»‹é¢)\nBy encapsulating different kinds of subclasses (encapsulation of type), we can add new ones without changing any of the client programs using them. (GoF typically means when they mention encapsulation)\nInheritance Traditional View reuse of classes achived by creating classes and then deriving new (spcialized) classes bases on these base (generalized) classes Broad View using inheritance for specialization, however can cause weak cohesion reduces possibility of reuse does not scale well with variation to classify classes as things that behave the same way. (placeholder) Find What Is Varying and Encapsulate It Consider what should be variable in your design. This approach is the opposite of focusing on the cause of redesign. Instead of considering what might force a change to a design, consider what you want to be able to change without redesign. The focus here is on encapsulating the concept that varies, a theme of many design patterns. \u0026ndash; GoF, Design Patterns\nMore about GoF\u0026rsquo;s Encapsulation Design Patterns use inheritance to classify variations in behaviors. Hiding classes with an abstract class or interface â€” type encapsulation. Containing a reference of this abstract class or interface type (aggregation) hides these derived classes that represent variations in behavior. In effect, many design patterns use encapsulation to create layers between objects. Containing variation in data vs containing variation in behavior Handling variation in data Have a data member that tells me what type of movement my object has. Have two different types of Animals (both derived from the base Animal class) â€” one for walking and one for flying. Handling variation in behavior with objects Using objects to contain variation in attributes and using objects to contain variation in behavior are very similar. Don\u0026rsquo;t afraid.\nCommonality and Variability Identify where things vary (commonality analysis) and then identify how they vary (variability analysis).\nCommonality analysis is the search for common elements that helps us understand how family members are the same.\nVariability analysis reveals how family members vary. Variability only makes sense within a given commonality.\nEx. Whiteboard marker, pencil, ballpoint pen\nCommonality: writing instrument Variability: material to write, shape.. Commonality and Variability and Abstract class Commonality analysis seeks structure that is unlikely to change over time, while variability analysis captures structure that is likely to change. Variability analysis makes sense only in terms of the context defined by the associated commonality analysis. In other words, if variations are the specific concrete cases in the domain, commonality defines the concepts in the domain that tie them together. The common concepts will be represented by abstract classes. The variations found by variability analysis will be implemented by the concrete classes.\nRelationship between Commonality and Variability, perspectives, and abstract classes Benefits of using abstract classes for specialization Two-Step Procedure for Design Ask yourself:\nWhen defining an abstract class (commonality): What interface is needed to handle all the responsibilities (core concepts from the conceptual perspective) of this class? When defining derived classes: Given this particular implementation (this variation), how can I implement it (variation) with the given specification? Take away Think object-oriented in a broad way.\nObject: an entity that has responsibilities (specific behavior) Encapsulation: any kind of hiding (instantiation rule, type..) Inheritance: use for specialization and classify classes as things that behave the same way. Find what is varying and encapsulate it (in behavior).\nCommonality, variability and abstract class: use inheritance to classify variations in behaviors.\n","permalink":"https://blog2.cmwang.net/zh/posts/2017/01/design-patterns-explained-ch8/","summary":"\u003ch1 id=\"expanding-our-horizons\"\u003eExpanding Our Horizons\u003c/h1\u003e\n\u003ch2 id=\"overview\"\u003eOverview\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eObject\u003c/li\u003e\n\u003cli\u003eEncapsulation\u003c/li\u003e\n\u003cli\u003eInheritance\u003c/li\u003e\n\u003cli\u003eHandling variation\u003c/li\u003e\n\u003cli\u003eCommonality and variability analysis\u003c/li\u003e\n\u003cli\u003eAbstract class and its derived classes\u003c/li\u003e\n\u003c/ul\u003e","title":"Design Patterns Explained - CH8"},{"content":"Object-Oriented Paradigm Purpose: Explain why object-oriented paradigm over functional decomposition.\nNaive Problem If I were to give you the task of writing code to access a description of shapes that were stored in a database and then display them.\nå¦‚æœçµ¦ä½ ä¸€å€‹ä»»å‹™ï¼Œè¦ç·¨å¯«ä¸€æ®µç¨‹å¼ï¼Œå­˜å–åœ¨è³‡æ–™åº«ä¸­å„²å­˜çš„å½¢ç‹€æè¿°ï¼Œç„¶å¾Œå°‡å®ƒé¡¯ç¤ºå‡ºä¾†ã€‚\nStructural Programming thinking - possible steps Locate the list of shapes in the database. (åœ¨è³‡æ–™åº«ä¸­æ‰¾åˆ°å½¢ç‹€æ¸…å–®)ã€‚ Open up the list of shapes. (æ‰“é–‹å½¢ç‹€æ¸…å–®)ã€‚ Sort the list according to some rules. (ä¾ç…§æŸç¨®è¦å‰‡å°‡æ¸…å–®æ’åº)ã€‚ Display the individual shapes on the monitor. (åœ¨è¢å¹•ä¸Šé¡¯ç¤ºå„ç¨®å½¢ç‹€)ã€‚ Functional Decomposition (åŠŸèƒ½åˆ†è§£) 4a. Identify the type of shape. (è­˜åˆ¥å½¢ç‹€çš„é¡å‹)ã€‚ 4b. Get the location of the shape. (ç²å–å½¢ç‹€çš„ä½ç½®)ã€‚\n4c. Call the appropriate function that will display the shape, giving it the shapeâ€™s location. (ä»¥å½¢ç‹€çš„ä½ç½®ç‚ºåƒæ•¸ï¼Œå‘¼å«é¡¯ç¤ºå½¢ç‹€çš„ Function)ã€‚\nFunctional Decomposition çš„æŒ‘æˆ° å®ƒé€šå¸¸æœƒå°è‡´ä¸€å€‹**ä¸»**ç¨‹å¼è² è²¬æ§åˆ¶å­ç¨‹å¼(subprograms)ã€‚ é€™ä½¿å¾—ä¸»ç¨‹å¼æ‰€æ‰¿å—çš„è²¬ä»»å¤ªå¤šäº†ï¼šè¦å”èª¿å„ subprogramsï¼Œé‚„è¦æ§åˆ¶ä»–å€‘çš„é †åº (Why not delegation?)ã€‚ \u0026laquo;ä¸Šå¸ç‰©ä»¶ï¼šèƒ½è€…å¤šå‹\u0026raquo; å¦‚æœå°‡å¯¦ä½œå„æ­¥é©Ÿçš„æ‰€æœ‰é‚è¼¯éƒ½æ”¾åœ¨ä¸€å€‹å¤§ Function æˆ–å¤§ module çš„è©±ï¼Œå‰‡é€™äº›æ­¥é©Ÿçš„å¯¦è³ªæ€§è®ŠåŒ–ï¼Œéƒ½å¿…é ˆå°é€™å€‹ Function æˆ– module é€²è¡Œä¿®æ”¹ã€‚ \u0026laquo;å› æ‡‰è®ŠåŒ–çš„èƒ½åŠ›å·®\u0026raquo; è¨è«– éœ€æ±‚ç¸½æ˜¯åœ¨æ”¹è®Š (ä¸è®Šçš„çœŸç†)ã€‚ æˆ‘å€‘å¯èƒ½ä¸çŸ¥é“æœƒç™¼ç”Ÿä»€éº¼è®ŠåŒ–ï¼Œä½†æˆ‘å€‘èƒ½å¤ çŒœåˆ°å“ªè£¡æœƒè®ŠåŒ–ã€‚(OO æœ€å¤§çš„å„ªé»ä¹‹ä¸€ï¼Œå°±æ˜¯å¯ä»¥å°è£é€™äº›è®ŠåŒ–å€åŸŸ)ã€‚ èˆ‡å…¶æŠ±æ€¨éœ€è¦ç¸½æ˜¯æ”¹è®Šï¼Œä¸å¦‚æ”¹è®Šé–‹ç™¼æµç¨‹ï¼Œæœ‰æ•ˆçš„å› æ‡‰è®ŠåŒ–ã€‚ Dealing with Changes: Functional Decomposition 4c. Call the appropriate function that will display the shape, giving it the shapeâ€™s location. (ä»¥å½¢ç‹€çš„ä½ç½®ç‚ºåƒæ•¸ï¼Œå‘¼å«é¡¯ç¤ºå½¢ç‹€çš„ Function)ã€‚\nUsing Modularity to Contain Variation\nfunction: display shape input: type of shape, description of shape action: switch (type of shape) case square: put display function for square here case circle: put display function for circle here è¨è«– å¦‚æœè¦é¡¯ç¤ºä¸€å€‹æ–°çš„å½¢ç‹€(ä¾‹å¦‚ä¸‰è§’å½¢)ï¼Œæˆ‘å¯èƒ½åªéœ€è¦æ”¹é€™å€‹æ¨¡çµ„(å¸Œæœ›æ˜¯)ã€‚ é€™å€‹æ¨¡çµ„çš„è¼¸å…¥æ˜¯ type of shape, description of shapeï¼Œå¦‚æœä»Šå¤©ä½¿ç”¨ä¸åŒæ–¹å¼æä¾›è¼¸å…¥(ä¾‹å¦‚ array of points æˆ–å…¶ä»–æ–¹å¼)ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ Functional Decomposition å…©å€‹å¯èƒ½çš„å•é¡Œ Weak cohesion (Cohesion refers to how â€œclosely the operations in a routine are related; cohesion as clarity because the more that operations are related in a routine (or a class), the easier it is to understand things.) Tight Coupling (Coupling refers to â€œthe strength of a connection between two routines. Coupling is a complement to cohesion.) The goal is to create routines with internal integrity (strong cohesion) and small, direct, visible, and flexible relations to other routines (loose coupling).\nå¾æ—¥å¸¸ç”Ÿæ´»å€Ÿé¡ You are an instructor at a conference. People in your class have another class to attend following yours, but donâ€™t know where it is located. One of your responsibilities is to make sure everyone knows how to get to the next class.\nä½ çš„è²¬ä»»æ˜¯ç¢ºä¿å¤§å®¶çŸ¥é“æ€éº¼å»åˆ°ä¸‹ä¸€å ‚èª²çš„ä½ç½®ã€‚\nå¯èƒ½çš„æ­¥é©Ÿ Get list of people in the class. For each person on this list, do the following: Find the next class he or she is taking. Find the location of that class. Find the way to get from your classroom to the personâ€™s next class. Tell the person how to get to his or her next class. æ‰€ä»¥ä½ å¯èƒ½éœ€è¦é€™éº¼åš A way of getting the list of people in the class. A way of getting the schedule for each person in the class. A program that gives someone directions from your classrom to any other classroom. A control program that works for each person in the class and does the reuqired steps for each person. ä¸! ä½ æ‡‰è©²æœƒé€™æ¨£åš ä½ å¯èƒ½æœƒæŠŠå¾é€™å€‹æ•™å®¤åˆ°å…¶ä»–æ•™å®¤çš„è·¯ç·šè²¼å‡ºä¾†ï¼Œç„¶å¾Œå‘Šè¨´æ‰€æœ‰äººï¼šæˆ‘å€‘å·²ç¶“å°‡ä¸‹ä¸€å ‚èª²çš„åœ°é»å’Œå…¶ä»–æ•™å®¤çš„ä½ç½®éƒ½è²¼åœ¨å¾Œé¢äº†ï¼Œè«‹æ ¹æ“šå®ƒæ‰¾åˆ°ä½ å€‘ä¸‹ä¸€å ‚èª²çš„æ•™å®¤ã€‚\nYou would probably post directions to go from this classroom to the other classrooms and then tell everyone in the class, I have posted the locations of the classes following this in the back of the room, as well as the locations of the other classrooms. Please use them to go to your next classroom.\nå…©ç¨®ç­–ç•¥çš„å·®åˆ¥ Giving explicit directions to everyone. Giving general instructions and then expect the each person will figure out how to do the task individually. (è²¬ä»»è½‰ç§» delegation) éœ€æ±‚åˆæ”¹è®Šäº† å¦‚æœæˆ‘è¢«å‘ŠçŸ¥ï¼Œéœ€è¦çµ¦æ“”ä»»åŠ©æ•™å·¥ä½œçš„å­¸ç”Ÿä¸€äº›ç‰¹æ®ŠæŒ‡ç¤ºã€‚ä»–å€‘å¯èƒ½éœ€è¦åœ¨ä¸‹ä¸€å ‚èª²å‰æ”¶é›†æœ¬å ‚èª²å­¸ç”Ÿçš„è©•åƒ¹ï¼Œä¸¦ä¸”äº¤åˆ°è¾¦å…¬å®¤ã€‚\nç¬¬ä¸€ç¨®æ–¹å¼ï¼Œä¸å¾—ä¸æ”¹æ§åˆ¶ç¨‹å¼ï¼Œå€åˆ¥ç ”ç©¶ç”Ÿè·Ÿå¤§å­¸ç”Ÿï¼Œç„¶å¾Œçµ¦ç ”ç©¶ç”Ÿç‰¹åˆ¥çš„æŒ‡ç¤ºã€‚ ç¬¬äºŒç¨®æ–¹å¼ï¼Œåªéœ€è¦ç‚ºç ”ç©¶ç”Ÿå†ç·¨å¯«ä¸€å€‹ç¨‹å¼ï¼Œä½†æ§åˆ¶ç¨‹å¼ä»ç„¶åªéœ€è¦èªª: æ‰¾åˆ°ä½ å€‘çš„ä¸‹ä¸€å ‚æ•™å®¤ã€‚ ç‚ºä»€éº¼æœ‰é€™éº¼å¤§çš„å·®ç•° äººå€‘å°è‡ªå·±çš„è¡Œç‚ºè² è²¬ï¼Œè€Œä¸å†ç”±ä¸€å€‹ä¸­å¤®æ§åˆ¶ç¨‹å¼è² è²¬æ±ºå®šã€‚ æ§åˆ¶ç¨‹å¼å¯ä»¥èˆ‡ä¸åŒé¡å‹çš„å­¸ç”Ÿäº¤æµ(å¤§å­¸ç”Ÿæˆ–ç ”ç©¶ç”Ÿ)ã€‚ æ§åˆ¶ç¨‹å¼ä¸éœ€è¦çŸ¥é“å­¸ç”Ÿå¾é€™å€‹æ•™å®¤åˆ°ä¸‹ä¸€å€‹æ•™å®¤å¯èƒ½éœ€è¦æ¡å–çš„ä»»ä½•ç‰¹æ®Šæ­¥é©Ÿã€‚ è»Ÿé«”é–‹ç™¼çš„ä¸‰ç¨®è¦–è§’ Conceptual: è¡¨ç¤º domain conceptsï¼Œä¸ç®¡å¦‚ä½•å¯¦ä½œã€‚å›ç­”é€™å€‹å•é¡Œï¼šWhat am I responsibile for? Specification: é—œæ³¨è»Ÿé«”çš„ interfaceï¼Œä½†é‚„æ˜¯ä¸ç®¡å¦‚ä½•å¯¦ä½œã€‚å›ç­”é€™å€‹å•é¡Œï¼šHow am I used? Implementation: æˆ‘å€‘éƒ½å¾ˆç†Ÿã€‚å›ç­”é€™å€‹å•é¡Œï¼š How do I fulfill my responsibilities?\u0026quot; ä¸åŒè¦–è§’çš„ç”¨é€” æ¦‚å¿µå±¤æ¬¡ä¸Šçš„æºé€šï¼šä½ å‘Šè¨´å­¸ç”Ÿçš„æ˜¯ã€Œä½ è¦ä»–å€‘æ€éº¼åšã€ï¼Œè€Œä¸æ˜¯ã€Œå¦‚ä½•å»åšã€ã€‚ (you are telling people what you want, not how to do it.)\nåœ¨æ¦‚å¿µå±¤æ¬¡ä¸Šäº¤æµï¼Œè€Œåœ¨å¦ä¸€å±¤æ¬¡(å¯¦ä½œ)ä¸ŠåŸ·è¡Œï¼Œé€™æ¨£è¬›å¸«å°±ä¸éœ€è¦çŸ¥é“å…·é«”çš„å¯¦ä½œç´°ç¯€ã€‚åªéœ€è¦ä¸€èˆ¬æ€§ï¼Œæ¦‚å¿µæ€§çš„çŸ¥é“å³å¯ã€‚\næ•ˆåŠ›ï¼šåªè¦æ¦‚å¿µä¸è®Šï¼Œè«‹æ±‚è€…èˆ‡å¯¦ä½œç´°ç¯€çš„è®ŠåŒ–å°±è¢«éš”é›¢é–‹ä¾†ã€‚\nObject-Oriented Paradigm ä½¿ç”¨ç‰©ä»¶çš„å„ªé»åœ¨æ–¼ï¼Œå¯ä»¥å®šç¾©ç‰©ä»¶è² è²¬è‡ªå·±çš„äº‹å‹™ã€‚\nè¨è«– The objects were identified by looking at the entities in the problem domain. I identified the responsibilities (or methods) for each object by looking at what these entities need to do.\n\u0026ndash; â˜†â˜†â˜† ç†è§£ç‰©ä»¶çš„æœ€ä½³æ–¹å¼ â˜†â˜†â˜† å°‡å…¶çœ‹ç‚ºå…·æœ‰è²¬ä»»çš„æ±è¥¿ã€‚ç‰©ä»¶æ‡‰è©²è‡ªå·±è² è²¬è‡ªå·±ï¼Œè€Œä¸”æ‡‰è©²æ¸…æ¥šåœ°å®šç¾©è²¬ä»»ã€‚\nApply Fowler\u0026rsquo;s Perspectives At the conceptual level, an object is a set of responsibilities. (ä¸€çµ„è²¬ä»») At the specification level, an object is a set of methods (behaviors) that can be invoked by other objects or by itself. (ä¸€çµ„è¡Œç‚º) At the implementation level, an object is code and data and computational interactions between them. Object-Oriented Approach Start the control program. Instantiate the collection of students in the classroom. Tell the collection to have the students go to their next class. The collection tells each student to go to his or her next class. Each student: Finds where his next class is. Determines how to get there. Goes there. Done. Abstract and Polymorphism Student abstract class, GraduageStudent and RegularStudent classes. Abstract classes define what other, related, classes can do. Abstract classes act as placeholders for other classes. Collection åªéœ€è¦è™•ç† Student é€™å€‹ Concept (Abstract)ï¼Œæ¯ä¸€ç¨® Student éƒ½å¯ä»¥æŒ‰ç…§è‡ªå·±çš„æ–¹å¼å¯¦ä½œåŠŸèƒ½ (Concrete)ã€‚ ç•¶æˆ‘å€‘é€éæŠ½è±¡åƒè€ƒï¼Œæ¦‚å¿µæ€§çš„è¦æ±‚ç‰©ä»¶åšä»€éº¼æ™‚ï¼Œå°‡å¾—åˆ°ä¸åŒçš„è¡Œç‚ºï¼Œå…·é«”è¡Œç‚ºå–æ±ºæ–¼ Derived Class çš„å¯¦ä½œã€‚(Polymorphism) å›åˆ°ä¸€é–‹å§‹çš„å•é¡Œ Locate the list of shapes in the database. (åœ¨è³‡æ–™åº«ä¸­æ‰¾åˆ°å½¢ç‹€æ¸…å–®)ã€‚ Open up the list of shapes. (æ‰“é–‹å½¢ç‹€æ¸…å–®)ã€‚ Sort the list according to some rules. (ä¾ç…§æŸç¨®è¦å‰‡å°‡æ¸…å–®æ’åº)ã€‚ Display the individual shapes on the monitor. (åœ¨è¢å¹•ä¸Šé¡¯ç¤ºå„ç¨®å½¢ç‹€)ã€‚ Object-Oriented Approach (1/2) Object-Oriented Approach (2/2) ä¸»ç¨‹å¼å»ºç«‹ä¸€å€‹ ShapeDataBase ç‰©ä»¶ã€‚ ä¸»ç¨‹å¼è¦æ±‚ database object æ‰¾åˆ°æˆ‘æ„Ÿèˆˆè¶£çš„ä¸€çµ„å½¢ç‹€ï¼Œä¸¦ä¸” instantiate ä¸€å€‹ä¿å­˜é€™äº›å½¢ç‹€çš„ collection ç‰©ä»¶. ä¸»ç¨‹å¼è¦æ±‚ Collection ç‰©ä»¶æ’åºæ‰€å­˜æ”¾çš„å½¢ç‹€ã€‚ ä¸»ç¨‹å¼è¦æ±‚ Collection ç‰©ä»¶é¡¯ç¤ºå½¢ç‹€ã€‚ Collection ç‰©ä»¶è¦æ±‚æ‰€å­˜æ”¾çš„æ¯å€‹å½¢ç‹€é¡¯ç¤ºè‡ªå·±ã€‚ æ¯å€‹å½¢ç‹€æ ¹æ“šå½¢ç‹€ç¨®é¡é¡¯ç¤ºè‡ªå·±ã€‚ éœ€æ±‚åˆæ”¹è®Šäº† å¢åŠ æ–°çš„å½¢ç‹€ (ä¸‰è§’å½¢)\nå¢åŠ ä¸€å€‹æ–°çš„ä¸‰è§’å½¢ Concrete Class åœ¨æ­¤ Derived Class å¯¦ä½œè‡ªå·±çš„é¡¯ç¤ºæ–¹æ³•ã€‚ æ›´æ”¹æ’åºæ–¹å¼\nä¿®æ”¹ Collection çš„ Sorting algorithm çµæœï¼šThe object-oriented approach has limited the impact of changing requirements.\nå°è£çš„å„ªé» ä½¿ç”¨æ›´å®¹æ˜“ï¼Œå› ç‚ºä½¿ç”¨è€…ä¸å†éœ€è¦æ“”å¿ƒå¯¦ä½œå•é¡Œ å¯ä»¥åœ¨ä¸è€ƒæ…®å‘¼å«è€…çš„æƒ…æ³ä¸‹ä¿®æ”¹å¯¦ä½œ (å› ç‚ºå®ƒä¸€é–‹å§‹å°±ä¸çŸ¥é“ç‰©ä»¶æ€éº¼å¯¦ä½œçš„ depend on interface, not implementation) The internals of an object are unknown to other objects. (å°è£ä½¿ç‰©ä»¶å…§éƒ¨è¡Œç‚ºçš„è®ŠåŒ–å°å…¶ä»–ç‰©ä»¶è®Šå¾—é€æ˜äº† \u0026lt;ä¸å¯è¦‹\u0026gt;)ã€‚ Take away å°‡ç‰©ä»¶çœ‹ç‚ºå…·æœ‰è²¬ä»»çš„æ±è¥¿ã€‚ç‰©ä»¶æ‡‰è©²è‡ªå·±è² è²¬è‡ªå·±ï¼Œè€Œä¸”æ‡‰è©²æ¸…æ¥šåœ°å®šç¾©è²¬ä»»ã€‚ ç‰©ä»¶çœŸæ­£çš„å¨åŠ›ä¸åœ¨æ–¼ç¹¼æ‰¿ï¼Œè€Œæ˜¯ä¾†è‡ªæ–¼å°è£è¡Œç‚º(æ¡å–æ›´å»£ç¾©çš„å°è£å®šç¾©)ã€‚ OO æœ€å¤§çš„å„ªé»ä¹‹ä¸€ï¼Œå°±æ˜¯å¯ä»¥å°è£é€™äº›è®ŠåŒ–å€åŸŸã€‚ æŠ½è±¡èˆ‡è²¬ä»»è½‰å«çš„å¥½è™• (placeholder and delegation)ã€‚ ä¸‰ç¨®è¦–è§’çš„æ‡‰ç”¨ (åœ¨æŠ½è±¡å±¤æ¬¡ä¸Šæºé€šï¼Œåœ¨å¯¦ä½œå±¤æ¬¡ä¸ŠåŸ·è¡Œ)ã€‚ ","permalink":"https://blog2.cmwang.net/zh/posts/2017/01/design-patterns-explained-ch1/","summary":"\u003ch1 id=\"object-oriented-paradigm\"\u003eObject-Oriented Paradigm\u003c/h1\u003e\n\u003cp\u003ePurpose: Explain why object-oriented paradigm over functional decomposition.\u003c/p\u003e","title":"Design Patterns Explained - CH1"},{"content":"ä»¥å‰æ”¶é›†çš„ä¸€äº›å­¸ç¿’è³‡æºï¼Œå¹´ä»£æœ‰é»ä¹…é ï¼Œè«‹æ–Ÿé…Œåƒè€ƒã€‚\nResources [Design Pattern]è³‡æºç¸½æ•´ç† UML è»Ÿä»¶å·¥ç¨‹çµ„ç¹” åœ–èªªè¨­è¨ˆæ¨¡å¼ çœŸ OO æ— åŒ ä¹‹ çœŸä¹±èˆä¹¦ Source Making Best Practice Software Engineering ç™½è©± Rock çš„ç³»çµ±é–‹ç™¼é›œè¨˜ .Net è›¤ä»€éº¼? éé—œèªè¨€: è¨­è¨ˆæ¨¡å¼ OO Design Object-Oriented Software Engineering Go è¨€èªã§ã®æ§‹é€ é«”å®Ÿè£ãƒ‘ã‚¿ãƒ¼ãƒ³ Cloud Design Patterns: Prescriptive Architecture Guidance for Cloud Applications ","permalink":"https://blog2.cmwang.net/zh/posts/2017/01/design-patterns-resources/","summary":"ä¸€äº›è¨­è¨ˆæ¨¡å¼çš„é€£çµï¼Œå¹´ä»£æœ‰é»ä¹…äº†ï¼Œä¸æ˜¯å¾ˆå€¼å¾—åƒè€ƒäº†","title":"è¨­è¨ˆæ¨¡å¼å­¸ç¿’è³‡æº"}]